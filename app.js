function inStanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function classCallCheck(e,t){if(!inStanceof(e,t))throw new TypeError("Cannot call a class as a function")}function defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function createClass(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}!function(){"use strict";var r="undefined"!=typeof window&&void 0!==window.document?window.document:{},e="undefined"!=typeof module&&module.exports,i="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,o=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,o=t.length,s={};i<o;i++)if((e=t[i])&&e[1]in r){for(i=0;i<e.length;i++)s[t[0][i]]=e[i];return s}return!1}(),s={change:o.fullscreenchange,error:o.fullscreenerror},t={request:function(e){var t=o.requestFullscreen;e=e||r.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?e[t]():e[t](i?Element.ALLOW_KEYBOARD_INPUT:{})},exit:function(){r[o.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,t){var i=s[e];i&&r.addEventListener(i,t,!1)},off:function(e,t){var i=s[e];i&&r.removeEventListener(i,t,!1)},raw:o};o?(Object.defineProperties(t,{isFullscreen:{get:function(){return Boolean(r[o.fullscreenElement])}},element:{enumerable:!0,get:function(){return r[o.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(r[o.fullscreenEnabled])}}}),e?module.exports=t:window.screenfull=t):e?module.exports=!1:window.screenfull=!1}(),function(w){w.attrFn=w.attrFn||{};var e="ontouchstart"in window,b={tap_pixel_range:5,swipe_h_threshold:50,swipe_v_threshold:50,taphold_threshold:750,doubletap_int:500,touch_capable:e,orientation_support:"orientation"in window&&"onorientationchange"in window,startevent:e?"touchstart":"mousedown",endevent:e?"touchend":"mouseup",moveevent:e?"touchmove":"mousemove",tapevent:e?"tap":"click",scrollevent:e?"touchmove":"scroll",hold_timer:null,tap_timer:null};w.isTouchCapable=function(){return b.touch_capable},w.getStartEvent=function(){return b.startevent},w.getEndEvent=function(){return b.endevent},w.getMoveEvent=function(){return b.moveevent},w.getTapEvent=function(){return b.tapevent},w.getScrollEvent=function(){return b.scrollevent},w.each(["tapstart","tapend","tapmove","tap","tap2","tap3","tap4","singletap","doubletap","taphold","swipe","swipeup","swiperight","swipedown","swipeleft","swipeend","scrollstart","scrollend","orientationchange"],function(e,t){w.fn[t]=function(e){return e?this.on(t,e):this.trigger(t)},w.attrFn[t]=!0}),w.event.special.tapstart={setup:function(){var s=this,r=w(s);r.on(b.startevent,function e(t){if(r.data("callee",e),t.which&&1!==t.which)return!1;var i=t.originalEvent,o={position:{x:b.touch_capable?i.touches[0].screenX:t.screenX,y:b.touch_capable?i.touches[0].screenY:t.screenY},offset:{x:b.touch_capable?Math.round(i.changedTouches[0].pageX-(r.offset()?r.offset().left:0)):Math.round(t.pageX-(r.offset()?r.offset().left:0)),y:b.touch_capable?Math.round(i.changedTouches[0].pageY-(r.offset()?r.offset().top:0)):Math.round(t.pageY-(r.offset()?r.offset().top:0))},time:Date.now(),target:t.target};return y(s,"tapstart",t,o),!0})},remove:function(){w(this).off(b.startevent,w(this).data.callee)}},w.event.special.tapmove={setup:function(){var s=this,r=w(s);r.on(b.moveevent,function e(t){r.data("callee",e);var i=t.originalEvent,o={position:{x:b.touch_capable?i.touches[0].screenX:t.screenX,y:b.touch_capable?i.touches[0].screenY:t.screenY},offset:{x:b.touch_capable?Math.round(i.changedTouches[0].pageX-(r.offset()?r.offset().left:0)):Math.round(t.pageX-(r.offset()?r.offset().left:0)),y:b.touch_capable?Math.round(i.changedTouches[0].pageY-(r.offset()?r.offset().top:0)):Math.round(t.pageY-(r.offset()?r.offset().top:0))},time:Date.now(),target:t.target};return y(s,"tapmove",t,o),!0})},remove:function(){w(this).off(b.moveevent,w(this).data.callee)}},w.event.special.tapend={setup:function(){var s=this,r=w(s);r.on(b.endevent,function e(t){r.data("callee",e);var i=t.originalEvent,o={position:{x:b.touch_capable?i.changedTouches[0].screenX:t.screenX,y:b.touch_capable?i.changedTouches[0].screenY:t.screenY},offset:{x:b.touch_capable?Math.round(i.changedTouches[0].pageX-(r.offset()?r.offset().left:0)):Math.round(t.pageX-(r.offset()?r.offset().left:0)),y:b.touch_capable?Math.round(i.changedTouches[0].pageY-(r.offset()?r.offset().top:0)):Math.round(t.pageY-(r.offset()?r.offset().top:0))},time:Date.now(),target:t.target};return y(s,"tapend",t,o),!0})},remove:function(){w(this).off(b.endevent,w(this).data.callee)}},w.event.special.taphold={setup:function(){var u,p=this,f=w(p),m={x:0,y:0},g=0,v=0;f.on(b.startevent,function n(a){if(a.which&&1!==a.which)return!1;f.data("tapheld",!1),u=a.target;var l=a.originalEvent,c=Date.now(),d={x:b.touch_capable?l.touches[0].screenX:a.screenX,y:b.touch_capable?l.touches[0].screenY:a.screenY},h={x:b.touch_capable?l.touches[0].pageX-l.touches[0].target.offsetLeft:a.offsetX,y:b.touch_capable?l.touches[0].pageY-l.touches[0].target.offsetTop:a.offsetY};m.x=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageX:a.pageX,m.y=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageY:a.pageY,g=m.x,v=m.y;var e=f.parent().data("threshold")?f.parent().data("threshold"):f.data("threshold"),t=void 0!==e&&!1!==e&&parseInt(e)?parseInt(e):b.taphold_threshold;return b.hold_timer=window.setTimeout(function(){var e=m.x-g,t=m.y-v;if(a.target==u&&(m.x==g&&m.y==v||e>=-b.tap_pixel_range&&e<=b.tap_pixel_range&&t>=-b.tap_pixel_range&&t<=b.tap_pixel_range)){f.data("tapheld",!0);var i=Date.now(),o={x:b.touch_capable?l.touches[0].screenX:a.screenX,y:b.touch_capable?l.touches[0].screenY:a.screenY},s={x:b.touch_capable?Math.round(l.changedTouches[0].pageX-(f.offset()?f.offset().left:0)):Math.round(a.pageX-(f.offset()?f.offset().left:0)),y:b.touch_capable?Math.round(l.changedTouches[0].pageY-(f.offset()?f.offset().top:0)):Math.round(a.pageY-(f.offset()?f.offset().top:0))},r={startTime:c,endTime:i,startPosition:d,startOffset:h,endPosition:o,endOffset:s,duration:i-c,target:a.target};f.data("callee1",n),y(p,"taphold",a,r)}},t),!0}).on(b.endevent,function e(){f.data("callee2",e),f.data("tapheld",!1),window.clearTimeout(b.hold_timer)}).on(b.moveevent,function e(t){f.data("callee3",e),g=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,v=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY})},remove:function(){w(this).off(b.startevent,w(this).data.callee1).off(b.endevent,w(this).data.callee2).off(b.moveevent,w(this).data.callee3)}},w.event.special.doubletap={setup:function(){var n,a,l=this,c=w(l),d=null,h=!1;c.on(b.startevent,function e(t){return(!t.which||1===t.which)&&(c.data("doubletapped",!1),t.target,c.data("callee1",e),a=t.originalEvent,d||(d={position:{x:b.touch_capable?a.touches[0].screenX:t.screenX,y:b.touch_capable?a.touches[0].screenY:t.screenY},offset:{x:b.touch_capable?Math.round(a.changedTouches[0].pageX-(c.offset()?c.offset().left:0)):Math.round(t.pageX-(c.offset()?c.offset().left:0)),y:b.touch_capable?Math.round(a.changedTouches[0].pageY-(c.offset()?c.offset().top:0)):Math.round(t.pageY-(c.offset()?c.offset().top:0))},time:Date.now(),target:t.target,element:t.originalEvent.srcElement,index:w(t.target).index()}),!0)}).on(b.endevent,function e(t){var i=Date.now(),o=i-(c.data("lastTouch")||i+1);if(window.clearTimeout(n),c.data("callee2",e),o<b.doubletap_int&&w(t.target).index()==d.index&&100<o){c.data("doubletapped",!0),window.clearTimeout(b.tap_timer);var s={position:{x:b.touch_capable?t.originalEvent.changedTouches[0].screenX:t.screenX,y:b.touch_capable?t.originalEvent.changedTouches[0].screenY:t.screenY},offset:{x:b.touch_capable?Math.round(a.changedTouches[0].pageX-(c.offset()?c.offset().left:0)):Math.round(t.pageX-(c.offset()?c.offset().left:0)),y:b.touch_capable?Math.round(a.changedTouches[0].pageY-(c.offset()?c.offset().top:0)):Math.round(t.pageY-(c.offset()?c.offset().top:0))},time:Date.now(),target:t.target,element:t.originalEvent.srcElement,index:w(t.target).index()},r={firstTap:d,secondTap:s,interval:s.time-d.time};h||(y(l,"doubletap",t,r),d=null),h=!0,window.setTimeout(function(){h=!1},b.doubletap_int)}else c.data("lastTouch",i),n=window.setTimeout(function(){d=null,window.clearTimeout(n)},b.doubletap_int,[t]);c.data("lastTouch",i)})},remove:function(){w(this).off(b.startevent,w(this).data.callee1).off(b.endevent,w(this).data.callee2)}},w.event.special.singletap={setup:function(){var a=this,l=w(a),i=null,c=null,d={x:0,y:0};l.on(b.startevent,function e(t){return(!t.which||1===t.which)&&(c=Date.now(),i=t.target,l.data("callee1",e),d.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,d.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,!0)}).on(b.endevent,function e(s){if(l.data("callee2",e),s.target==i){var r=s.originalEvent.changedTouches?s.originalEvent.changedTouches[0].pageX:s.pageX,n=s.originalEvent.changedTouches?s.originalEvent.changedTouches[0].pageY:s.pageY;b.tap_timer=window.setTimeout(function(){var e=d.x-r,t=d.y-n;if(!l.data("doubletapped")&&!l.data("tapheld")&&(d.x==r&&d.y==n||e>=-b.tap_pixel_range&&e<=b.tap_pixel_range&&t>=-b.tap_pixel_range&&t<=b.tap_pixel_range)){var i=s.originalEvent,o={position:{x:b.touch_capable?i.changedTouches[0].screenX:s.screenX,y:b.touch_capable?i.changedTouches[0].screenY:s.screenY},offset:{x:b.touch_capable?Math.round(i.changedTouches[0].pageX-(l.offset()?l.offset().left:0)):Math.round(s.pageX-(l.offset()?l.offset().left:0)),y:b.touch_capable?Math.round(i.changedTouches[0].pageY-(l.offset()?l.offset().top:0)):Math.round(s.pageY-(l.offset()?l.offset().top:0))},time:Date.now(),target:s.target};o.time-c<b.taphold_threshold&&y(a,"singletap",s,o)}},b.doubletap_int)}})},remove:function(){w(this).off(b.startevent,w(this).data.callee1).off(b.endevent,w(this).data.callee2)}},w.event.special.tap={setup:function(){var d,h,u=this,p=w(u),f=!1,m=null,g={x:0,y:0};p.on(b.startevent,function e(t){return p.data("callee1",e),(!t.which||1===t.which)&&(f=!0,g.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,g.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,d=Date.now(),m=t.target,h=t.originalEvent.targetTouches?t.originalEvent.targetTouches:[t],!0)}).on(b.endevent,function e(t){p.data("callee2",e);var i=t.originalEvent.targetTouches?t.originalEvent.changedTouches[0].pageX:t.pageX,o=t.originalEvent.targetTouches?t.originalEvent.changedTouches[0].pageY:t.pageY,s=g.x-i,r=g.y-o;if(m==t.target&&f&&Date.now()-d<b.taphold_threshold&&(g.x==i&&g.y==o||s>=-b.tap_pixel_range&&s<=b.tap_pixel_range&&r>=-b.tap_pixel_range&&r<=b.tap_pixel_range)){for(var n=t.originalEvent,a=[],l=0;l<h.length;l++){var c={position:{x:b.touch_capable?n.changedTouches[l].screenX:t.screenX,y:b.touch_capable?n.changedTouches[l].screenY:t.screenY},offset:{x:b.touch_capable?Math.round(n.changedTouches[l].pageX-(p.offset()?p.offset().left:0)):Math.round(t.pageX-(p.offset()?p.offset().left:0)),y:b.touch_capable?Math.round(n.changedTouches[l].pageY-(p.offset()?p.offset().top:0)):Math.round(t.pageY-(p.offset()?p.offset().top:0))},time:Date.now(),target:t.target};a.push(c)}y(u,"tap",t,a)}})},remove:function(){w(this).off(b.startevent,w(this).data.callee1).off(b.endevent,w(this).data.callee2)}},w.event.special.swipe={setup:function(){var u,p=w(this),f=!1,m=!1,g={x:0,y:0},v={x:0,y:0};p.on(b.startevent,function e(t){(p=w(t.currentTarget)).data("callee1",e),g.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,g.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,v.x=g.x,v.y=g.y,f=!0;var i=t.originalEvent;u={position:{x:b.touch_capable?i.touches[0].screenX:t.screenX,y:b.touch_capable?i.touches[0].screenY:t.screenY},offset:{x:b.touch_capable?Math.round(i.changedTouches[0].pageX-(p.offset()?p.offset().left:0)):Math.round(t.pageX-(p.offset()?p.offset().left:0)),y:b.touch_capable?Math.round(i.changedTouches[0].pageY-(p.offset()?p.offset().top:0)):Math.round(t.pageY-(p.offset()?p.offset().top:0))},time:Date.now(),target:t.target}}),p.on(b.moveevent,function e(t){var i;(p=w(t.currentTarget)).data("callee2",e),v.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,v.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY;var o=p.parent().data("xthreshold")?p.parent().data("xthreshold"):p.data("xthreshold"),s=p.parent().data("ythreshold")?p.parent().data("ythreshold"):p.data("ythreshold"),r=void 0!==o&&!1!==o&&parseInt(o)?parseInt(o):b.swipe_h_threshold,n=void 0!==s&&!1!==s&&parseInt(s)?parseInt(s):b.swipe_v_threshold;if(g.y>v.y&&g.y-v.y>n&&(i="swipeup"),g.x<v.x&&v.x-g.x>r&&(i="swiperight"),g.y<v.y&&v.y-g.y>n&&(i="swipedown"),g.x>v.x&&g.x-v.x>r&&(i="swipeleft"),null!=i&&f){g.x=0,g.y=0,v.x=0,v.y=0,f=!1;var a=t.originalEvent,l={position:{x:b.touch_capable?a.touches[0].screenX:t.screenX,y:b.touch_capable?a.touches[0].screenY:t.screenY},offset:{x:b.touch_capable?Math.round(a.changedTouches[0].pageX-(p.offset()?p.offset().left:0)):Math.round(t.pageX-(p.offset()?p.offset().left:0)),y:b.touch_capable?Math.round(a.changedTouches[0].pageY-(p.offset()?p.offset().top:0)):Math.round(t.pageY-(p.offset()?p.offset().top:0))},time:Date.now(),target:t.target},c=Math.abs(u.position.x-l.position.x),d=Math.abs(u.position.y-l.position.y),h={startEvnt:u,endEvnt:l,direction:i.replace("swipe",""),xAmount:c,yAmount:d,duration:l.time-u.time};m=!0,p.trigger("swipe",h).trigger(i,h)}}),p.on(b.endevent,function e(t){var i="";if((p=w(t.currentTarget)).data("callee3",e),m){var o=p.data("xthreshold"),s=p.data("ythreshold"),r=void 0!==o&&!1!==o&&parseInt(o)?parseInt(o):b.swipe_h_threshold,n=void 0!==s&&!1!==s&&parseInt(s)?parseInt(s):b.swipe_v_threshold,a=t.originalEvent,l={position:{x:b.touch_capable?a.changedTouches[0].screenX:t.screenX,y:b.touch_capable?a.changedTouches[0].screenY:t.screenY},offset:{x:b.touch_capable?Math.round(a.changedTouches[0].pageX-(p.offset()?p.offset().left:0)):Math.round(t.pageX-(p.offset()?p.offset().left:0)),y:b.touch_capable?Math.round(a.changedTouches[0].pageY-(p.offset()?p.offset().top:0)):Math.round(t.pageY-(p.offset()?p.offset().top:0))},time:Date.now(),target:t.target};u.position.y>l.position.y&&u.position.y-l.position.y>n&&(i="swipeup"),u.position.x<l.position.x&&l.position.x-u.position.x>r&&(i="swiperight"),u.position.y<l.position.y&&l.position.y-u.position.y>n&&(i="swipedown"),u.position.x>l.position.x&&u.position.x-l.position.x>r&&(i="swipeleft");var c=Math.abs(u.position.x-l.position.x),d=Math.abs(u.position.y-l.position.y),h={startEvnt:u,endEvnt:l,direction:i.replace("swipe",""),xAmount:c,yAmount:d,duration:l.time-u.time};p.trigger("swipeend",h)}m=f=!1})},remove:function(){w(this).off(b.startevent,w(this).data.callee1).off(b.moveevent,w(this).data.callee2).off(b.endevent,w(this).data.callee3)}},w.event.special.scrollstart={setup:function(){var i,o,s=this,r=w(s);function n(e,t){y(s,(i=t)?"scrollstart":"scrollend",e)}r.on(b.scrollevent,function e(t){r.data("callee",e),i||n(t,!0),clearTimeout(o),o=setTimeout(function(){n(t,!1)},50)})},remove:function(){w(this).off(b.scrollevent,w(this).data.callee)}};var i,t,o,s,r=w(window),n={0:!0,180:!0};if(b.orientation_support){var a=window.innerWidth||r.width(),l=window.innerHeight||r.height();o=l<a&&50<a-l,s=n[window.orientation],(o&&s||!o&&!s)&&(n={"-90":!0,90:!0})}function c(){var e=i();e!==t&&(t=e,r.trigger("orientationchange"))}w.event.special.orientationchange={setup:function(){return!b.orientation_support&&(t=i(),r.on("throttledresize",c),!0)},teardown:function(){return!b.orientation_support&&(r.off("throttledresize",c),!0)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=i(),t.apply(this,arguments)}}},w.event.special.orientationchange.orientation=i=function(){var e=document.documentElement;return(b.orientation_support?n[window.orientation]:e&&e.clientWidth/e.clientHeight<1.1)?"portrait":"landscape"},w.event.special.throttledresize={setup:function(){w(this).on("resize",p)},teardown:function(){w(this).off("resize",p)}};var d,h,u,p=function(){h=Date.now(),250<=(u=h-f)?(f=h,w(this).trigger("throttledresize")):(d&&window.clearTimeout(d),d=window.setTimeout(c,250-u))},f=0;function y(e,t,i,o){var s=i.type;i.type=t,w.event.dispatch.call(e,i,o),i.type=s}w.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe",tap2:"tap"},function(e,t){w.event.special[e]={setup:function(){w(this).on(t,w.noop)}}})}(jQuery),function(n){function t(e,t,i,o){var s=e.text().split(t),r="";s.length&&(n(s).each(function(e,t){r+='<span class="'+i+(e+1)+'">'+t+"</span>"+o}),e.empty().append(r))}var i={init:function(){return this.each(function(){t(n(this),"","char","")})},words:function(){return this.each(function(){t(n(this)," ","word"," ")})},lines:function(){return this.each(function(){var e="eefec303079ad17405c889e092e105b0";t(n(this).children("br").replaceWith(e).end(),e,"line","")})}};n.fn.lettering=function(e){return e&&i[e]?i[e].apply(this,[].slice.call(arguments,1)):"letters"!==e&&e?(n.error("Method "+e+" does not exist on jQuery.lettering"),this):i.init.apply(this,[].slice.call(arguments,0))}}(jQuery),function(r){r.easing.jswing=r.easing.swing,r.extend(r.easing,{def:"easeOutQuad",swing:function(e,t,i,o,s){return r.easing[r.easing.def](e,t,i,o,s)},easeInQuad:function(e,t,i,o,s){return o*(t/=s)*t+i},easeOutQuad:function(e,t,i,o,s){return-o*(t/=s)*(t-2)+i},easeInOutQuad:function(e,t,i,o,s){return(t/=s/2)<1?o/2*t*t+i:-o/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,o,s){return o*(t/=s)*t*t+i},easeOutCubic:function(e,t,i,o,s){return o*((t=t/s-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,o,s){return(t/=s/2)<1?o/2*t*t*t+i:o/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,o,s){return o*(t/=s)*t*t*t+i},easeOutQuart:function(e,t,i,o,s){return-o*((t=t/s-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,o,s){return(t/=s/2)<1?o/2*t*t*t*t+i:-o/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,o,s){return o*(t/=s)*t*t*t*t+i},easeOutQuint:function(e,t,i,o,s){return o*((t=t/s-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,o,s){return(t/=s/2)<1?o/2*t*t*t*t*t+i:o/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,o,s){return-o*Math.cos(t/s*(Math.PI/2))+o+i},easeOutSine:function(e,t,i,o,s){return o*Math.sin(t/s*(Math.PI/2))+i},easeInOutSine:function(e,t,i,o,s){return-o/2*(Math.cos(Math.PI*t/s)-1)+i},easeInExpo:function(e,t,i,o,s){return 0==t?i:o*Math.pow(2,10*(t/s-1))+i},easeOutExpo:function(e,t,i,o,s){return t==s?i+o:o*(1-Math.pow(2,-10*t/s))+i},easeInOutExpo:function(e,t,i,o,s){return 0==t?i:t==s?i+o:(t/=s/2)<1?o/2*Math.pow(2,10*(t-1))+i:o/2*(2-Math.pow(2,-10*--t))+i},easeInCirc:function(e,t,i,o,s){return-o*(Math.sqrt(1-(t/=s)*t)-1)+i},easeOutCirc:function(e,t,i,o,s){return o*Math.sqrt(1-(t=t/s-1)*t)+i},easeInOutCirc:function(e,t,i,o,s){return(t/=s/2)<1?-o/2*(Math.sqrt(1-t*t)-1)+i:o/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,o,s){var r=1.70158,n=0,a=o;if(0==t)return i;if(1==(t/=s))return i+o;if(n||(n=.3*s),a<Math.abs(o)){a=o;r=n/4}else r=n/(2*Math.PI)*Math.asin(o/a);return-a*Math.pow(2,10*(t-=1))*Math.sin((t*s-r)*(2*Math.PI)/n)+i},easeOutElastic:function(e,t,i,o,s){var r=1.70158,n=0,a=o;if(0==t)return i;if(1==(t/=s))return i+o;if(n||(n=.3*s),a<Math.abs(o)){a=o;r=n/4}else r=n/(2*Math.PI)*Math.asin(o/a);return a*Math.pow(2,-10*t)*Math.sin((t*s-r)*(2*Math.PI)/n)+o+i},easeInOutElastic:function(e,t,i,o,s){var r=1.70158,n=0,a=o;if(0==t)return i;if(2==(t/=s/2))return i+o;if(n||(n=s*(.3*1.5)),a<Math.abs(o)){a=o;r=n/4}else r=n/(2*Math.PI)*Math.asin(o/a);return t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*s-r)*(2*Math.PI)/n)*-.5+i:a*Math.pow(2,-10*(t-=1))*Math.sin((t*s-r)*(2*Math.PI)/n)*.5+o+i},easeInBack:function(e,t,i,o,s,r){return null==r&&(r=1.70158),o*(t/=s)*t*((r+1)*t-r)+i},easeOutBack:function(e,t,i,o,s,r){return null==r&&(r=1.70158),o*((t=t/s-1)*t*((r+1)*t+r)+1)+i},easeInOutBack:function(e,t,i,o,s,r){return null==r&&(r=1.70158),(t/=s/2)<1?o/2*(t*t*((1+(r*=1.525))*t-r))+i:o/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+i},easeInBounce:function(e,t,i,o,s){return o-r.easing.easeOutBounce(e,s-t,0,o,s)+i},easeOutBounce:function(e,t,i,o,s){return(t/=s)<1/2.75?o*(7.5625*t*t)+i:t<2/2.75?o*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?o*(7.5625*(t-=2.25/2.75)*t+.9375)+i:o*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(e,t,i,o,s){return t<s/2?.5*r.easing.easeInBounce(e,2*t,0,o,s)+i:.5*r.easing.easeOutBounce(e,2*t-s,0,o,s)+.5*o+i}})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(c){var d,h,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],t="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],u=Array.prototype.slice;if(c.event.fixHooks)for(var i=e.length;i;)c.event.fixHooks[e[--i]]=c.event.mouseHooks;var o=c.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],s,!1);else this.onmousewheel=s;c.data(this,"mousewheel-line-height",o.getLineHeight(this)),c.data(this,"mousewheel-page-height",o.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],s,!1);else this.onmousewheel=null},getLineHeight:function(e){return parseInt(c(e)["offsetParent"in c.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(e){return c(e).height()},settings:{adjustOldDeltas:!0}};function s(e){var t,i=e||window.event,o=u.call(arguments,1),s=0,r=0,n=0;if((e=c.event.fix(i)).type="mousewheel","detail"in i&&(n=-1*i.detail),"wheelDelta"in i&&(n=i.wheelDelta),"wheelDeltaY"in i&&(n=i.wheelDeltaY),"wheelDeltaX"in i&&(r=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(r=-1*n,n=0),s=0===n?r:n,"deltaY"in i&&(s=n=-1*i.deltaY),"deltaX"in i&&(r=i.deltaX,0===n&&(s=-1*r)),0!==n||0!==r){if(1===i.deltaMode){var a=c.data(this,"mousewheel-line-height");s*=a,n*=a,r*=a}else if(2===i.deltaMode){var l=c.data(this,"mousewheel-page-height");s*=l,n*=l,r*=l}return t=Math.max(Math.abs(n),Math.abs(r)),(!h||t<h)&&f(i,h=t)&&(h/=40),f(i,t)&&(s/=40,r/=40,n/=40),s=Math[1<=s?"floor":"ceil"](s/h),r=Math[1<=r?"floor":"ceil"](r/h),n=Math[1<=n?"floor":"ceil"](n/h),e.deltaX=r,e.deltaY=n,e.deltaFactor=h,e.deltaMode=0,o.unshift(e,s,r,n),d&&clearTimeout(d),d=setTimeout(p,200),(c.event.dispatch||c.event.handle).apply(this,o)}}function p(){h=null}function f(e,t){return o.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}c.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(s){function r(e){var t=e.data("_ARS_data");return t||(t={rotateUnits:"deg",scale:1,rotate:0},e.data("_ARS_data",t)),t}function n(e,t){e.css("transform","rotate("+t.rotate+t.rotateUnits+") scale("+t.scale+","+t.scale+")")}s.fn.rotate=function(e){var t,i=s(this),o=r(i);return void 0===e?o.rotate+o.rotateUnits:((t=e.toString().match(/^(-?\d+(\.\d+)?)(.+)?$/))&&(t[3]&&(o.rotateUnits=t[3]),o.rotate=t[1],n(i,o)),this)},s.fn.scale=function(e){var t=s(this),i=r(t);return void 0===e?i.scale:(i.scale=e,n(t,i),this)};var e=s.fx.prototype.cur;s.fx.prototype.cur=function(){return"rotate"==this.prop?parseFloat(s(this.elem).rotate()):"scale"==this.prop?parseFloat(s(this.elem).scale()):e.apply(this,arguments)},s.fx.step.rotate=function(e){var t=r(s(e.elem));s(e.elem).rotate(e.now+t.rotateUnits)},s.fx.step.scale=function(e){s(e.elem).scale(e.now)};var i=s.fn.animate;s.fn.animate=function(e){if(void 0!==e.rotate){var t=e.rotate.toString().match(/^(([+-]=)?(-?\d+(\.\d+)?))(.+)?$/);t&&t[5]&&(r(s(this)).rotateUnits=t[5]),e.rotate=t[1]}return i.apply(this,arguments)}}(jQuery),function(l){"use strict";var e="draptouch-active";window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}),l.support=l.support||{},l.extend(l.support,{touch:"ontouchend"in document});var i=function(){return!1},r=function(e,t){return this.settings=t,this.el=e,this.$el=l(e),this._initElements(),this};r.DATA_KEY="draptouch",r.DEFAULTS={cursor:"",decelerate:!0,triggerHardware:!0,threshold:0,y:!0,x:!0,slowdown:.9,maxvelocity:60,throttleFPS:80,movingClass:{up:"draptouch-moving-up",down:"draptouch-moving-down",left:"draptouch-moving-left",right:"draptouch-moving-right"},deceleratingClass:{up:"draptouch-decelerating-up",down:"draptouch-decelerating-down",left:"draptouch-decelerating-left",right:"draptouch-decelerating-right"}},r.prototype.start=function(e){this.settings=l.extend(this.settings,e),this.velocity=e.velocity||this.velocity,this.velocityY=e.velocityY||this.velocityY,this.settings.decelerate=!1,this._move()},r.prototype.end=function(){this.settings.decelerate=!0},r.prototype.stop=function(){this.velocity=0,this.velocityY=0,this.settings.decelerate=!0,l.isFunction(this.settings.stopped)&&this.settings.stopped.call(this)},r.prototype.detach=function(){this._detachListeners(),this.$el.removeClass(e).css("cursor","")},r.prototype.attach=function(){this.$el.hasClass(e)||(this._attachListeners(this.$el),this.$el.addClass(e).css("cursor",this.settings.cursor))},r.prototype._initElements=function(){this.$el.addClass(e),l.extend(this,{xpos:null,prevXPos:!1,ypos:null,prevYPos:!1,mouseDown:!1,throttleTimeout:1e3/this.settings.throttleFPS,lastMove:null,elementFocused:null}),this.velocity=0,this.velocityY=0,l(document).mouseup(l.proxy(this._resetMouse,this)).click(l.proxy(this._resetMouse,this)),this._initEvents(),this.$el.css("cursor",this.settings.cursor),this.settings.triggerHardware&&this.$el.css({"-webkit-transform":"translate3d(0,0,0)","-webkit-perspective":"1000","-webkit-backface-visibility":"hidden"})},r.prototype._initEvents=function(){var i=this;this.settings.events={touchStart:function(e){var t;i._useTarget(e.target,e)&&(t=e.originalEvent.touches[0],i.threshold=i._threshold(e.target,e),i._start(t.clientX,t.clientY),e.stopPropagation())},touchMove:function(e){var t;i.mouseDown&&(t=e.originalEvent.touches[0],i._inputmove(t.clientX,t.clientY),e.preventDefault&&e.preventDefault())},inputDown:function(e){i._useTarget(e.target,e)&&(i.threshold=i._threshold(e.target,e),i._start(e.clientX,e.clientY),i.elementFocused=e.target,"IMG"===e.target.nodeName&&e.preventDefault(),e.stopPropagation())},inputEnd:function(e){i._useTarget(e.target,e)&&(i._end(),i.elementFocused=null,e.preventDefault&&e.preventDefault())},inputMove:function(e){i.mouseDown&&(i._inputmove(e.clientX,e.clientY),e.preventDefault&&e.preventDefault())},scroll:function(e){l.isFunction(i.settings.moved)&&i.settings.moved.call(i,i.settings),e.preventDefault&&e.preventDefault()},inputClick:function(e){if(0<Math.abs(i.velocity))return e.preventDefault(),!1},dragStart:function(e){if(i._useTarget(e.target,e)&&i.elementFocused)return!1}},this._attachListeners(this.$el,this.settings)},r.prototype._inputmove=function(e,t){var i=this.$el;this.el;if((!this.lastMove||new Date>new Date(this.lastMove.getTime()+this.throttleTimeout))&&(this.lastMove=new Date,this.mouseDown&&(this.xpos||this.ypos))){var o=e-this.xpos,s=t-this.ypos;if(0<this.threshold){var r=Math.sqrt(o*o+s*s);if(this.threshold>r)return;this.threshold=0}this.elementFocused&&(l(this.elementFocused).blur(),this.elementFocused=null,i.focus()),this.settings.decelerate=!1,this.velocity=this.velocityY=0;var n=this.scrollLeft(),a=this.scrollTop();this.scrollLeft(this.settings.x?n-o:n),this.scrollTop(this.settings.y?a-s:a),this.prevXPos=this.xpos,this.prevYPos=this.ypos,this.xpos=e,this.ypos=t,this._calculateVelocities(),this._setMoveClasses(this.settings.movingClass),l.isFunction(this.settings.moved)&&this.settings.moved.call(this,this.settings)}},r.prototype._calculateVelocities=function(){this.velocity=this._capVelocity(this.prevXPos-this.xpos,this.settings.maxvelocity),this.velocityY=this._capVelocity(this.prevYPos-this.ypos,this.settings.maxvelocity)},r.prototype._end=function(){this.xpos&&this.prevXPos&&!1===this.settings.decelerate&&(this.settings.decelerate=!0,this._calculateVelocities(),this.xpos=this.prevXPos=this.mouseDown=!1,this._move())},r.prototype._useTarget=function(e,t){return!l.isFunction(this.settings.filterTarget)||!1!==this.settings.filterTarget.call(this,e,t)},r.prototype._threshold=function(e,t){return l.isFunction(this.settings.threshold)?this.settings.threshold.call(this,e,t):this.settings.threshold},r.prototype._start=function(e,t){this.mouseDown=!0,this.velocity=this.prevXPos=0,this.velocityY=this.prevYPos=0,this.xpos=e,this.ypos=t},r.prototype._resetMouse=function(){this.xpos=!1,this.ypos=!1,this.mouseDown=!1},r.prototype._decelerateVelocity=function(e,t){return 0===Math.floor(Math.abs(e))?0:e*t},r.prototype._capVelocity=function(e,t){var i=e;return 0<e?t<e&&(i=t):e<0-t&&(i=0-t),i},r.prototype._setMoveClasses=function(e){var t=this.settings,i=this.$el;i.removeClass(t.movingClass.up).removeClass(t.movingClass.down).removeClass(t.movingClass.left).removeClass(t.movingClass.right).removeClass(t.deceleratingClass.up).removeClass(t.deceleratingClass.down).removeClass(t.deceleratingClass.left).removeClass(t.deceleratingClass.right),0<this.velocity&&i.addClass(e.right),this.velocity<0&&i.addClass(e.left),0<this.velocityY&&i.addClass(e.down),this.velocityY<0&&i.addClass(e.up)},r.prototype._move=function(){this.$el;var e=this.el,t=this,i=t.settings;i.x&&0<e.scrollWidth?(this.scrollLeft(this.scrollLeft()+this.velocity),0<Math.abs(this.velocity)&&(this.velocity=i.decelerate?t._decelerateVelocity(this.velocity,i.slowdown):this.velocity)):this.velocity=0,i.y&&0<e.scrollHeight?(this.scrollTop(this.scrollTop()+this.velocityY),0<Math.abs(this.velocityY)&&(this.velocityY=i.decelerate?t._decelerateVelocity(this.velocityY,i.slowdown):this.velocityY)):this.velocityY=0,t._setMoveClasses(i.deceleratingClass),l.isFunction(i.moved)&&i.moved.call(this,i),0<Math.abs(this.velocity)||0<Math.abs(this.velocityY)?this.moving||(this.moving=!0,window.requestAnimationFrame(function(){t.moving=!1,t._move()})):t.stop()},r.prototype._getScroller=function(){var e=this.$el;return(this.$el.is("body")||this.$el.is("html"))&&(e=l(window)),e},r.prototype.scrollLeft=function(e){var t=this._getScroller();if("number"!=typeof e)return t.scrollLeft();t.scrollLeft(e),this.settings.scrollLeft=e},r.prototype.scrollTop=function(e){var t=this._getScroller();if("number"!=typeof e)return t.scrollTop();t.scrollTop(e),this.settings.scrollTop=e},r.prototype._attachListeners=function(){var e=this.$el,t=this.settings;l.support.touch&&e.bind("touchstart",t.events.touchStart).bind("touchend",t.events.inputEnd).bind("touchmove",t.events.touchMove),e.mousedown(t.events.inputDown).mouseup(t.events.inputEnd).mousemove(t.events.inputMove),e.click(t.events.inputClick).scroll(t.events.scroll).bind("selectstart",i).bind("dragstart",t.events.dragStart)},r.prototype._detachListeners=function(){var e=this.$el,t=this.settings;l.support.touch&&e.unbind("touchstart",t.events.touchStart).unbind("touchend",t.events.inputEnd).unbind("touchmove",t.events.touchMove),e.unbind("mousedown",t.events.inputDown).unbind("mouseup",t.events.inputEnd).unbind("mousemove",t.events.inputMove),e.unbind("click",t.events.inputClick).unbind("scroll",t.events.scroll).unbind("selectstart",i).unbind("dragstart",t.events.dragStart)},l.DrapTouch=r,l.fn.draptouch=function(o,s){return this.each(function(){var e=l(this),t=e.data(r.DATA_KEY),i=l.extend({},r.DEFAULTS,e.data(),"object"==typeof o&&o);t||e.data(r.DATA_KEY,t=new r(this,i)),"string"==typeof o&&t[o](s)})}}(window.jQuery||window.Zepto),function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var i={};t(i),e.PinchZoom=i}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var s=arguments[o];if(null!=s)for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}return i},writable:!0,configurable:!0}),"function"!=typeof Array.from&&(Array.from=function(e){return[].slice.call(e)});var r=function(e,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!1),e.dispatchEvent(i)},t=function(){var e=function(e,t){this.el=e,this.zoomFactor=1,this.lastScale=1,this.offset={x:0,y:0},this.initialOffset={x:0,y:0},this.options=Object.assign({},this.defaults,t),this.setupMarkup(),this.bindEvents(),this.update(),this.isImageLoaded(this.el)&&(this.updateAspectRatio(),this.setupInitialOffset()),this.enable()},t=function(e,t){return e+t};e.prototype={defaults:{tapZoomFactor:2,zoomOutFactor:1.3,animationDuration:300,maxZoom:6,minZoom:.5,draggableUnzoomed:!0,lockDragAxis:!1,use2d:!0,zoomStartEventName:"pz_zoomstart",zoomUpdateEventName:"pz_zoomupdate",zoomEndEventName:"pz_zoomend",dragStartEventName:"pz_dragstart",dragUpdateEventName:"pz_dragupdate",dragEndEventName:"pz_dragend",doubleTapEventName:"pz_doubletap",verticalPadding:0,horizontalPadding:0},handleDragStart:function(e){r(this.el,this.options.dragStartEventName),this.stopAnimation(),this.lastDragPosition=!1,this.hasInteraction=!0,this.handleDrag(e)},handleDrag:function(e){var t=this.getTouches(e)[0];this.drag(t,this.lastDragPosition),this.offset=this.sanitizeOffset(this.offset),this.lastDragPosition=t},handleDragEnd:function(){r(this.el,this.options.dragEndEventName),this.end()},handleZoomStart:function(e){r(this.el,this.options.zoomStartEventName),this.stopAnimation(),this.lastScale=1,this.nthZoom=0,this.lastZoomCenter=!1,this.hasInteraction=!0},handleZoom:function(e,t){var i=this.getTouchCenter(this.getTouches(e)),o=t/this.lastScale;this.lastScale=t,this.nthZoom+=1,3<this.nthZoom&&(this.scale(o,i),this.drag(i,this.lastZoomCenter)),this.lastZoomCenter=i},handleZoomEnd:function(){r(this.el,this.options.zoomEndEventName),this.end()},handleDoubleTap:function(e){var t=this.getTouches(e)[0],i=1<this.zoomFactor?1:this.options.tapZoomFactor,o=this.zoomFactor,s=function(e){this.scaleTo(o+e*(i-o),t)}.bind(this);this.hasInteraction||(this.isDoubleTap=!0,i<o&&(t=this.getCurrentZoomCenter()),this.animate(this.options.animationDuration,s,this.swing),r(this.el,this.options.doubleTapEventName))},computeInitialOffset:function(){this.initialOffset={x:-Math.abs(this.el.offsetWidth*this.getInitialZoomFactor()-this.container.offsetWidth)/2,y:-Math.abs(this.el.offsetHeight*this.getInitialZoomFactor()-this.container.offsetHeight)/2}},isImageLoaded:function(e){return"IMG"===e.nodeName?e.complete&&0!==e.naturalHeight:Array.from(e.querySelectorAll("img")).every(this.isImageLoaded)},setupInitialOffset:function(){this._initialOffsetSetup||(this._initialOffsetSetup=!0,this.computeInitialOffset(),this.offset.x=this.initialOffset.x,this.offset.y=this.initialOffset.y)},sanitizeOffset:function(e){var t=this.el.offsetWidth*this.getInitialZoomFactor()*this.zoomFactor,i=this.el.offsetHeight*this.getInitialZoomFactor()*this.zoomFactor,o=t-this.getContainerX()+this.options.horizontalPadding,s=i-this.getContainerY()+this.options.verticalPadding,r=Math.max(o,0),n=Math.max(s,0),a=Math.min(o,0)-this.options.horizontalPadding,l=Math.min(s,0)-this.options.verticalPadding;return{x:Math.min(Math.max(e.x,a),r),y:Math.min(Math.max(e.y,l),n)}},scaleTo:function(e,t){this.scale(e/this.zoomFactor,t)},scale:function(e,t){e=this.scaleZoomFactor(e),this.addOffset({x:(e-1)*(t.x+this.offset.x),y:(e-1)*(t.y+this.offset.y)}),r(this.el,this.options.zoomUpdateEventName)},scaleZoomFactor:function(e){var t=this.zoomFactor;return this.zoomFactor*=e,this.zoomFactor=Math.min(this.options.maxZoom,Math.max(this.zoomFactor,this.options.minZoom)),this.zoomFactor/t},canDrag:function(){return this.options.draggableUnzoomed||(e=this.zoomFactor,!((t=1)-.01<e&&e<t+.01));var e,t},drag:function(e,t){t&&(this.options.lockDragAxis?Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?this.addOffset({x:-(e.x-t.x),y:0}):this.addOffset({y:-(e.y-t.y),x:0}):this.addOffset({y:-(e.y-t.y),x:-(e.x-t.x)}),r(this.el,this.options.dragUpdateEventName))},getTouchCenter:function(e){return this.getVectorAvg(e)},getVectorAvg:function(e){return{x:e.map(function(e){return e.x}).reduce(t)/e.length,y:e.map(function(e){return e.y}).reduce(t)/e.length}},addOffset:function(e){this.offset={x:this.offset.x+e.x,y:this.offset.y+e.y}},sanitize:function(){this.zoomFactor<this.options.zoomOutFactor?this.zoomOutAnimation():this.isInsaneOffset(this.offset)&&this.sanitizeOffsetAnimation()},isInsaneOffset:function(e){var t=this.sanitizeOffset(e);return t.x!==e.x||t.y!==e.y},sanitizeOffsetAnimation:function(){var t=this.sanitizeOffset(this.offset),i=this.offset.x,o=this.offset.y,e=function(e){this.offset.x=i+e*(t.x-i),this.offset.y=o+e*(t.y-o),this.update()}.bind(this);this.animate(this.options.animationDuration,e,this.swing)},zoomOutAnimation:function(){if(1!==this.zoomFactor){var t=this.zoomFactor,i=this.getCurrentZoomCenter(),e=function(e){this.scaleTo(t+e*(1-t),i)}.bind(this);this.animate(this.options.animationDuration,e,this.swing)}},updateAspectRatio:function(){this.setContainerY(this.container.parentElement.offsetHeight)},getInitialZoomFactor:function(){var e=this.container.offsetWidth/this.el.offsetWidth,t=this.container.offsetHeight/this.el.offsetHeight;return Math.min(e,t)},getAspectRatio:function(){return this.el.offsetWidth/this.el.offsetHeight},getCurrentZoomCenter:function(){var e=this.offset.x-this.initialOffset.x,t=-1*this.offset.x-e/(1/this.zoomFactor-1),i=this.offset.y-this.initialOffset.y;return{x:t,y:-1*this.offset.y-i/(1/this.zoomFactor-1)}},getTouches:function(e){var t=this.container.getBoundingClientRect(),i=document.documentElement.scrollTop||document.body.scrollTop,o=document.documentElement.scrollLeft||document.body.scrollLeft,s=t.top+i,r=t.left+o;return Array.prototype.slice.call(e.touches).map(function(e){return{x:e.pageX-r,y:e.pageY-s}})},animate:function(i,o,s,r){var n=(new Date).getTime(),a=function(){if(this.inAnimation){var e=(new Date).getTime()-n,t=e/i;i<=e?(o(1),r&&r(),this.update(),this.stopAnimation(),this.update()):(s&&(t=s(t)),o(t),this.update(),requestAnimationFrame(a))}}.bind(this);this.inAnimation=!0,requestAnimationFrame(a)},stopAnimation:function(){this.inAnimation=!1},swing:function(e){return-Math.cos(e*Math.PI)/2+.5},getContainerX:function(){return this.container.offsetWidth},getContainerY:function(){return this.container.offsetHeight},setContainerY:function(e){return this.container.style.height=e+"px"},setupMarkup:function(){var e,t;this.container=(e='<div class="pinch-zoom-container"></div>',(t=document.implementation.createHTMLDocument("")).body.innerHTML=e,Array.from(t.body.children)[0]),this.el.parentNode.insertBefore(this.container,this.el),this.container.appendChild(this.el),this.container.style.overflow="hidden",this.container.style.position="relative",this.el.style.webkitTransformOrigin="0% 0%",this.el.style.mozTransformOrigin="0% 0%",this.el.style.msTransformOrigin="0% 0%",this.el.style.oTransformOrigin="0% 0%",this.el.style.transformOrigin="0% 0%",this.el.style.position="absolute"},end:function(){this.hasInteraction=!1,this.sanitize(),this.update()},bindEvents:function(){var t=this;i(this.container,this),window.addEventListener("resize",this.update.bind(this)),Array.from(this.el.querySelectorAll("img")).forEach(function(e){e.addEventListener("load",t.update.bind(t))}),"IMG"===this.el.nodeName&&this.el.addEventListener("load",this.update.bind(this))},update:function(n){this.updatePlaned||(this.updatePlaned=!0,window.setTimeout(function(){this.updatePlaned=!1,this.updateAspectRatio(),n&&"resize"===n.type&&this.computeInitialOffset(),n&&"load"===n.type&&this.setupInitialOffset();var e=this.getInitialZoomFactor()*this.zoomFactor,t=-this.offset.x/e,i=-this.offset.y/e,o="scale3d("+e+", "+e+",1) translate3d("+t+"px,"+i+"px,0px)",s="scale("+e+", "+e+") translate("+t+"px,"+i+"px)",r=function(){this.clone&&(this.clone.parentNode.removeChild(this.clone),delete this.clone)}.bind(this);!this.options.use2d||this.hasInteraction||this.inAnimation?(this.is3d=!0,r(),this.el.style.webkitTransform=o,this.el.style.mozTransform=s,this.el.style.msTransform=s,this.el.style.oTransform=s,this.el.style.transform=o):(this.is3d&&(this.clone=this.el.cloneNode(!0),this.clone.style.pointerEvents="none",this.clone.style.display="none",this.container.appendChild(this.clone),window.setTimeout(r,200)),this.el.style.webkitTransform=s,this.el.style.mozTransform=s,this.el.style.msTransform=s,this.el.style.oTransform=s,this.el.style.transform=s,this.is3d=!1)}.bind(this),0))},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1}};var i=function(e,s){var r=null,i=0,o=null,n=null,t=function(e,t){if(r!==e){if(r&&!e)switch(r){case"zoom":s.handleZoomEnd(t);break;case"drag":s.handleDragEnd(t)}switch(e){case"zoom":s.handleZoomStart(t);break;case"drag":s.handleDragStart(t)}}r=e},a=function(e){2===i?t("zoom"):1===i&&s.canDrag()?t("drag",e):t(null,e)},l=function(e){return Array.from(e).map(function(e){return{x:e.pageX,y:e.pageY}})},c=function(e,t){var i,o;return i=e.x-t.x,o=e.y-t.y,Math.sqrt(i*i+o*o)},d=function(e){e.stopPropagation(),e.preventDefault()},h=!0;e.addEventListener("touchstart",function(e){s.enabled&&(h=!0,i=e.touches.length,function(e){var t=(new Date).getTime();if(1<i&&(o=null),t-o<300)switch(d(e),s.handleDoubleTap(e),r){case"zoom":s.handleZoomEnd(e);break;case"drag":s.handleDragEnd(e)}else s.isDoubleTap=!1;1===i&&(o=t)}(e))}),e.addEventListener("touchmove",function(e){if(s.enabled&&!s.isDoubleTap){if(h)a(e),r&&d(e),n=l(e.touches);else{switch(r){case"zoom":s.handleZoom(e,(t=n,i=l(e.touches),o=c(t[0],t[1]),c(i[0],i[1])/o));break;case"drag":s.handleDrag(e)}r&&(d(e),s.update())}h=!1}var t,i,o}),e.addEventListener("touchend",function(e){s.enabled&&(i=e.touches.length,a(e))})};return e}();e.default=t});var Ease={cubicOut:function(e){var t=e-1;return t*t*t+1},cubicInOut:function(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}},ShapeOverlays=function(){function t(e){classCallCheck(this,t),this.elm=e,this.path=e.querySelectorAll("path"),this.numPoints=2,this.duration=600,this.delayPointsArray=[],this.delayPointsMax=0,this.delayPerPath=200,this.timeStart=Date.now(),this.isOpened=!1,this.isAnimating=!1}return createClass(t,[{key:"Toggle",value:function(){this.isAnimating=!0;for(var e=0;e<this.numPoints;e++)this.delayPointsArray[e]=0;!1===this.isOpened?this.OpenMask():this.CloseMask()}},{key:"OpenMask",value:function(){this.isOpened=!0,this.elm.classList.add("is-opened"),this.timeStart=Date.now(),this.renderLoop()}},{key:"CloseMask",value:function(){this.isOpened=!1,this.elm.classList.remove("is-opened"),this.timeStart=Date.now(),this.renderLoop()}},{key:"updatePath",value:function(e){for(var t=[],i=0;i<this.numPoints;i++){var o=this.isOpened?1==i?Ease.cubicOut:Ease.cubicInOut:1==i?Ease.cubicInOut:Ease.cubicOut;t[i]=100*o(Math.min(Math.max(e-this.delayPointsArray[i],0)/this.duration,1))}var s="";s+=this.isOpened?"M 0 0 V ".concat(t[0]," "):"M 0 ".concat(t[0]," ");for(i=0;i<this.numPoints-1;i++){var r=(i+1)/(this.numPoints-1)*100,n=r-1/(this.numPoints-1)*100/2;s+="C ".concat(n," ").concat(t[i]," ").concat(n," ").concat(t[i+1]," ").concat(r," ").concat(t[i+1]," ")}return s+=this.isOpened?"V 0 H 0":"V 100 H 0"}},{key:"renderMask",value:function(){if(this.isOpened)for(var e=0;e<this.path.length;e++)this.path[e].setAttribute("d",this.updatePath(Date.now()-(this.timeStart+this.delayPerPath*e)));else for(e=0;e<this.path.length;e++)this.path[e].setAttribute("d",this.updatePath(Date.now()-(this.timeStart+this.delayPerPath*(this.path.length-e-1))))}},{key:"renderLoop",value:function(){var e=this;this.renderMask(),Date.now()-this.timeStart<this.duration+this.delayPerPath*(this.path.length+1)+this.delayPointsMax?requestAnimationFrame(function(){e.renderLoop()}):this.isAnimating=!1}}]),t}();!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var k=!1,E=!1,S=0,z=2e3,M=0,P=e,D=document,L=window,O=P(L),I=[];var A=L.requestAnimationFrame||L.webkitRequestAnimationFrame||L.mozRequestAnimationFrame||!1,q=L.cancelAnimationFrame||L.webkitCancelAnimationFrame||L.mozCancelAnimationFrame||!1;if(A)L.cancelAnimationFrame||(q=function(e){});else{var r=0;A=function(e,t){var i=(new Date).getTime(),o=Math.max(0,16-(i-r)),s=L.setTimeout(function(){e(i+o)},o);return r=i+o,s},q=function(e){L.clearTimeout(e)}}var t,i,o,F=L.MutationObserver||L.WebKitMutationObserver||!1,j=Date.now||function(){return(new Date).getTime()},Y={zindex:"auto",cursoropacitymin:1,cursoropacitymax:1,cursorcolor:"",cursorwidth:"1px",cursorborder:"none",cursorborderradius:"5px",scrollspeed:90,mousescrollstep:60,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:60,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:(i=D.currentScript||!!(t=D.getElementsByTagName("script")).length&&t[t.length-1],o=i?i.src.split("?")[0]:"",0<o.split("/").length?o.split("/").slice(0,-1).join("/")+"/":""),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},N=!1,a=function(e,t){var b=this;this.version="3.7.6",this.name="nicescroll",this.me=t;var y=P("body"),x=this.opt={doc:y,win:!1};if(P.extend(x,Y),x.snapbackspeed=80,e)for(var i in x)void 0!==e[i]&&(x[i]=e[i]);if(x.disablemutationobserver&&(F=!1),this.doc=x.doc,this.iddoc=this.doc&&this.doc[0]&&this.doc[0].id||"",this.ispage=/^BODY|HTML/.test(x.win?x.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==x.win,this.win=x.win||(this.ispage?O:this.doc),this.docscroll=this.ispage&&!this.haswrapper?O:this.win,this.body=y,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=x.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==x.rtlmode){var o=this.win[0]==L?this.body:this.win,s=o.css("writing-mode")||o.css("-webkit-writing-mode")||o.css("-ms-writing-mode")||o.css("-moz-writing-mode");"horizontal-tb"==s||"lr-tb"==s||""===s?(this.isrtlmode="rtl"==o.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==s||"tb"==s||"tb-rl"==s||"rl-tb"==s,this.isvertical="vertical-rl"==s||"tb"==s||"tb-rl"==s)}else this.isrtlmode=!0===x.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,(this.observerbody=!1)!==x.scrollbarid)this.id=x.scrollbarid;else for(;this.id="ascrail"+z++,D.getElementById(this.id););this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=x.overflowx,this.overflowy=x.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=function(){if(N)return N;var e=D.createElement("DIV"),r=e.style,t=navigator.userAgent,i=navigator.platform,n={};return n.haspointerlock="pointerLockElement"in D||"webkitPointerLockElement"in D||"mozPointerLockElement"in D,n.isopera="opera"in L,n.isopera12=n.isopera&&"getUserMedia"in navigator,n.isoperamini="[object OperaMini]"===Object.prototype.toString.call(L.operamini),n.isie="all"in D&&"attachEvent"in e&&!n.isopera,n.isieold=n.isie&&!("msInterpolationMode"in r),n.isie7=n.isie&&!n.isieold&&(!("documentMode"in D)||7===D.documentMode),n.isie8=n.isie&&"documentMode"in D&&8===D.documentMode,n.isie9=n.isie&&"performance"in L&&9===D.documentMode,n.isie10=n.isie&&"performance"in L&&10===D.documentMode,n.isie11="msRequestFullscreen"in e&&11<=D.documentMode,n.ismsedge="msCredentials"in L,n.ismozilla="MozAppearance"in r,n.iswebkit=!n.ismsedge&&"WebkitAppearance"in r,n.ischrome=n.iswebkit&&"chrome"in L,n.ischrome38=n.ischrome&&"touchAction"in r,n.ischrome22=!n.ischrome38&&n.ischrome&&n.haspointerlock,n.ischrome26=!n.ischrome38&&n.ischrome&&"transition"in r,n.cantouch="ontouchstart"in D.documentElement||"ontouchstart"in L,n.hasw3ctouch=!!L.PointerEvent&&(0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints),n.hasmstouch=!n.hasw3ctouch&&(L.MSPointerEvent||!1),n.ismac=/^mac$/i.test(i),n.isios=n.cantouch&&/iphone|ipad|ipod/i.test(i),n.isios4=n.isios&&!("seal"in Object),n.isios7=n.isios&&"webkitHidden"in D,n.isios8=n.isios&&"hidden"in D,n.isios10=n.isios&&L.Proxy,n.isandroid=/android/i.test(t),n.haseventlistener="addEventListener"in e,n.trstyle=!1,n.hastransform=!1,n.hastranslate3d=!1,n.transitionstyle=!1,n.hastransition=!1,n.transitionend=!1,n.trstyle="transform",n.hastransform="transform"in r||function(){for(var e=["msTransform","webkitTransform","MozTransform","OTransform"],t=0,i=e.length;t<i;t++)if(void 0!==r[e[t]]){n.trstyle=e[t];break}n.hastransform=!!n.trstyle}(),n.hastransform&&(r[n.trstyle]="translate3d(1px,2px,3px)",n.hastranslate3d=/translate3d/.test(r[n.trstyle])),n.transitionstyle="transition",n.prefixstyle="",n.transitionend="transitionend",n.hastransition="transition"in r||function(){n.transitionend=!1;for(var e=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],t=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],i=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],o=0,s=e.length;o<s;o++)if(e[o]in r){n.transitionstyle=e[o],n.prefixstyle=t[o],n.transitionend=i[o];break}n.ischrome26&&(n.prefixstyle=t[1]),n.hastransition=n.transitionstyle}(),n.cursorgrabvalue=function(){var e=["grab","-webkit-grab","-moz-grab"];(n.ischrome&&!n.ischrome38||n.isie)&&(e=[]);for(var t=0,i=e.length;t<i;t++){var o=e[t];if(r.cursor=o,r.cursor==o)return o}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),n.hasmousecapture="setCapture"in e,n.hasMutationObserver=!1!==F,e=null,N=n}();var $=P.extend({},this.detected);this.canhwscroll=$.hastransform&&x.hwacceleration,this.ishwscroll=this.canhwscroll&&b.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!($.iswebkit||$.isie||$.isie11):this.hasreversehr=!($.iswebkit||$.isie&&!$.isie10&&!$.isie11):this.hasreversehr=!1,this.istouchcapable=!1,($.cantouch||!$.hasw3ctouch&&!$.hasmstouch)&&(!$.cantouch||$.isios||$.isandroid||!$.iswebkit&&!$.ismozilla)||(this.istouchcapable=!0),x.enablemouselockapi||($.hasmousecapture=!1,$.haspointerlock=!1),this.debounced=function(e,t,i){b&&(b.delaylist[e]||!1||(b.delaylist[e]={h:A(function(){b.delaylist[e].fn.call(b),b.delaylist[e]=!1},i)},t.call(b)),b.delaylist[e].fn=t)},this.synched=function(e,t){b.synclist[e]?b.synclist[e]=t:(b.synclist[e]=t,A(function(){b&&(b.synclist[e]&&b.synclist[e].call(b),b.synclist[e]=null)}))},this.unsynched=function(e){b.synclist[e]&&(b.synclist[e]=!1)},this.css=function(e,t){for(var i in t)b.saved.css.push([e,i,e.css(i)]),e.css(i,t[i])},this.scrollTop=function(e){return void 0===e?b.getScrollTop():b.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?b.getScrollLeft():b.setScrollLeft(e)};var d=function(e,t,i,o,s,r,n){this.st=e,this.ed=t,this.spd=i,this.p1=o||0,this.p2=s||1,this.p3=r||0,this.p4=n||1,this.ts=j(),this.df=t-e};function r(){var e=b.doc.css($.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}if(d.prototype={B2:function(e){return 3*(1-e)*(1-e)*e},B3:function(e){return 3*(1-e)*e*e},B4:function(e){return e*e*e},getPos:function(){return(j()-this.ts)/this.spd},getNow:function(){var e=(j()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return 1<=e?this.ed:this.st+this.df*t|0},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=j(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},$.hastranslate3d&&$.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){var t=r();if(t)return 16==t.length?-t[13]:-t[5];if(b.timerscroll&&b.timerscroll.bz)return b.timerscroll.bz.getNow()}return b.doc.translate.y},this.getScrollLeft=function(e){if(!e){var t=r();if(t)return 16==t.length?-t[12]:-t[4];if(b.timerscroll&&b.timerscroll.bh)return b.timerscroll.bh.getNow()}return b.doc.translate.x},this.notifyScrollEvent=function(e){var t=D.createEvent("UIEvents");t.initUIEvent("scroll",!1,!1,L,1),t.niceevent=!0,e.dispatchEvent(t)};var n=this.isrtlmode?1:-1;$.hastranslate3d&&x.enabletranslate3d?(this.setScrollTop=function(e,t){b.doc.translate.y=e,b.doc.translate.ty=-1*e+"px",b.doc.css($.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0)"),t||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(e,t){b.doc.translate.x=e,b.doc.translate.tx=e*n+"px",b.doc.css($.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0)"),t||b.notifyScrollEvent(b.win[0])}):(this.setScrollTop=function(e,t){b.doc.translate.y=e,b.doc.translate.ty=-1*e+"px",b.doc.css($.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")"),t||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(e,t){b.doc.translate.x=e,b.doc.translate.tx=e*n+"px",b.doc.css($.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")"),t||b.notifyScrollEvent(b.win[0])})}else this.getScrollTop=function(){return b.docscroll.scrollTop()},this.setScrollTop=function(e){b.docscroll.scrollTop(e)},this.getScrollLeft=function(){return b.hasreversehr?b.detected.ismozilla?b.page.maxw-Math.abs(b.docscroll.scrollLeft()):b.page.maxw-b.docscroll.scrollLeft():b.docscroll.scrollLeft()},this.setScrollLeft=function(e){return setTimeout(function(){if(b)return b.hasreversehr&&(e=b.detected.ismozilla?-(b.page.maxw-e):b.page.maxw-e),b.docscroll.scrollLeft(e)},1)};this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,t){if(!e)return!1;for(var i=e.target||e.srcElement||e||!1;i&&i.id!=t;)i=i.parentNode||!1;return!1!==i};var a={thin:1,medium:3,thick:5};function l(e,t,i){var o=e.css(t),s=parseFloat(o);if(isNaN(s)){var r=3==(s=a[o]||0)?i?b.win.outerHeight()-b.win.innerHeight():b.win.outerWidth()-b.win.innerWidth():1;return b.isie8&&s&&(s+=1),r?s:0}return s}this.getDocumentScrollOffset=function(){return{top:L.pageYOffset||D.documentElement.scrollTop,left:L.pageXOffset||D.documentElement.scrollLeft}},this.getOffset=function(){if(b.isfixed){var e=b.win.offset(),t=b.getDocumentScrollOffset();return e.top-=t.top,e.left-=t.left,e}var i=b.win.offset();if(!b.viewport)return i;var o=b.viewport.offset();return{top:i.top-o.top,left:i.left-o.left}},this.updateScrollBar=function(e){var t,i;if(b.ishwscroll)b.rail.css({height:b.win.innerHeight()-(x.railpadding.top+x.railpadding.bottom)}),b.railh&&b.railh.css({width:b.win.innerWidth()-(x.railpadding.left+x.railpadding.right)});else{var o=b.getOffset();if((t={top:o.top,left:o.left-(x.railpadding.left+x.railpadding.right)}).top+=l(b.win,"border-top-width",!0),t.left+=b.rail.align?b.win.outerWidth()-l(b.win,"border-right-width")-b.rail.width:l(b.win,"border-left-width"),(i=x.railoffset)&&(i.top&&(t.top+=i.top),i.left&&(t.left+=i.left)),b.railslocked||b.rail.css({top:t.top,left:t.left,height:(e?e.h:b.win.innerHeight())-(x.railpadding.top+x.railpadding.bottom)}),b.zoom&&b.zoom.css({top:t.top+1,left:1==b.rail.align?t.left-20:t.left+b.rail.width+4}),b.railh&&!b.railslocked){t={top:o.top,left:o.left},(i=x.railhoffset)&&(i.top&&(t.top+=i.top),i.left&&(t.left+=i.left));var s=b.railh.align?t.top+l(b.win,"border-top-width",!0)+b.win.innerHeight()-b.railh.height:t.top+l(b.win,"border-top-width",!0),r=t.left+l(b.win,"border-left-width");b.railh.css({top:s-(x.railpadding.top+x.railpadding.bottom),left:r,width:b.railh.width})}}},this.doRailClick=function(e,t,i){var o,s,r,n;b.railslocked||(b.cancelEvent(e),"pageY"in e||(e.pageX=e.clientX+D.documentElement.scrollLeft,e.pageY=e.clientY+D.documentElement.scrollTop),t?(o=i?b.doScrollLeft:b.doScrollTop,r=i?(e.pageX-b.railh.offset().left-b.cursorwidth/2)*b.scrollratio.x:(e.pageY-b.rail.offset().top-b.cursorheight/2)*b.scrollratio.y,b.unsynched("relativexy"),o(0|r)):(o=i?b.doScrollLeftBy:b.doScrollBy,r=i?b.scroll.x:b.scroll.y,n=i?e.pageX-b.railh.offset().left:e.pageY-b.rail.offset().top,s=i?b.view.w:b.view.h,o(n<=r?s:-s)))},b.newscrolly=b.newscrollx=0,b.hasanimationframe="requestAnimationFrame"in L,b.hascancelanimationframe="cancelAnimationFrame"in L,b.hasborderbox=!1,this.init=function(){if(b.saved.css=[],$.isoperamini)return!0;if($.isandroid&&!("hidden"in D))return!0;x.emulatetouch=x.emulatetouch||x.touchbehavior,b.hasborderbox=L.getComputedStyle&&"border-box"===L.getComputedStyle(D.body)["box-sizing"];var i={"overflow-y":"hidden"};if(($.isie11||$.isie10)&&(i["-ms-overflow-style"]="none"),b.ishwscroll&&(this.doc.css($.transitionstyle,$.prefixstyle+"transform 0ms ease-out"),$.transitionend&&b.bind(b.doc,$.transitionend,b.onScrollTransitionEnd,!1)),b.zindex="auto",b.ispage||"auto"!=x.zindex?b.zindex=x.zindex:b.zindex=function(){var e=b.win;if("zIndex"in e)return e.zIndex();for(;0<e.length;){if(9==e[0].nodeType)return!1;var t=e.css("zIndex");if(!isNaN(t)&&0!==t)return parseInt(t);e=e.parent()}return!1}()||"auto",!b.ispage&&"auto"!=b.zindex&&b.zindex>M&&(M=b.zindex),b.isie&&0===b.zindex&&"auto"==x.zindex&&(b.zindex="auto"),!b.ispage||!$.isieold){var e=b.docscroll;b.ispage&&(e=b.haswrapper?b.win:b.doc),b.css(e,i),b.ispage&&($.isie11||$.isie)&&b.css(P("html"),i),!$.isios||b.ispage||b.haswrapper||b.css(y,{"-webkit-overflow-scrolling":"touch"});var t=P(D.createElement("div"));t.css({position:"relative",top:0,float:"right",width:x.cursorwidth,height:0,"background-color":x.cursorcolor,border:x.cursorborder,"background-clip":"padding-box","-webkit-border-radius":x.cursorborderradius,"-moz-border-radius":x.cursorborderradius,"border-radius":x.cursorborderradius}),t.addClass("nicescroll-cursors"),b.cursor=t;var o=P(D.createElement("div"));o.attr("id",b.id),o.addClass("nicescroll-rails nicescroll-rails-vr");var s,r,n=["left","right","top","bottom"];for(var a in n)r=n[a],(s=x.railpadding[r]||0)&&o.css("padding-"+r,s+"px");o.append(t),o.width=Math.max(parseFloat(x.cursorwidth),t.outerWidth()),o.css({width:o.width+"px",zIndex:b.zindex,background:x.background,cursor:"default"}),o.visibility=!0,o.scrollable=!0,o.align="left"==x.railalign?0:1,b.rail=o;var l,c=b.rail.drag=!1;if(!x.boxzoom||b.ispage||$.isieold||(c=D.createElement("div"),b.bind(c,"click",b.doZoom),b.bind(c,"mouseenter",function(){b.zoom.css("opacity",x.cursoropacitymax)}),b.bind(c,"mouseleave",function(){b.zoom.css("opacity",x.cursoropacitymin)}),b.zoom=P(c),b.zoom.css({cursor:"pointer",zIndex:b.zindex,backgroundImage:"url("+x.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),x.dblclickzoom&&b.bind(b.win,"dblclick",b.doZoom),$.cantouch&&x.gesturezoom&&(b.ongesturezoom=function(e){return 1.5<e.scale&&b.doZoomIn(e),e.scale<.8&&b.doZoomOut(e),b.cancelEvent(e)},b.bind(b.win,"gestureend",b.ongesturezoom))),b.railh=!1,x.horizrailenabled&&(b.css(e,{overflowX:"hidden"}),(t=P(D.createElement("div"))).css({position:"absolute",top:0,height:x.cursorwidth,width:0,backgroundColor:x.cursorcolor,border:x.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":x.cursorborderradius,"-moz-border-radius":x.cursorborderradius,"border-radius":x.cursorborderradius}),$.isieold&&t.css("overflow","hidden"),t.addClass("nicescroll-cursors"),b.cursorh=t,(l=P(D.createElement("div"))).attr("id",b.id+"-hr"),l.addClass("nicescroll-rails nicescroll-rails-hr"),l.height=Math.max(parseFloat(x.cursorwidth),t.outerHeight()),l.css({height:l.height+"px",zIndex:b.zindex,background:x.background}),l.append(t),l.visibility=!0,l.scrollable=!0,l.align="top"==x.railvalign?0:1,b.railh=l,b.railh.drag=!1),b.ispage)o.css({position:"fixed",top:0,height:"100%"}),o.css(o.align?{right:0}:{left:0}),b.body.append(o),b.railh&&(l.css({position:"fixed",left:0,width:"100%"}),l.css(l.align?{bottom:0}:{top:0}),b.body.append(l));else{if(b.ishwscroll){"static"==b.win.css("position")&&b.css(b.win,{position:"relative"});var d="HTML"==b.win[0].nodeName?b.body:b.win;P(d).scrollTop(0).scrollLeft(0),b.zoom&&(b.zoom.css({position:"absolute",top:1,right:0,"margin-right":o.width+4}),d.append(b.zoom)),o.css({position:"absolute",top:0}),o.css(o.align?{right:0}:{left:0}),d.append(o),l&&(l.css({position:"absolute",left:0,bottom:0}),l.css(l.align?{bottom:0}:{top:0}),d.append(l))}else{b.isfixed="fixed"==b.win.css("position");var h=b.isfixed?"fixed":"absolute";b.isfixed||(b.viewport=b.getViewport(b.win[0])),b.viewport&&(b.body=b.viewport,/fixed|absolute/.test(b.viewport.css("position"))||b.css(b.viewport,{position:"relative"})),o.css({position:h}),b.zoom&&b.zoom.css({position:h}),b.updateScrollBar(),b.body.append(o),b.zoom&&b.body.append(b.zoom),b.railh&&(l.css({position:h}),b.body.append(l))}$.isios&&b.css(b.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),x.disableoutline&&($.isie&&b.win.attr("hideFocus","true"),$.iswebkit&&b.win.css("outline","none"))}if(!1===x.autohidemode?(b.autohidedom=!1,b.rail.css({opacity:x.cursoropacitymax}),b.railh&&b.railh.css({opacity:x.cursoropacitymax})):!0===x.autohidemode||"leave"===x.autohidemode?(b.autohidedom=P().add(b.rail),$.isie8&&(b.autohidedom=b.autohidedom.add(b.cursor)),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh)),b.railh&&$.isie8&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"scroll"==x.autohidemode?(b.autohidedom=P().add(b.rail),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh))):"cursor"==x.autohidemode?(b.autohidedom=P().add(b.cursor),b.railh&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"hidden"==x.autohidemode&&(b.autohidedom=!1,b.hide(),b.railslocked=!1),$.cantouch||b.istouchcapable||x.emulatetouch||$.hasmstouch){b.scrollmom=new R(b);b.ontouchstart=function(e){if(b.locked)return!1;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;if(b.hasmoving=!1,b.scrollmom.timer&&(b.triggerScrollEnd(),b.scrollmom.stop()),!b.railslocked){var t=b.getTarget(e);if(t)if(/INPUT/i.test(t.nodeName)&&/range/i.test(t.type))return b.stopPropagation(e);var i="mousedown"===e.type;if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),b.forcescreen){var o=e;(e={original:e.original?e.original:e}).clientX=o.screenX,e.clientY=o.screenY}if(b.rail.drag={x:e.clientX,y:e.clientY,sx:b.scroll.x,sy:b.scroll.y,st:b.getScrollTop(),sl:b.getScrollLeft(),pt:2,dl:!1,tg:t},b.ispage||!x.directionlockdeadzone)b.rail.drag.dl="f";else{var s=O.width(),r=O.height(),n=b.getContentSize(),a=n.h-r,l=n.w-s;b.rail.scrollable&&!b.railh.scrollable?b.rail.drag.ck=0<a&&"v":!b.rail.scrollable&&b.railh.scrollable?b.rail.drag.ck=0<l&&"h":b.rail.drag.ck=!1}if(x.emulatetouch&&b.isiframe&&$.isie){var c=b.win.position();b.rail.drag.x+=c.left,b.rail.drag.y+=c.top}if(b.hasmoving=!1,b.lastmouseup=!1,b.scrollmom.reset(e.clientX,e.clientY),t&&i){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(t.nodeName))return $.hasmousecapture&&t.setCapture(),x.emulatetouch?(t.onclick&&!t._onclick&&(t._onclick=t.onclick,t.onclick=function(e){if(b.hasmoving)return!1;t._onclick.call(this,e)}),b.cancelEvent(e)):b.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(P(t).attr("type"))&&(b.preventclick={tg:t,click:!1})}}},b.ontouchend=function(e){if(!b.rail.drag)return!0;if(2==b.rail.drag.pt){if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;b.rail.drag=!1;var t="mouseup"===e.type;if(b.hasmoving&&(b.scrollmom.doMomentum(),b.lastmouseup=!0,b.hideCursor(),$.hasmousecapture&&D.releaseCapture(),t))return b.cancelEvent(e)}else if(1==b.rail.drag.pt)return b.onmouseup(e)};var f=x.emulatetouch&&b.isiframe&&!$.hasmousecapture,m=.3*x.directionlockdeadzone|0;b.ontouchmove=function(e,t){if(!b.rail.drag)return!0;if(e.targetTouches&&x.preventmultitouchscrolling&&1<e.targetTouches.length)return!0;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!0;if(2!=b.rail.drag.pt)return 1==b.rail.drag.pt?b.onmousemove(e):void 0;var i,o;if("changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),o=i=0,f&&!t){var s=b.win.position();o=-s.left,i=-s.top}var r=e.clientY+i,n=r-b.rail.drag.y,a=e.clientX+o,l=a-b.rail.drag.x,c=b.rail.drag.st-n;if(b.ishwscroll&&x.bouncescroll)c<0?c=Math.round(c/2):c>b.page.maxh&&(c=b.page.maxh+Math.round((c-b.page.maxh)/2));else if(c<0?r=c=0:c>b.page.maxh&&(c=b.page.maxh,r=0),0===r&&!b.hasmoving)return b.ispage||(b.rail.drag=!1),!0;var d=b.getScrollLeft();if(b.railh&&b.railh.scrollable&&(d=b.isrtlmode?l-b.rail.drag.sl:b.rail.drag.sl-l,b.ishwscroll&&x.bouncescroll?d<0?d=Math.round(d/2):d>b.page.maxw&&(d=b.page.maxw+Math.round((d-b.page.maxw)/2)):(d<0&&(a=d=0),d>b.page.maxw&&(d=b.page.maxw,a=0))),!b.hasmoving){if(b.rail.drag.y===e.clientY&&b.rail.drag.x===e.clientX)return b.cancelEvent(e);var h=Math.abs(n),u=Math.abs(l),p=x.directionlockdeadzone;if(b.rail.drag.ck?"v"==b.rail.drag.ck?p<u&&h<=m?b.rail.drag=!1:p<h&&(b.rail.drag.dl="v"):"h"==b.rail.drag.ck&&(p<h&&u<=m?b.rail.drag=!1:p<u&&(b.rail.drag.dl="h")):p<h&&p<u?b.rail.drag.dl="f":p<h?b.rail.drag.dl=m<u?"f":"v":p<u&&(b.rail.drag.dl=m<h?"f":"h"),!b.rail.drag.dl)return b.cancelEvent(e);b.triggerScrollStart(e.clientX,e.clientY,0,0,0),b.hasmoving=!0}return b.preventclick&&!b.preventclick.click&&(b.preventclick.click=b.preventclick.tg.onclick||!1,b.preventclick.tg.onclick=b.onpreventclick),b.rail.drag.dl&&("v"==b.rail.drag.dl?d=b.rail.drag.sl:"h"==b.rail.drag.dl&&(c=b.rail.drag.st)),b.synched("touchmove",function(){b.rail.drag&&2==b.rail.drag.pt&&(b.prepareTransition&&b.resetTransition(),b.rail.scrollable&&b.setScrollTop(c),b.scrollmom.update(a,r),b.railh&&b.railh.scrollable?(b.setScrollLeft(d),b.showCursor(c,d)):b.showCursor(c),$.isie10&&D.selection.clear())}),b.cancelEvent(e)},b.ontouchstartCursor=function(e,t){if(!b.rail.drag||3==b.rail.drag.pt){if(b.locked)return b.cancelEvent(e);b.cancelScroll(),b.rail.drag={x:e.touches[0].clientX,y:e.touches[0].clientY,sx:b.scroll.x,sy:b.scroll.y,pt:3,hr:!!t};var i=b.getTarget(e);return!b.ispage&&$.hasmousecapture&&i.setCapture(),b.isiframe&&!$.hasmousecapture&&(b.saved.csspointerevents=b.doc.css("pointer-events"),b.css(b.doc,{"pointer-events":"none"})),b.cancelEvent(e)}},b.ontouchendCursor=function(e){if(b.rail.drag){if($.hasmousecapture&&D.releaseCapture(),b.isiframe&&!$.hasmousecapture&&b.doc.css("pointer-events",b.saved.csspointerevents),3!=b.rail.drag.pt)return;return b.rail.drag=!1,b.cancelEvent(e)}},b.ontouchmoveCursor=function(e){if(b.rail.drag){if(3!=b.rail.drag.pt)return;if(b.cursorfreezed=!0,b.rail.drag.hr){b.scroll.x=b.rail.drag.sx+(e.touches[0].clientX-b.rail.drag.x),b.scroll.x<0&&(b.scroll.x=0);var t=b.scrollvaluemaxw;b.scroll.x>t&&(b.scroll.x=t)}else{b.scroll.y=b.rail.drag.sy+(e.touches[0].clientY-b.rail.drag.y),b.scroll.y<0&&(b.scroll.y=0);var i=b.scrollvaluemax;b.scroll.y>i&&(b.scroll.y=i)}return b.synched("touchmove",function(){b.rail.drag&&3==b.rail.drag.pt&&(b.showCursor(),b.rail.drag.hr?b.doScrollLeft(Math.round(b.scroll.x*b.scrollratio.x),x.cursordragspeed):b.doScrollTop(Math.round(b.scroll.y*b.scrollratio.y),x.cursordragspeed))}),b.cancelEvent(e)}}}if(b.onmousedown=function(e,t){if(!b.rail.drag||1==b.rail.drag.pt){if(b.railslocked)return b.cancelEvent(e);b.cancelScroll(),b.rail.drag={x:e.clientX,y:e.clientY,sx:b.scroll.x,sy:b.scroll.y,pt:1,hr:t||!1};var i=b.getTarget(e);return $.hasmousecapture&&i.setCapture(),b.isiframe&&!$.hasmousecapture&&(b.saved.csspointerevents=b.doc.css("pointer-events"),b.css(b.doc,{"pointer-events":"none"})),b.hasmoving=!1,b.cancelEvent(e)}},b.onmouseup=function(e){if(b.rail.drag)return 1!=b.rail.drag.pt||($.hasmousecapture&&D.releaseCapture(),b.isiframe&&!$.hasmousecapture&&b.doc.css("pointer-events",b.saved.csspointerevents),b.rail.drag=!1,b.cursorfreezed=!1,b.hasmoving&&b.triggerScrollEnd(),b.cancelEvent(e))},b.onmousemove=function(e){if(b.rail.drag){if(1!==b.rail.drag.pt)return;if($.ischrome&&0===e.which)return b.onmouseup(e);if(b.cursorfreezed=!0,b.hasmoving||b.triggerScrollStart(e.clientX,e.clientY,0,0,0),b.hasmoving=!0,b.rail.drag.hr){b.scroll.x=b.rail.drag.sx+(e.clientX-b.rail.drag.x),b.scroll.x<0&&(b.scroll.x=0);var t=b.scrollvaluemaxw;b.scroll.x>t&&(b.scroll.x=t)}else{b.scroll.y=b.rail.drag.sy+(e.clientY-b.rail.drag.y),b.scroll.y<0&&(b.scroll.y=0);var i=b.scrollvaluemax;b.scroll.y>i&&(b.scroll.y=i)}return b.synched("mousemove",function(){b.cursorfreezed&&(b.showCursor(),b.rail.drag.hr?b.scrollLeft(Math.round(b.scroll.x*b.scrollratio.x)):b.scrollTop(Math.round(b.scroll.y*b.scrollratio.y)))}),b.cancelEvent(e)}b.checkarea=0},$.cantouch||x.emulatetouch)b.onpreventclick=function(e){if(b.preventclick)return b.preventclick.tg.onclick=b.preventclick.click,b.preventclick=!1,b.cancelEvent(e)},b.onclick=!$.isios&&function(e){return!b.lastmouseup||(b.lastmouseup=!1,b.cancelEvent(e))},x.grabcursorenabled&&$.cursorgrabvalue&&(b.css(b.ispage?b.doc:b.win,{cursor:$.cursorgrabvalue}),b.css(b.rail,{cursor:$.cursorgrabvalue}));else{var u=function(e){if(b.selectiondrag){if(e){var t=b.win.outerHeight(),i=e.pageY-b.selectiondrag.top;0<i&&i<t&&(i=0),t<=i&&(i-=t),b.selectiondrag.df=i}if(0!==b.selectiondrag.df){var o=-2*b.selectiondrag.df/6|0;b.doScrollBy(o),b.debounced("doselectionscroll",function(){u()},50)}}};b.hasTextSelected="getSelection"in D?function(){return 0<D.getSelection().rangeCount}:"selection"in D?function(){return"None"!=D.selection.type}:function(){return!1},b.onselectionstart=function(e){b.ispage||(b.selectiondrag=b.win.offset())},b.onselectionend=function(e){b.selectiondrag=!1},b.onselectiondrag=function(e){b.selectiondrag&&b.hasTextSelected()&&b.debounced("selectionscroll",function(){u(e)},250)}}if($.hasw3ctouch?(b.css(b.ispage?P("html"):b.win,{"touch-action":"none"}),b.css(b.rail,{"touch-action":"none"}),b.css(b.cursor,{"touch-action":"none"}),b.bind(b.win,"pointerdown",b.ontouchstart),b.bind(D,"pointerup",b.ontouchend),b.delegate(D,"pointermove",b.ontouchmove)):$.hasmstouch?(b.css(b.ispage?P("html"):b.win,{"-ms-touch-action":"none"}),b.css(b.rail,{"-ms-touch-action":"none"}),b.css(b.cursor,{"-ms-touch-action":"none"}),b.bind(b.win,"MSPointerDown",b.ontouchstart),b.bind(D,"MSPointerUp",b.ontouchend),b.delegate(D,"MSPointerMove",b.ontouchmove),b.bind(b.cursor,"MSGestureHold",function(e){e.preventDefault()}),b.bind(b.cursor,"contextmenu",function(e){e.preventDefault()})):$.cantouch&&(b.bind(b.win,"touchstart",b.ontouchstart,!1,!0),b.bind(D,"touchend",b.ontouchend,!1,!0),b.bind(D,"touchcancel",b.ontouchend,!1,!0),b.delegate(D,"touchmove",b.ontouchmove,!1,!0)),x.emulatetouch&&(b.bind(b.win,"mousedown",b.ontouchstart,!1,!0),b.bind(D,"mouseup",b.ontouchend,!1,!0),b.bind(D,"mousemove",b.ontouchmove,!1,!0)),(x.cursordragontouch||!$.cantouch&&!x.emulatetouch)&&(b.rail.css({cursor:"default"}),b.railh&&b.railh.css({cursor:"default"}),b.jqbind(b.rail,"mouseenter",function(){if(!b.ispage&&!b.win.is(":visible"))return!1;b.canshowonmouseevent&&b.showCursor(),b.rail.active=!0}),b.jqbind(b.rail,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}),x.sensitiverail&&(b.bind(b.rail,"click",function(e){b.doRailClick(e,!1,!1)}),b.bind(b.rail,"dblclick",function(e){b.doRailClick(e,!0,!1)}),b.bind(b.cursor,"click",function(e){b.cancelEvent(e)}),b.bind(b.cursor,"dblclick",function(e){b.cancelEvent(e)})),b.railh&&(b.jqbind(b.railh,"mouseenter",function(){if(!b.ispage&&!b.win.is(":visible"))return!1;b.canshowonmouseevent&&b.showCursor(),b.rail.active=!0}),b.jqbind(b.railh,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}),x.sensitiverail&&(b.bind(b.railh,"click",function(e){b.doRailClick(e,!1,!0)}),b.bind(b.railh,"dblclick",function(e){b.doRailClick(e,!0,!0)}),b.bind(b.cursorh,"click",function(e){b.cancelEvent(e)}),b.bind(b.cursorh,"dblclick",function(e){b.cancelEvent(e)})))),x.cursordragontouch&&(this.istouchcapable||$.cantouch)&&(b.bind(b.cursor,"touchstart",b.ontouchstartCursor),b.bind(b.cursor,"touchmove",b.ontouchmoveCursor),b.bind(b.cursor,"touchend",b.ontouchendCursor),b.cursorh&&b.bind(b.cursorh,"touchstart",function(e){b.ontouchstartCursor(e,!0)}),b.cursorh&&b.bind(b.cursorh,"touchmove",b.ontouchmoveCursor),b.cursorh&&b.bind(b.cursorh,"touchend",b.ontouchendCursor)),x.emulatetouch||$.isandroid||$.isios?(b.bind($.hasmousecapture?b.win:D,"mouseup",b.ontouchend),b.onclick&&b.bind(D,"click",b.onclick),x.cursordragontouch?(b.bind(b.cursor,"mousedown",b.onmousedown),b.bind(b.cursor,"mouseup",b.onmouseup),b.cursorh&&b.bind(b.cursorh,"mousedown",function(e){b.onmousedown(e,!0)}),b.cursorh&&b.bind(b.cursorh,"mouseup",b.onmouseup)):(b.bind(b.rail,"mousedown",function(e){e.preventDefault()}),b.railh&&b.bind(b.railh,"mousedown",function(e){e.preventDefault()}))):(b.bind($.hasmousecapture?b.win:D,"mouseup",b.onmouseup),b.bind(D,"mousemove",b.onmousemove),b.onclick&&b.bind(D,"click",b.onclick),b.bind(b.cursor,"mousedown",b.onmousedown),b.bind(b.cursor,"mouseup",b.onmouseup),b.railh&&(b.bind(b.cursorh,"mousedown",function(e){b.onmousedown(e,!0)}),b.bind(b.cursorh,"mouseup",b.onmouseup)),!b.ispage&&x.enablescrollonselection&&(b.bind(b.win[0],"mousedown",b.onselectionstart),b.bind(D,"mouseup",b.onselectionend),b.bind(b.cursor,"mouseup",b.onselectionend),b.cursorh&&b.bind(b.cursorh,"mouseup",b.onselectionend),b.bind(D,"mousemove",b.onselectiondrag)),b.zoom&&(b.jqbind(b.zoom,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor(),b.rail.active=!0}),b.jqbind(b.zoom,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}))),x.enablemousewheel&&(b.isiframe||b.mousewheel($.isie&&b.ispage?D:b.win,b.onmousewheel),b.mousewheel(b.rail,b.onmousewheel),b.railh&&b.mousewheel(b.railh,b.onmousewheelhr)),b.ispage||$.cantouch||/HTML|^BODY/.test(b.win[0].nodeName)||(b.win.attr("tabindex")||b.win.attr({tabindex:++S}),b.bind(b.win,"focus",function(e){k=b.getTarget(e).id||b.getTarget(e)||!1,b.hasfocus=!0,b.canshowonmouseevent&&b.noticeCursor()}),b.bind(b.win,"blur",function(e){k=!1,b.hasfocus=!1}),b.bind(b.win,"mouseenter",function(e){E=b.getTarget(e).id||b.getTarget(e)||!1,b.hasmousefocus=!0,b.canshowonmouseevent&&b.noticeCursor()}),b.bind(b.win,"mouseleave",function(e){E=!1,b.hasmousefocus=!1,b.rail.drag||b.hideCursor()})),b.onkeypress=function(e){if(b.railslocked&&0===b.page.maxh)return!0;e=e||L.event;var t=b.getTarget(e);if(t&&/INPUT|TEXTAREA|SELECT|OPTION/.test(t.nodeName)&&(!(t.getAttribute("type")||t.type||!1)||!/submit|button|cancel/i.tp))return!0;if(P(t).attr("contenteditable"))return!0;if(b.hasfocus||b.hasmousefocus&&!k||b.ispage&&!k&&!E){var i=e.keyCode;if(b.railslocked&&27!=i)return b.cancelEvent(e);var o=e.ctrlKey||!1,s=e.shiftKey||!1,r=!1;switch(i){case 38:case 63233:b.doScrollBy(72),r=!0;break;case 40:case 63235:b.doScrollBy(-72),r=!0;break;case 37:case 63232:b.railh&&(o?b.doScrollLeft(0):b.doScrollLeftBy(72),r=!0);break;case 39:case 63234:b.railh&&(o?b.doScrollLeft(b.page.maxw):b.doScrollLeftBy(-72),r=!0);break;case 33:case 63276:b.doScrollBy(b.view.h),r=!0;break;case 34:case 63277:b.doScrollBy(-b.view.h),r=!0;break;case 36:case 63273:b.railh&&o?b.doScrollPos(0,0):b.doScrollTo(0),r=!0;break;case 35:case 63275:b.railh&&o?b.doScrollPos(b.page.maxw,b.page.maxh):b.doScrollTo(b.page.maxh),r=!0;break;case 32:x.spacebarenabled&&(s?b.doScrollBy(b.view.h):b.doScrollBy(-b.view.h),r=!0);break;case 27:b.zoomactive&&(b.doZoom(),r=!0)}if(r)return b.cancelEvent(e)}},x.enablekeyboard&&b.bind(D,$.isopera&&!$.isopera12?"keypress":"keydown",b.onkeypress),b.bind(D,"keydown",function(e){(e.ctrlKey||!1)&&(b.wheelprevented=!0)}),b.bind(D,"keyup",function(e){e.ctrlKey||!1||(b.wheelprevented=!1)}),b.bind(L,"blur",function(e){b.wheelprevented=!1}),b.bind(L,"resize",b.onscreenresize),b.bind(L,"orientationchange",b.onscreenresize),b.bind(L,"load",b.lazyResize),$.ischrome&&!b.ispage&&!b.haswrapper){var p=b.win.attr("style"),g=parseFloat(b.win.css("width"))+1;b.win.css("width",g),b.synched("chromefix",function(){b.win.attr("style",p)})}if(b.onAttributeChange=function(e){b.lazyResize(b.isieold?250:30)},x.enableobserver&&(b.isie11||!1===F||(b.observerbody=new F(function(e){if(e.forEach(function(e){if("attributes"==e.type)return y.hasClass("modal-open")&&y.hasClass("modal-dialog")&&!P.contains(P(".modal-dialog")[0],b.doc[0])?b.hide():b.show()}),b.me.clientWidth!=b.page.width||b.me.clientHeight!=b.page.height)return b.lazyResize(30)}),b.observerbody.observe(D.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!b.ispage&&!b.haswrapper)){var v=b.win[0];!1!==F?(b.observer=new F(function(e){e.forEach(b.onAttributeChange)}),b.observer.observe(v,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),b.observerremover=new F(function(e){e.forEach(function(e){if(0<e.removedNodes.length)for(var t in e.removedNodes)if(b&&e.removedNodes[t]===v)return b.remove()})}),b.observerremover.observe(v.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(b.bind(v,$.isie&&!$.isie9?"propertychange":"DOMAttrModified",b.onAttributeChange),$.isie9&&v.attachEvent("onpropertychange",b.onAttributeChange),b.bind(v,"DOMNodeRemoved",function(e){e.target===v&&b.remove()}))}!b.ispage&&x.boxzoom&&b.bind(L,"resize",b.resizeZoom),b.istextarea&&(b.bind(b.win,"keydown",b.lazyResize),b.bind(b.win,"mouseup",b.lazyResize)),b.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var w=function(){var t;b.iframexd=!1;try{(t="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(e){t=!(b.iframexd=!0)}if(b.iframexd)return"console"in L&&console.log("NiceScroll error: policy restriced iframe"),!0;if(b.forcescreen=!0,b.isiframe&&(b.iframe={doc:P(t),html:b.doc.contents().find("html")[0],body:b.doc.contents().find("body")[0]},b.getContentSize=function(){return{w:Math.max(b.iframe.html.scrollWidth,b.iframe.body.scrollWidth),h:Math.max(b.iframe.html.scrollHeight,b.iframe.body.scrollHeight)}},b.docscroll=P(b.iframe.body)),!$.isios&&x.iframeautoresize&&!b.isiframe){b.win.scrollTop(0),b.doc.height("");var e=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);b.doc.height(e)}b.lazyResize(30),b.css(P(b.iframe.body),i),$.isios&&b.haswrapper&&b.css(P(t.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?b.bind(this.contentWindow,"scroll",b.onscroll):b.bind(t,"scroll",b.onscroll),x.enablemousewheel&&b.mousewheel(t,b.onmousewheel),x.enablekeyboard&&b.bind(t,$.isopera?"keypress":"keydown",b.onkeypress),$.cantouch?(b.bind(t,"touchstart",b.ontouchstart),b.bind(t,"touchmove",b.ontouchmove)):x.emulatetouch&&(b.bind(t,"mousedown",b.ontouchstart),b.bind(t,"mousemove",function(e){return b.ontouchmove(e,!0)}),x.grabcursorenabled&&$.cursorgrabvalue&&b.css(P(t.body),{cursor:$.cursorgrabvalue})),b.bind(t,"mouseup",b.ontouchend),b.zoom&&(x.dblclickzoom&&b.bind(t,"dblclick",b.doZoom),b.ongesturezoom&&b.bind(t,"gestureend",b.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout(function(){w.call(b.doc[0],!1)},250),b.bind(this.doc,"load",w)}},this.showCursor=function(e,t){if(b.cursortimeout&&(clearTimeout(b.cursortimeout),b.cursortimeout=0),b.rail){if(b.autohidedom&&(b.autohidedom.stop().css({opacity:x.cursoropacitymax}),b.cursoractive=!0),b.rail.drag&&1==b.rail.drag.pt||(void 0!==e&&!1!==e&&(b.scroll.y=e/b.scrollratio.y|0),void 0!==t&&(b.scroll.x=t/b.scrollratio.x|0)),b.cursor.css({height:b.cursorheight,top:b.scroll.y}),b.cursorh){var i=b.hasreversehr?b.scrollvaluemaxw-b.scroll.x:b.scroll.x;b.cursorh.css({width:b.cursorwidth,left:!b.rail.align&&b.rail.visibility?i+b.rail.width:i}),b.cursoractive=!0}b.zoom&&b.zoom.stop().css({opacity:x.cursoropacitymax})}},this.hideCursor=function(e){b.cursortimeout||b.rail&&b.autohidedom&&(b.hasmousefocus&&"leave"===x.autohidemode||(b.cursortimeout=setTimeout(function(){b.rail.active&&b.showonmouseevent||(b.autohidedom.stop().animate({opacity:x.cursoropacitymin}),b.zoom&&b.zoom.stop().animate({opacity:x.cursoropacitymin}),b.cursoractive=!1),b.cursortimeout=0},e||x.hidecursordelay)))},this.noticeCursor=function(e,t,i){b.showCursor(t,i),b.rail.active||b.hideCursor(e)},this.getContentSize=b.ispage?function(){return{w:Math.max(D.body.scrollWidth,D.documentElement.scrollWidth),h:Math.max(D.body.scrollHeight,D.documentElement.scrollHeight)}}:b.haswrapper?function(){return{w:b.doc[0].offsetWidth,h:b.doc[0].offsetHeight}}:function(){return{w:b.docscroll[0].scrollWidth,h:b.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!b||!b.win)return!1;var i=b.page.maxh,o=b.page.maxw,s=b.view.h,r=b.view.w;if(b.view={w:b.ispage?b.win.width():b.win[0].clientWidth,h:b.ispage?b.win.height():b.win[0].clientHeight},b.page=t||b.getContentSize(),b.page.maxh=Math.max(0,b.page.h-b.view.h),b.page.maxw=Math.max(0,b.page.w-b.view.w),b.page.maxh==i&&b.page.maxw==o&&b.view.w==r&&b.view.h==s){if(b.ispage)return b;var n=b.win.offset();if(b.lastposition){var a=b.lastposition;if(a.top==n.top&&a.left==n.left)return b}b.lastposition=n}return 0===b.page.maxh?(b.hideRail(),b.scrollvaluemax=0,b.scroll.y=0,b.scrollratio.y=0,b.cursorheight=0,b.setScrollTop(0),b.rail&&(b.rail.scrollable=!1)):(b.page.maxh-=x.railpadding.top+x.railpadding.bottom,b.rail.scrollable=!0),0===b.page.maxw?(b.hideRailHr(),b.scrollvaluemaxw=0,b.scroll.x=0,b.scrollratio.x=0,b.cursorwidth=0,b.setScrollLeft(0),b.railh&&(b.railh.scrollable=!1)):(b.page.maxw-=x.railpadding.left+x.railpadding.right,b.railh&&(b.railh.scrollable=x.horizrailenabled)),b.railslocked=b.locked||0===b.page.maxh&&0===b.page.maxw,b.railslocked?(b.ispage||b.updateScrollBar(b.view),!1):(b.hidden||(b.rail.visibility||b.showRail(),b.railh&&!b.railh.visibility&&b.showRailHr()),b.istextarea&&b.win.css("resize")&&"none"!=b.win.css("resize")&&(b.view.h-=20),b.cursorheight=Math.min(b.view.h,Math.round(b.view.h*(b.view.h/b.page.h))),b.cursorheight=x.cursorfixedheight?x.cursorfixedheight:Math.max(x.cursorminheight,b.cursorheight),b.cursorwidth=Math.min(b.view.w,Math.round(b.view.w*(b.view.w/b.page.w))),b.cursorwidth=x.cursorfixedheight?x.cursorfixedheight:Math.max(x.cursorminheight,b.cursorwidth),b.scrollvaluemax=b.view.h-b.cursorheight-(x.railpadding.top+x.railpadding.bottom),b.hasborderbox||(b.scrollvaluemax-=b.cursor[0].offsetHeight-b.cursor[0].clientHeight),b.railh&&(b.railh.width=0<b.page.maxh?b.rail.width:b.view.w,b.scrollvaluemaxw=b.railh.width-b.cursorwidth-(x.railpadding.left+x.railpadding.right)),b.ispage||b.updateScrollBar(b.view),b.scrollratio={x:b.page.maxw/b.scrollvaluemaxw,y:b.page.maxh/b.scrollvaluemax},b.getScrollTop()>b.page.maxh?b.doScrollTop(b.page.maxh):(b.scroll.y=b.getScrollTop()/b.scrollratio.y|0,b.scroll.x=b.getScrollLeft()/b.scrollratio.x|0,b.cursoractive&&b.noticeCursor()),b.scroll.y&&0===b.getScrollTop()&&b.doScrollTo(b.scroll.y*b.scrollratio.y|0),b)},this.resize=b.onResize;var c=0;function h(i,o,s,e){b._bind(i,o,function(e){var t={original:e=e||L.event,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return e.preventDefault?e.preventDefault():e.returnValue=!1,!1},stopImmediatePropagation:function(){e.stopImmediatePropagation?e.stopImmediatePropagation():e.cancelBubble=!0}};return"mousewheel"==o?(e.wheelDeltaX&&(t.deltaX=-.025*e.wheelDeltaX),e.wheelDeltaY&&(t.deltaY=-.025*e.wheelDeltaY),!t.deltaY&&!t.deltaX&&(t.deltaY=-.025*e.wheelDelta)):t.deltaY=e.detail,s.call(i,t)},e)}this.onscreenresize=function(e){clearTimeout(c);var t=!b.ispage&&!b.haswrapper;t&&b.hideRails(),c=setTimeout(function(){b&&(t&&b.showRails(),b.resize()),c=0},120)},this.lazyResize=function(e){return clearTimeout(c),e=isNaN(e)?240:e,c=setTimeout(function(){b&&b.resize(),c=0},e),b},this.jqbind=function(e,t,i){b.events.push({e:e,n:t,f:i,q:!0}),P(e).on(t,i)};var u=!(this.mousewheel=function(e,t,i){var o="jquery"in e?e[0]:e;if("onwheel"in D.createElement("div"))b._bind(o,"wheel",t,i||!1);else{var s=void 0!==D.onmousewheel?"mousewheel":"DOMMouseScroll";h(o,s,t,i||!1),"DOMMouseScroll"==s&&h(o,"MozMousePixelScroll",t,i||!1)}});if($.haseventlistener){try{var p=Object.defineProperty({},"passive",{get:function(){u=!0}});L.addEventListener("test",null,p)}catch(e){}this.stopPropagation=function(e){return e&&(e=e.original?e.original:e).stopPropagation(),!1},this.cancelEvent=function(e){return e.cancelable&&e.preventDefault(),e.stopImmediatePropagation(),e.preventManipulation&&e.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},L.constructor.prototype.addEventListener=D.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(e,t,i){this.attachEvent("on"+e,t)},L.constructor.prototype.removeEventListener=D.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(e,t,i){this.detachEvent("on"+e,t)},this.cancelEvent=function(e){return(e=e||L.event)&&(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1),!1},this.stopPropagation=function(e){return(e=e||L.event)&&(e.cancelBubble=!0),!1};this.delegate=function(e,t,i,o,s){var r=I[t]||!1;r||(r={a:[],l:[],f:function(e){for(var t=r.l,i=!1,o=t.length-1;0<=o;o--)if(!1===(i=t[o].call(e.target,e)))return!1;return i}},b.bind(e,t,r.f,o,s),I[t]=r),b.ispage?(r.a=[b.id].concat(r.a),r.l=[i].concat(r.l)):(r.a.push(b.id),r.l.push(i))},this.undelegate=function(e,t,i,o,s){var r=I[t]||!1;if(r&&r.l)for(var n=0,a=r.l.length;n<a;n++)r.a[n]===b.id&&(r.a.splice(n),r.l.splice(n),0===r.a.length&&(b._unbind(e,t,r.l.f),I[t]=null))},this.bind=function(e,t,i,o,s){var r="jquery"in e?e[0]:e;b._bind(r,t,i,o||!1,s||!1)},this._bind=function(e,t,i,o,s){b.events.push({e:e,n:t,f:i,b:o,q:!1}),u&&s?e.addEventListener(t,i,{passive:!1,capture:o}):e.addEventListener(t,i,o||!1)},this._unbind=function(e,t,i,o){I[t]?b.undelegate(e,t,i,o):e.removeEventListener(t,i,o)},this.unbindAll=function(){for(var e=0;e<b.events.length;e++){var t=b.events[e];t.q?t.e.unbind(t.n,t.f):b._unbind(t.e,t.n,t.f,t.b)}},this.showRails=function(){return b.showRail().showRailHr()},this.showRail=function(){return 0===b.page.maxh||!b.ispage&&"none"==b.win.css("display")||(b.rail.visibility=!0,b.rail.css("display","block")),b},this.showRailHr=function(){return b.railh&&(0===b.page.maxw||!b.ispage&&"none"==b.win.css("display")||(b.railh.visibility=!0,b.railh.css("display","block"))),b},this.hideRails=function(){return b.hideRail().hideRailHr()},this.hideRail=function(){return b.rail.visibility=!1,b.rail.css("display","none"),b},this.hideRailHr=function(){return b.railh&&(b.railh.visibility=!1,b.railh.css("display","none")),b},this.show=function(){return b.hidden=!1,b.railslocked=!1,b.showRails()},this.hide=function(){return b.hidden=!0,b.railslocked=!0,b.hideRails()},this.toggle=function(){return b.hidden?b.show():b.hide()},this.remove=function(){for(var e in b.stop(),b.cursortimeout&&clearTimeout(b.cursortimeout),b.delaylist)b.delaylist[e]&&q(b.delaylist[e].h);b.doZoomOut(),b.unbindAll(),$.isie9&&b.win[0].detachEvent("onpropertychange",b.onAttributeChange),!1!==b.observer&&b.observer.disconnect(),!1!==b.observerremover&&b.observerremover.disconnect(),!1!==b.observerbody&&b.observerbody.disconnect(),b.events=null,b.cursor&&b.cursor.remove(),b.cursorh&&b.cursorh.remove(),b.rail&&b.rail.remove(),b.railh&&b.railh.remove(),b.zoom&&b.zoom.remove();for(var t=0;t<b.saved.css.length;t++){var i=b.saved.css[t];i[0].css(i[1],void 0===i[2]?"":i[2])}b.saved=!1,b.me.data("__nicescroll","");var o=P.nicescroll;for(var s in o.each(function(e){if(this&&this.id===b.id){delete o[e];for(var t=++e;t<o.length;t++,e++)o[e]=o[t];o.length--,o.length&&delete o[o.length]}}),b)b[s]=null,delete b[s];b=null},this.scrollstart=function(e){return this.onscrollstart=e,b},this.scrollend=function(e){return this.onscrollend=e,b},this.scrollcancel=function(e){return this.onscrollcancel=e,b},this.zoomin=function(e){return this.onzoomin=e,b},this.zoomout=function(e){return this.onzoomout=e,b},this.isScrollable=function(e){var t=e.target?e.target:e;if("OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&t!==this.me[0]&&!/^BODY|HTML/.test(t.nodeName);){var i=P(t),o=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(o))return t.clientHeight!=t.scrollHeight;t=!!t.parentNode&&t.parentNode}return!1},this.getViewport=function(e){for(var t=!(!e||!e.parentNode)&&e.parentNode;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var i=P(t);if(/fixed|absolute/.test(i.css("position")))return i;var o=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(o)&&t.clientHeight!=t.scrollHeight)return i;if(0<i.getNiceScroll().length)return i;t=!!t.parentNode&&t.parentNode}return!1},this.triggerScrollStart=function(e,t,i,o,s){if(b.onscrollstart){var r={type:"scrollstart",current:{x:e,y:t},request:{x:i,y:o},end:{x:b.newscrollx,y:b.newscrolly},speed:s};b.onscrollstart.call(b,r)}},this.triggerScrollEnd=function(){if(b.onscrollend){var e=b.getScrollLeft(),t=b.getScrollTop(),i={type:"scrollend",current:{x:e,y:t},end:{x:e,y:t}};b.onscrollend.call(b,i)}};var f=0,m=0,g=0,v=1;function w(e,t,i,o){b.scrollrunning||(b.newscrolly=b.getScrollTop(),b.newscrollx=b.getScrollLeft(),g=j());var s=j()-g;if(g=j(),350<s?v=1:v+=(2-v)/10,t=t*v|0,e=e*v|0){if(o)if(e<0){if(b.getScrollLeft()>=b.page.maxw)return!0}else if(b.getScrollLeft()<=0)return!0;var r=0<e?1:-1;m!==r&&(b.scrollmom&&b.scrollmom.stop(),b.newscrollx=b.getScrollLeft(),m=r),b.lastdeltax-=e}if(t){if(function(){var e=b.getScrollTop();if(t<0){if(e>=b.page.maxh)return!0}else if(e<=0)return!0}()){if(x.nativeparentscrolling&&i&&!b.ispage&&!b.zoomactive)return!0;var n=b.view.h>>1;t=b.newscrolly<-n?(b.newscrolly=-n,-1):b.newscrolly>b.page.maxh+n?(b.newscrolly=b.page.maxh+n,1):0}var a=0<t?1:-1;f!==a&&(b.scrollmom&&b.scrollmom.stop(),b.newscrolly=b.getScrollTop(),f=a),b.lastdeltay-=t}(t||e)&&b.synched("relativexy",function(){var e=b.lastdeltay+b.newscrolly;b.lastdeltay=0;var t=b.lastdeltax+b.newscrollx;b.lastdeltax=0,b.rail.drag||b.doScrollPos(t,e)})}var _=!1;function C(e,t,i){var o,s;if(!i&&_)return!0;(0===e.deltaMode?(o=-e.deltaX*(x.mousescrollstep/54)|0,s=-e.deltaY*(x.mousescrollstep/54)|0):1===e.deltaMode&&(o=-e.deltaX*x.mousescrollstep*50/80|0,s=-e.deltaY*x.mousescrollstep*50/80|0),t&&x.oneaxismousemode&&0===o&&s)&&(o=s,s=0,i&&(o<0?b.getScrollLeft()>=b.page.maxw:b.getScrollLeft()<=0)&&(s=o,o=0));if(b.isrtlmode&&(o=-o),!w(o,s,i,!0))return _=!1,e.stopImmediatePropagation(),e.preventDefault();i&&(_=!0)}if(this.onmousewheel=function(e){if(b.wheelprevented||b.locked)return!1;if(b.railslocked)return b.debounced("checkunlock",b.resize,250),!1;if(b.rail.drag)return b.cancelEvent(e);if("auto"===x.oneaxismousemode&&0!==e.deltaX&&(x.oneaxismousemode=!1),x.oneaxismousemode&&0===e.deltaX&&!b.rail.scrollable)return!b.railh||!b.railh.scrollable||b.onmousewheelhr(e);var t=j(),i=!1;if(x.preservenativescrolling&&b.checkarea+600<t&&(b.nativescrollingarea=b.isScrollable(e),i=!0),b.checkarea=t,b.nativescrollingarea)return!0;var o=C(e,!1,i);return o&&(b.checkarea=0),o},this.onmousewheelhr=function(e){if(!b.wheelprevented){if(b.railslocked||!b.railh.scrollable)return!0;if(b.rail.drag)return b.cancelEvent(e);var t=j(),i=!1;return x.preservenativescrolling&&b.checkarea+600<t&&(b.nativescrollingarea=b.isScrollable(e),i=!0),b.checkarea=t,!!b.nativescrollingarea||(b.railslocked?b.cancelEvent(e):C(e,!0,i))}},this.stop=function(){return b.cancelScroll(),b.scrollmon&&b.scrollmon.stop(),b.cursorfreezed=!1,b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.noticeCursor(),b},this.getTransitionSpeed=function(e){return 80+e/72*x.scrollspeed|0},x.smoothscroll)if(b.ishwscroll&&$.hastransition&&x.usetransition&&x.smoothscroll){var T="";this.resetTransition=function(){T="",b.doc.css($.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(e,t){var i=t?e:b.getTransitionSpeed(e),o=i+"ms";return T!==o&&(T=o,b.doc.css($.prefixstyle+"transition-duration",o)),i},this.doScrollLeft=function(e,t){var i=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(i,e,t)},this.cursorupdate={running:!1,start:function(){var e=this;if(!e.running){e.running=!0;var t=function(){e.running&&A(t),b.showCursor(b.getScrollTop(),b.getScrollLeft()),b.notifyScrollEvent(b.win[0])};A(t)}},stop:function(){this.running=!1}},this.doScrollPos=function(e,t,i){var o=b.getScrollTop(),s=b.getScrollLeft();if(((b.newscrolly-o)*(t-o)<0||(b.newscrollx-s)*(e-s)<0)&&b.cancelScroll(),x.bouncescroll?(t<0?t=t/2|0:t>b.page.maxh&&(t=b.page.maxh+(t-b.page.maxh)/2|0),e<0?e=e/2|0:e>b.page.maxw&&(e=b.page.maxw+(e-b.page.maxw)/2|0)):(t<0?t=0:t>b.page.maxh&&(t=b.page.maxh),e<0?e=0:e>b.page.maxw&&(e=b.page.maxw)),b.scrollrunning&&e==b.newscrollx&&t==b.newscrolly)return!1;b.newscrolly=t,b.newscrollx=e;var r=b.getScrollTop(),n=b.getScrollLeft(),a={};a.x=e-n,a.y=t-r;var l=0|Math.sqrt(a.x*a.x+a.y*a.y),c=b.prepareTransition(l);b.scrollrunning||(b.scrollrunning=!0,b.triggerScrollStart(n,r,e,t,c),b.cursorupdate.start()),b.scrollendtrapped=!0,$.transitionend||(b.scrollendtrapped&&clearTimeout(b.scrollendtrapped),b.scrollendtrapped=setTimeout(b.onScrollTransitionEnd,c)),b.setScrollTop(b.newscrolly),b.setScrollLeft(b.newscrollx)},this.cancelScroll=function(){if(!b.scrollendtrapped)return!0;var e=b.getScrollTop(),t=b.getScrollLeft();return b.scrollrunning=!1,$.transitionend||clearTimeout($.transitionend),b.scrollendtrapped=!1,b.resetTransition(),b.setScrollTop(e),b.railh&&b.setScrollLeft(t),b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm),b.timerscroll=!1,b.cursorfreezed=!1,b.cursorupdate.stop(),b.showCursor(e,t),b},this.onScrollTransitionEnd=function(){if(b.scrollendtrapped){var e=b.getScrollTop(),t=b.getScrollLeft();if(e<0?e=0:e>b.page.maxh&&(e=b.page.maxh),t<0?t=0:t>b.page.maxw&&(t=b.page.maxw),e!=b.newscrolly||t!=b.newscrollx)return b.doScrollPos(t,e,x.snapbackspeed);b.scrollrunning&&b.triggerScrollEnd(),b.scrollrunning=!1,b.scrollendtrapped=!1,b.resetTransition(),b.timerscroll=!1,b.setScrollTop(e),b.railh&&b.setScrollLeft(t),b.cursorupdate.stop(),b.noticeCursor(!1,e,t),b.cursorfreezed=!1}}}else this.doScrollLeft=function(e,t){var i=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(i,e,t)},this.doScrollPos=function(e,t,i){var o=b.getScrollTop(),s=b.getScrollLeft();((b.newscrolly-o)*(t-o)<0||(b.newscrollx-s)*(e-s)<0)&&b.cancelScroll();var r=!1;if(b.bouncescroll&&b.rail.visibility||(t<0?r=!(t=0):t>b.page.maxh&&(t=b.page.maxh,r=!0)),b.bouncescroll&&b.railh.visibility||(e<0?r=!(e=0):e>b.page.maxw&&(e=b.page.maxw,r=!0)),b.scrollrunning&&b.newscrolly===t&&b.newscrollx===e)return!0;b.newscrolly=t,b.newscrollx=e,b.dst={},b.dst.x=e-s,b.dst.y=t-o,b.dst.px=s,b.dst.py=o;var n=0|Math.sqrt(b.dst.x*b.dst.x+b.dst.y*b.dst.y),a=b.getTransitionSpeed(n);b.bzscroll={};var l=r?1:.58;b.bzscroll.x=new d(s,b.newscrollx,a,0,0,l,1),b.bzscroll.y=new d(o,b.newscrolly,a,0,0,l,1);j();var c=function(){if(b.scrollrunning){var e=b.bzscroll.y.getPos();b.setScrollLeft(b.bzscroll.x.getNow()),b.setScrollTop(b.bzscroll.y.getNow()),e<=1?b.timer=A(c):(b.scrollrunning=!1,b.timer=0,b.triggerScrollEnd())}};b.scrollrunning||(b.triggerScrollStart(s,o,e,t,a),b.scrollrunning=!0,b.timer=A(c))},this.cancelScroll=function(){return b.timer&&q(b.timer),b.timer=0,b.bzscroll=!1,b.scrollrunning=!1,b};else this.doScrollLeft=function(e,t){var i=b.getScrollTop();b.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=b.getScrollLeft();b.doScrollPos(i,e,t)},this.doScrollPos=function(e,t,i){var o=e>b.page.maxw?b.page.maxw:e;o<0&&(o=0);var s=t>b.page.maxh?b.page.maxh:t;s<0&&(s=0),b.synched("scroll",function(){b.setScrollTop(s),b.setScrollLeft(o)})},this.cancelScroll=function(){};this.doScrollBy=function(e,t){w(0,e)},this.doScrollLeftBy=function(e,t){w(e,0)},this.doScrollTo=function(e,t){var i=t?Math.round(e*b.scrollratio.y):e;i<0?i=0:i>b.page.maxh&&(i=b.page.maxh),b.cursorfreezed=!1,b.doScrollTop(e)},this.checkContentSize=function(){var e=b.getContentSize();e.h==b.page.h&&e.w==b.page.w||b.resize(!1,e)},b.onscroll=function(e){b.rail.drag||b.cursorfreezed||b.synched("scroll",function(){b.scroll.y=Math.round(b.getScrollTop()/b.scrollratio.y),b.railh&&(b.scroll.x=Math.round(b.getScrollLeft()/b.scrollratio.x)),b.noticeCursor()})},b.bind(b.docscroll,"scroll",b.onscroll),this.doZoomIn=function(e){if(!b.zoomactive){b.zoomactive=!0,b.zoomrestore={style:{}};var t=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],i=b.win[0].style;for(var o in t){var s=t[o];b.zoomrestore.style[s]=void 0!==i[s]?i[s]:""}b.zoomrestore.style.width=b.win.css("width"),b.zoomrestore.style.height=b.win.css("height"),b.zoomrestore.padding={w:b.win.outerWidth()-b.win.width(),h:b.win.outerHeight()-b.win.height()},$.isios4&&(b.zoomrestore.scrollTop=O.scrollTop(),O.scrollTop(0)),b.win.css({position:$.isios4?"absolute":"fixed",top:0,left:0,zIndex:M+100,margin:0});var r=b.win.css("backgroundColor");return(""===r||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(r))&&b.win.css("backgroundColor","#fff"),b.rail.css({zIndex:M+101}),b.zoom.css({zIndex:M+102}),b.zoom.css("backgroundPosition","0 -18px"),b.resizeZoom(),b.onzoomin&&b.onzoomin.call(b),b.cancelEvent(e)}},this.doZoomOut=function(e){if(b.zoomactive)return b.zoomactive=!1,b.win.css("margin",""),b.win.css(b.zoomrestore.style),$.isios4&&O.scrollTop(b.zoomrestore.scrollTop),b.rail.css({"z-index":b.zindex}),b.zoom.css({"z-index":b.zindex}),b.zoomrestore=!1,b.zoom.css("backgroundPosition","0 0"),b.onResize(),b.onzoomout&&b.onzoomout.call(b),b.cancelEvent(e)},this.doZoom=function(e){return b.zoomactive?b.doZoomOut(e):b.doZoomIn(e)},this.resizeZoom=function(){if(b.zoomactive){var e=b.getScrollTop();b.win.css({width:O.width()-b.zoomrestore.padding.w+"px",height:O.height()-b.zoomrestore.padding.h+"px"}),b.onResize(),b.setScrollTop(Math.min(b.page.maxh,e))}},this.init(),P.nicescroll.push(this)},R=function(e){var m=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(e,t){m.stop(),m.steptime=0,m.lasttime=j(),m.speedx=0,m.speedy=0,m.lastx=e,m.lasty=t,m.lastscrollx=-1,m.lastscrolly=-1},this.update=function(e,t){var i=j();m.steptime=i-m.lasttime,m.lasttime=i;var o=t-m.lasty,s=e-m.lastx,r=m.nc.getScrollTop()+o,n=m.nc.getScrollLeft()+s;m.snapx=n<0||n>m.nc.page.maxw,m.snapy=r<0||r>m.nc.page.maxh,m.speedx=s,m.speedy=o,m.lastx=e,m.lasty=t},this.stop=function(){m.nc.unsynched("domomentum2d"),m.timer&&clearTimeout(m.timer),m.timer=0,m.lastscrollx=-1,m.lastscrolly=-1},this.doSnapy=function(e,t){var i=!1;t<0?i=!(t=0):t>m.nc.page.maxh&&(t=m.nc.page.maxh,i=!0),e<0?i=!(e=0):e>m.nc.page.maxw&&(e=m.nc.page.maxw,i=!0),i?m.nc.doScrollPos(e,t,m.nc.opt.snapbackspeed):m.nc.triggerScrollEnd()},this.doMomentum=function(e){var t=j(),i=e?t+e:m.lasttime,o=m.nc.getScrollLeft(),s=m.nc.getScrollTop(),r=m.nc.page.maxh,n=m.nc.page.maxw;m.speedx=0<n?Math.min(60,m.speedx):0,m.speedy=0<r?Math.min(60,m.speedy):0;var a=i&&t-i<=60;(s<0||r<s||o<0||n<o)&&(a=!1);var l=!(!m.speedy||!a)&&m.speedy,c=!(!m.speedx||!a)&&m.speedx;if(l||c){var d=Math.max(16,m.steptime);if(50<d){var h=d/50;m.speedx*=h,m.speedy*=h,d=50}m.demulxy=0,m.lastscrollx=m.nc.getScrollLeft(),m.chkx=m.lastscrollx,m.lastscrolly=m.nc.getScrollTop(),m.chky=m.lastscrolly;var u=m.lastscrollx,p=m.lastscrolly,f=function(){var e=600<j()-t?.04:.02;m.speedx&&(u=Math.floor(m.lastscrollx-m.speedx*(1-m.demulxy)),((m.lastscrollx=u)<0||n<u)&&(e=.1)),m.speedy&&(p=Math.floor(m.lastscrolly-m.speedy*(1-m.demulxy)),((m.lastscrolly=p)<0||r<p)&&(e=.1)),m.demulxy=Math.min(1,m.demulxy+e),m.nc.synched("domomentum2d",function(){if(m.speedx){m.nc.getScrollLeft();m.chkx=u,m.nc.setScrollLeft(u)}if(m.speedy){m.nc.getScrollTop();m.chky=p,m.nc.setScrollTop(p)}m.timer||(m.nc.hideCursor(),m.doSnapy(u,p))}),m.demulxy<1?m.timer=setTimeout(f,d):(m.stop(),m.nc.hideCursor(),m.doSnapy(u,p))};f()}else m.doSnapy(m.nc.getScrollLeft(),m.nc.getScrollTop())}},s=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e,t,i){var o=P.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollTop():s.call(e)},set:function(e,t){var i=P.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(t)):s.call(e,t),this}},e.fn.scrollTop=function(t){if(void 0!==t)return this.each(function(){var e=P.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollTop(parseInt(t)):s.call(P(this),t)});var e=this[0]&&P.data(this[0],"__nicescroll")||!1;return e&&e.ishwscroll?e.getScrollTop():s.call(this)};var n=e.fn.scrollLeft;P.cssHooks.pageXOffset={get:function(e,t,i){var o=P.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollLeft():n.call(e)},set:function(e,t){var i=P.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(t)):n.call(e,t),this}},e.fn.scrollLeft=function(t){if(void 0!==t)return this.each(function(){var e=P.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollLeft(parseInt(t)):n.call(P(this),t)});var e=this[0]&&P.data(this[0],"__nicescroll")||!1;return e&&e.ishwscroll?e.getScrollLeft():n.call(this)};var l=function(e){var t=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){return P.each(t,e),t},this.push=function(e){t[t.length]=e,t.length++},this.eq=function(e){return t[e]},e)for(var i=0;i<e.length;i++){var o=P.data(e[i],"__nicescroll")||!1;o&&(this[this.length]=o,this.length++)}return this};!function(e,t,i){for(var o=0,s=t.length;o<s;o++)i(e,t[o])}(l.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}}),e.fn.getNiceScroll=function(e){return void 0===e?new l(this):this[e]&&P.data(this[e],"__nicescroll")||!1},(e.expr.pseudos||e.expr[":"]).nicescroll=function(e){return void 0!==P.data(e,"__nicescroll")},P.fn.niceScroll=function(s,r){void 0!==r||"object"!=typeof s||"jquery"in s||(r=s,s=!1);var n=new l;return this.each(function(){var e=P(this),t=P.extend({},r);if(s){var i=P(s);t.doc=1<i.length?P(s,e):i,t.win=e}!("doc"in t)||"win"in t||(t.win=e);var o=e.data("__nicescroll")||!1;o||(t.doc=t.doc||e,o=new a(t,e),e.data("__nicescroll",o)),n.push(o)}),1===n.length?n[0]:n},L.NiceScroll={getjQuery:function(){return e}},P.nicescroll||(P.nicescroll=new l,P.nicescroll.options=Y)}),function(l,i,s,r){function c(e,t){this.settings=null,this.options=l.extend({},c.Defaults,t),this.$element=l(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},l.each(["onResize","onThrottledResize"],l.proxy(function(e,t){this._handlers[t]=l.proxy(this[t],this)},this)),l.each(c.Plugins,l.proxy(function(e,t){this._plugins[e.charAt(0).toLowerCase()+e.slice(1)]=new t(this)},this)),l.each(c.Workers,l.proxy(function(e,t){this._pipe.push({filter:t.filter,run:l.proxy(t.run,this)})},this)),this.setup(),this.initialize()}c.Defaults={items:5,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:i,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"slide-refresh",loadedClass:"slide-slidebox",loadingClass:"slide-loading",rtlClass:"slide-rtl",responsiveClass:"slide-responsive",dragClass:"slide-drag",itemClass:"slide-item",stageClass:"slide-wrapper",stageOuterClass:"slide-wrapper-outer",grabClass:"grabbing"},c.Width={Default:"default",Inner:"inner",Outer:"outer"},c.Type={Event:"event",State:"state"},c.Plugins={},c.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(e){e.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(e){var t=this.settings.margin||"",i=!this.settings.autoWidth,o=this.settings.rtl,s={width:"auto","margin-left":o?t:"","margin-right":o?"":t};!i&&this.$stage.children().css(s),e.css=s}},{filter:["width","items","settings"],run:function(e){var t=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,o=this._items.length,s=!this.settings.autoWidth,r=[];for(e.items={merge:!1,width:t};o--;)i=this._mergers[o],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,e.items.merge=1<i||e.items.merge,r[o]=s?t*i:this._items[o].width();this._widths=r}},{filter:["items","settings"],run:function(){var e=[],t=this._items,i=this.settings,o=Math.max(2*i.items,4),s=2*Math.ceil(t.length/2),r=i.loop&&t.length?i.rewind?o:Math.max(o,s):0,n="",a="";for(r/=2;r--;)e.push(this.normalize(e.length/2,!0)),n+=t[e[e.length-1]][0].outerHTML,e.push(this.normalize(t.length-1-(e.length-1)/2,!0)),a=t[e[e.length-1]][0].outerHTML+a;this._clones=e,l(n).addClass("cloned").appendTo(this.$stage),l(a).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var e=this.settings.rtl?1:-1,t=this._clones.length+this._items.length,i=-1,o=0,s=0,r=[];++i<t;)o=r[i-1]||0,s=this._widths[this.relative(i)]+this.settings.margin,r.push(o+s*e);this._coordinates=r}},{filter:["width","items","settings"],run:function(){var e=this.settings.stagePadding,t=this._coordinates,i={width:Math.ceil(Math.abs(t[t.length-1]))+2*e,"padding-left":e||"","padding-right":e||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(e){var t=this._coordinates.length,i=!this.settings.autoWidth,o=this.$stage.children();if(i&&e.items.merge)for(;t--;)e.css.width=this._widths[this.relative(t)],o.eq(t).css(e.css);else i&&(e.css.width=e.items.width,o.css(e.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(e){e.current=e.current?this.$stage.children().index(e.current):0,e.current=Math.max(this.minimum(),Math.min(this.maximum(),e.current)),this.reset(e.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var e,t,i,o,s=this.settings.rtl?1:-1,r=2*this.settings.stagePadding,n=this.coordinates(this.current())+r,a=n+this.width()*s,l=[];for(i=0,o=this._coordinates.length;i<o;i++)e=this._coordinates[i-1]||0,t=Math.abs(this._coordinates[i])+r*s,(this.op(e,"<=",n)&&this.op(e,">",a)||this.op(t,"<",n)&&this.op(t,">",a))&&l.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],c.prototype.initialize=function(){var e,t,i;(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading"))&&(e=this.$element.find("img"),t=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:r,i=this.$element.children(t).width(),e.length&&i<=0&&this.preloadAutoWidthImages(e));this.$element.addClass(this.options.loadingClass),this.$stage=l("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},c.prototype.setup=function(){var t=this.viewport(),e=this.options.responsive,i=-1,o=null;e?(l.each(e,function(e){e<=t&&i<e&&(i=Number(e))}),delete(o=l.extend({},this.options,e[i])).responsive,o.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+i))):o=l.extend({},this.options),null!==this.settings&&this._breakpoint===i||(this.trigger("change",{property:{name:"settings",value:o}}),this._breakpoint=i,this.settings=o,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}}))},c.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},c.prototype.prepare=function(e){var t=this.trigger("prepare",{content:e});return t.data||(t.data=l("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:t.data}),t.data},c.prototype.update=function(){for(var e=0,t=this._pipe.length,i=l.proxy(function(e){return this[e]},this._invalidated),o={};e<t;)(this._invalidated.all||0<l.grep(this._pipe[e].filter,i).length)&&this._pipe[e].run(o),e++;this._invalidated={},!this.is("valid")&&this.enter("valid")},c.prototype.width=function(e){switch(e=e||c.Width.Default){case c.Width.Inner:case c.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},c.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},c.prototype.onThrottledResize=function(){i.clearTimeout(this.resizeTimer),this.resizeTimer=i.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},c.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},c.prototype.registerEventHandlers=function(){l.support.transition&&this.$stage.on(l.support.transition.end+".btq.core",l.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(i,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.btq.core",l.proxy(this.onDragStart,this)),this.$stage.on("dragstart.btq.core selectstart.btq.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.btq.core",l.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.btq.core",l.proxy(this.onDragEnd,this)))},c.prototype.onDragStart=function(e){var t=null;3!==e.which&&(t=l.support.transform?{x:(t=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===t.length?12:4],y:t[16===t.length?13:5]}:(t=this.$stage.position(),{x:this.settings.rtl?t.left+this.$stage.width()-this.width()+this.settings.margin:t.left,y:t.top}),this.is("animating")&&(l.support.transform?this.animate(t.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=l(e.target),this._drag.stage.start=t,this._drag.stage.current=t,this._drag.pointer=this.pointer(e),l(s).on("mouseup.btq.core touchend.btq.core",l.proxy(this.onDragEnd,this)),l(s).one("mousemove.btq.core touchmove.btq.core",l.proxy(function(e){var t=this.difference(this._drag.pointer,this.pointer(e));l(s).on("mousemove.btq.core touchmove.btq.core",l.proxy(this.onDragMove,this)),Math.abs(t.x)<Math.abs(t.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},c.prototype.onDragMove=function(e){var t=null,i=null,o=null,s=this.difference(this._drag.pointer,this.pointer(e)),r=this.difference(this._drag.stage.start,s);this.is("dragging")&&(e.preventDefault(),this.settings.loop?(t=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-t,r.x=((r.x-t)%i+i)%i+t):(t=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),o=this.settings.pullDrag?-1*s.x/5:0,r.x=Math.max(Math.min(r.x,t+o),i+o)),this._drag.stage.current=r,this.animate(r.x))},c.prototype.onDragEnd=function(e){var t=this.difference(this._drag.pointer,this.pointer(e)),i=this._drag.stage.current,o=0<t.x^this.settings.rtl?"left":"right";l(s).off(".btq.core"),this.$element.removeClass(this.options.grabClass),(0!==t.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(i.x,0!==t.x?o:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=o,(3<Math.abs(t.x)||300<(new Date).getTime()-this._drag.time)&&this._drag.target.one("click.btq.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},c.prototype.closest=function(i,o){var s=-1,r=this.width(),n=this.coordinates();return this.settings.freeDrag||l.each(n,l.proxy(function(e,t){return"left"===o&&t-30<i&&i<t+30?s=e:"right"===o&&t-r-30<i&&i<t-r+30?s=e+1:this.op(i,"<",t)&&this.op(i,">",n[e+1]||t-r)&&(s="left"===o?e+1:e),-1===s},this)),this.settings.loop||(this.op(i,">",n[this.minimum()])?s=i=this.minimum():this.op(i,"<",n[this.maximum()])&&(s=i=this.maximum())),s},c.prototype.animate=function(e){var t=0<this.speed();this.is("animating")&&this.onTransitionEnd(),t&&(this.enter("animating"),this.trigger("translate")),l.support.transform3d&&l.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"}):t?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,l.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},c.prototype.is=function(e){return this._states.current[e]&&0<this._states.current[e]},c.prototype.current=function(e){if(e===r)return this._current;if(0===this._items.length)return r;if(e=this.normalize(e),this._current!==e){var t=this.trigger("change",{property:{name:"position",value:e}});t.data!==r&&(e=this.normalize(t.data)),this._current=e,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},c.prototype.invalidate=function(e){return"string"===l.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),l.map(this._invalidated,function(e,t){return t})},c.prototype.reset=function(e){(e=this.normalize(e))!==r&&(this._speed=0,this._current=e,this.suppress(["translate","translated"]),this.animate(this.coordinates(e)),this.release(["translate","translated"]))},c.prototype.normalize=function(e,t){var i=this._items.length,o=t?0:this._clones.length;return!this.isNumeric(e)||i<1?e=r:(e<0||i+o<=e)&&(e=((e-o/2)%i+i)%i+o/2),e},c.prototype.relative=function(e){return e-=this._clones.length/2,this.normalize(e,!0)},c.prototype.maximum=function(e){var t,i=this.settings,o=this._coordinates.length,s=Math.abs(this._coordinates[o-1])-this._width,r=-1;if(i.loop)o=this._clones.length/2+this._items.length-1;else if(i.autoWidth||i.merge)for(;1<o-r;)Math.abs(this._coordinates[t=o+r>>1])<s?r=t:o=t;else o=i.center?this._items.length-1:this._items.length-i.items;return e&&(o-=this._clones.length/2),Math.max(o,0)},c.prototype.minimum=function(e){return e?0:this._clones.length/2},c.prototype.items=function(e){return e===r?this._items.slice():(e=this.normalize(e,!0),this._items[e])},c.prototype.mergers=function(e){return e===r?this._mergers.slice():(e=this.normalize(e,!0),this._mergers[e])},c.prototype.clones=function(i){var t=this._clones.length/2,o=t+this._items.length,s=function(e){return e%2==0?o+e/2:t-(e+1)/2};return i===r?l.map(this._clones,function(e,t){return s(t)}):l.map(this._clones,function(e,t){return e===i?s(t):null})},c.prototype.speed=function(e){return e!==r&&(this._speed=e),this._speed},c.prototype.coordinates=function(e){var t,i=1,o=e-1;return e===r?l.map(this._coordinates,l.proxy(function(e,t){return this.coordinates(t)},this)):(this.settings.center?(this.settings.rtl&&(i=-1,o=e+1),t=this._coordinates[e],t+=(this.width()-t+(this._coordinates[o]||0))/2*i):t=this._coordinates[o]||0,t=Math.ceil(t))},c.prototype.duration=function(e,t,i){return 0===i?0:Math.min(Math.max(Math.abs(t-e),1),6)*Math.abs(i||this.settings.smartSpeed)},c.prototype.to=function(e,t){var i=this.current(),o=null,s=e-this.relative(i),r=(0<s)-(s<0),n=this._items.length,a=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(s)>n/2&&(s+=-1*r*n),(o=(((e=i+s)-a)%n+n)%n+a)!==e&&o-s<=l&&0<o-s&&(i=o-s,e=o,this.reset(i))):e=this.settings.rewind?(e%(l+=1)+l)%l:Math.max(a,Math.min(l,e)),this.speed(this.duration(i,e,t)),this.current(e),this.$element.is(":visible")&&this.update()},c.prototype.next=function(e){e=e||!1,this.to(this.relative(this.current())+1,e)},c.prototype.prev=function(e){e=e||!1,this.to(this.relative(this.current())-1,e)},c.prototype.onTransitionEnd=function(e){if(e!==r&&(e.stopPropagation(),(e.target||e.srcElement||e.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},c.prototype.viewport=function(){var e;if(this.options.responsiveBaseElement!==i)e=l(this.options.responsiveBaseElement).width();else if(i.innerWidth)e=i.innerWidth;else{if(!s.documentElement||!s.documentElement.clientWidth)throw"Can not detect viewport width.";e=s.documentElement.clientWidth}return e},c.prototype.replace=function(e){this.$stage.empty(),this._items=[],e&&(e=e instanceof jQuery?e:l(e)),this.settings.nestedItemSelector&&(e=e.find("."+this.settings.nestedItemSelector)),e.filter(function(){return 1===this.nodeType}).each(l.proxy(function(e,t){t=this.prepare(t),this.$stage.append(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},c.prototype.add=function(e,t){var i=this.relative(this._current);t=t===r?this._items.length:this.normalize(t,!0),e=e instanceof jQuery?e:l(e),this.trigger("add",{content:e,position:t}),e=this.prepare(e),0===this._items.length||t===this._items.length?(0===this._items.length&&this.$stage.append(e),0!==this._items.length&&this._items[t-1].after(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").attr("data-merge")||1)):(this._items[t].before(e),this._items.splice(t,0,e),this._mergers.splice(t,0,1*e.find("[data-merge]").attr("data-merge")||1)),this._items[i]&&this.reset(this._items[i].index()),this.invalidate("items"),this.trigger("added",{content:e,position:t})},c.prototype.remove=function(e){(e=this.normalize(e,!0))!==r&&(this.trigger("remove",{content:this._items[e],position:e}),this._items[e].remove(),this._items.splice(e,1),this._mergers.splice(e,1),this.invalidate("items"),this.trigger("removed",{content:null,position:e}))},c.prototype.preloadAutoWidthImages=function(e){e.each(l.proxy(function(e,t){this.enter("pre-loading"),t=l(t),l(new Image).one("load",l.proxy(function(e){t.attr("src",e.target.src),t.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",t.attr("src")||t.attr("data-src")||t.attr("data-src-retina"))},this))},c.prototype.destroy=function(){for(var e in this.$element.off(".btq.core"),this.$stage.off(".btq.core"),l(s).off(".btq.core"),!1!==this.settings.responsive&&(i.clearTimeout(this.resizeTimer),this.off(i,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[e].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("btq.slidebox")},c.prototype.op=function(e,t,i){var o=this.settings.rtl;switch(t){case"<":return o?i<e:e<i;case">":return o?e<i:i<e;case">=":return o?e<=i:i<=e;case"<=":return o?i<=e:e<=i}},c.prototype.on=function(e,t,i,o){e.addEventListener?e.addEventListener(t,i,o):e.attachEvent&&e.attachEvent("on"+t,i)},c.prototype.off=function(e,t,i,o){e.removeEventListener?e.removeEventListener(t,i,o):e.detachEvent&&e.detachEvent("on"+t,i)},c.prototype.trigger=function(e,t,i,o,s){var r={item:{count:this._items.length,index:this.current()}},n=l.camelCase(l.grep(["on",e,i],function(e){return e}).join("-").toLowerCase()),a=l.Event([e,"btq",i||"slidebox"].join(".").toLowerCase(),l.extend({relatedTarget:this},r,t));return this._supress[e]||(l.each(this._plugins,function(e,t){t.onTrigger&&t.onTrigger(a)}),this.register({type:c.Type.Event,name:e}),this.$element.trigger(a),this.settings&&"function"==typeof this.settings[n]&&this.settings[n].call(this,a)),a},c.prototype.enter=function(e){l.each([e].concat(this._states.tags[e]||[]),l.proxy(function(e,t){this._states.current[t]===r&&(this._states.current[t]=0),this._states.current[t]++},this))},c.prototype.leave=function(e){l.each([e].concat(this._states.tags[e]||[]),l.proxy(function(e,t){this._states.current[t]--},this))},c.prototype.register=function(i){if(i.type===c.Type.Event){if(l.event.special[i.name]||(l.event.special[i.name]={}),!l.event.special[i.name].btq){var t=l.event.special[i.name]._default;l.event.special[i.name]._default=function(e){return!t||!t.apply||e.namespace&&-1!==e.namespace.indexOf("btq")?e.namespace&&-1<e.namespace.indexOf("btq"):t.apply(this,arguments)},l.event.special[i.name].btq=!0}}else i.type===c.Type.State&&(this._states.tags[i.name]?this._states.tags[i.name]=this._states.tags[i.name].concat(i.tags):this._states.tags[i.name]=i.tags,this._states.tags[i.name]=l.grep(this._states.tags[i.name],l.proxy(function(e,t){return l.inArray(e,this._states.tags[i.name])===t},this)))},c.prototype.suppress=function(e){l.each(e,l.proxy(function(e,t){this._supress[t]=!0},this))},c.prototype.release=function(e){l.each(e,l.proxy(function(e,t){delete this._supress[t]},this))},c.prototype.pointer=function(e){var t={x:null,y:null};return(e=(e=e.originalEvent||e||i.event).touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e).pageX?(t.x=e.pageX,t.y=e.pageY):(t.x=e.clientX,t.y=e.clientY),t},c.prototype.isNumeric=function(e){return!isNaN(parseFloat(e))},c.prototype.difference=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},l.fn.BTQSlider=function(t){var o=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=l(this),i=e.data("btq.slidebox");i||(i=new c(this,"object"==typeof t&&t),e.data("btq.slidebox",i),l.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(e,t){i.register({type:c.Type.Event,name:t}),i.$element.on(t+".btq.slidebox.core",l.proxy(function(e){e.namespace&&e.relatedTarget!==this&&(this.suppress([t]),i[t].apply(this,[].slice.call(arguments,1)),this.release([t]))},i))})),"string"==typeof t&&"_"!==t.charAt(0)&&i[t].apply(i,o)})},l.fn.BTQSlider.Constructor=c}(window.Zepto||window.jQuery,window,document),function(t,i,e,o){var s=function(e){this._core=e,this._interval=null,this._visible=null,this._handlers={"initialized.btq.slidebox":t.proxy(function(e){e.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=t.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers)};s.Defaults={autoRefresh:!0,autoRefreshInterval:500},s.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=i.setInterval(t.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},s.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("slide-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},s.prototype.destroy=function(){var e,t;for(e in i.clearInterval(this._interval),this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},t.fn.BTQSlider.Constructor.Plugins.AutoRefresh=s}(window.Zepto||window.jQuery,window,document),function(a,r,e,t){var i=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.btq.slidebox change.btq.slidebox resized.btq.slidebox":a.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type)){var t=this._core.settings,i=t.center&&Math.ceil(t.items/2)||t.items,o=t.center&&-1*i||0,s=(e.property&&void 0!==e.property.value?e.property.value:this._core.current())+o,r=this._core.clones().length,n=a.proxy(function(e,t){this.load(t)},this);for(0<t.lazyLoadEager&&(i+=t.lazyLoadEager,t.loop&&(s-=t.lazyLoadEager,i++));o++<i;)this.load(r/2+this._core.relative(s)),r&&a.each(this._core.clones(this._core.relative(s)),n),s++}},this)},this._core.options=a.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)};i.Defaults={lazyLoad:!1,lazyLoadEager:0},i.prototype.load=function(e){var t=this._core.$stage.children().children(),i=this._core.$stage.children().eq(e),o=i&&i.find(".lazyload");!o||-1<a.inArray(i.get(0),this._loaded)||(o&&t.each(function(e,t){a(t).parent().addClass("loading")}),o.each(a.proxy(function(e,t){var i,o=a(t),s=1<r.devicePixelRatio&&o.attr("data-src-retina")||o.attr("data-src")||o.attr("data-srcset");this._core.trigger("load",{element:o,url:s},"lazy"),o.is("img")?(o.one("load.btq.lazy",a.proxy(function(){o.css("opacity",1),this._core.trigger("loaded",{element:o,url:s},"lazy")},this)).attr("src",s),o.parent().parent().addClass("done")):o.is("source")?(o.one("load.btq.lazy",a.proxy(function(){this._core.trigger("loaded",{element:o,url:s},"lazy")},this)).attr("srcset",s),o.parent().parent().addClass("done")):((i=new Image).onload=a.proxy(function(){o.css({"background-image":'url("'+s+'")',opacity:"1"}),this._core.trigger("loaded",{element:o,url:s},"lazy")},this),i.src=s,o.parent().addClass("done"))},this)),this._loaded.push(i.get(0)))},i.prototype.destroy=function(){var e,t;for(e in this.handlers)this._core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},a.fn.BTQSlider.Constructor.Plugins.Lazy=i}(window.Zepto||window.jQuery,window,document),function(r,e,t,i){var o=function(e){this._core=e,this._handlers={"initialized.btq.slidebox refreshed.btq.slidebox":r.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.btq.slidebox":r.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&"position"==e.property.name&&this.update()},this),"loaded.btq.lazy":r.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&e.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=r.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers)};o.Defaults={autoHeight:!1,autoHeightClass:"autoheight"},o.prototype.update=function(){var e,t=this._core._current,i=t+this._core.settings.items,o=this._core.$stage.children().toArray().slice(t,i),s=[];r.each(o,function(e,t){s.push(r(t).height())}),e=Math.max.apply(null,s),this._core.$stage.parent().height(e).addClass(this._core.settings.autoHeightClass)},o.prototype.destroy=function(){var e,t;for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},r.fn.BTQSlider.Constructor.Plugins.AutoHeight=o}(window.Zepto||window.jQuery,window,document),function(d,e,t,i){var o=function(e){this._core=e,this._videos={},this._playing=null,this._handlers={"initialized.btq.slidebox":d.proxy(function(e){e.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.btq.slidebox":d.proxy(function(e){e.namespace&&this._core.settings.video&&this.isInFullScreen()&&e.preventDefault()},this),"refreshed.btq.slidebox":d.proxy(function(e){e.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .slide-video-frame").remove()},this),"changed.btq.slidebox":d.proxy(function(e){e.namespace&&"position"===e.property.name&&this._playing&&this.stop()},this),"prepared.btq.slidebox":d.proxy(function(e){if(e.namespace){var t=d(e.content).find(".slide-video");t.length&&(t.css("display","none"),this.fetch(t,d(e.content)))}},this)},this._core.options=d.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.btq.video",".slide-video-play-icon",d.proxy(function(e){this.play(e)},this))};o.Defaults={video:!1,videoHeight:!1,videoWidth:!1},o.prototype.fetch=function(e,t){var i=e.attr("data-vimeo-id")?"vimeo":e.attr("data-vzaar-id")?"vzaar":"youtube",o=e.attr("data-vimeo-id")||e.attr("data-youtube-id")||e.attr("data-vzaar-id"),s=e.attr("data-width")||this._core.settings.videoWidth,r=e.attr("data-height")||this._core.settings.videoHeight,n=e.attr("href");if(!n)throw new Error("Missing video URL.");if(-1<(o=n.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu"))i="youtube";else if(-1<o[3].indexOf("vimeo"))i="vimeo";else{if(!(-1<o[3].indexOf("vzaar")))throw new Error("Video URL not supported.");i="vzaar"}o=o[6],this._videos[n]={type:i,id:o,width:s,height:r},t.attr("data-video",n),this.thumbnail(e,this._videos[n])},o.prototype.thumbnail=function(t,e){var i,o,s=e.width&&e.height?'style="width:'+e.width+"px;height:"+e.height+'px;"':"",r=t.find("img"),n="src",a="",l=this._core.settings,c=function(e){'<div class="slide-video-play-icon"></div>',i=l.lazyLoad?'<div class="slide-video-tn '+a+'" '+n+'="'+e+'"></div>':'<div class="slide-video-tn" style="opacity:1;background-image:url('+e+')"></div>',t.after(i),t.after('<div class="slide-video-play-icon"></div>')};if(t.wrap('<div class="slide-video-wrapper"'+s+"></div>"),this._core.settings.lazyLoad&&(n="data-src",a="lazyload"),r.length)return c(r.attr(n)),r.remove(),!1;"youtube"===e.type?(o="//img.youtube.com/vi/"+e.id+"/maxresdefault.jpg",c(o)):"vimeo"===e.type?d.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+e.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){o=e[0].thumbnail_large,c(o)}}):"vzaar"===e.type&&d.ajax({type:"GET",url:"//vzaar.com/api/videos/"+e.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){o=e.framegrab_url,c(o)}})},o.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".slide-video-frame").remove(),this._playing.removeClass("slide-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},o.prototype.play=function(e){var t,i=d(e.target).closest("."+this._core.settings.itemClass),o=this._videos[i.attr("data-video")],s=o.width||"100%",r=o.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),i=this._core.items(this._core.relative(i.index())),this._core.reset(i.index()),"youtube"===o.type?t='<iframe id="VYT" width="'+s+'" height="'+r+'" src="//www.youtube.com/embed/'+o.id+'?autoplay=1&enablejsapi=1&controls=1&loop=1&color=white&rel=0" frameborder="0" allowfullscreen></iframe>':"vimeo"===o.type?t='<iframe src="//player.vimeo.com/video/'+o.id+'?autoplay=1" width="'+s+'" height="'+r+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===o.type&&(t='<iframe frameborder="0"height="'+r+'"width="'+s+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+o.id+'/player?autoplay=true"></iframe>'),"youtube"===o.type&&d(".slide-item.center .slide-video-frame").length||d('<div class="slide-video-frame">'+t+"</div>").insertAfter(i.find(".slide-video")),this._playing=i.addClass("slide-video-playing"))},o.prototype.isInFullScreen=function(){var e=t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement;return e&&d(e).parent().hasClass("slide-video-frame")},o.prototype.destroy=function(){var e,t;for(e in this._core.$element.off("click.btq.video"),this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},d.fn.BTQSlider.Constructor.Plugins.Video=o}(window.Zepto||window.jQuery,window,document),function(n,e,t,i){var o=function(e){this.core=e,this.core.options=n.extend({},o.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.btq.slidebox":n.proxy(function(e){e.namespace&&"position"==e.property.name&&(this.previous=this.core.current(),this.next=e.property.value)},this),"drag.btq.slidebox dragged.btq.slidebox translated.btq.slidebox":n.proxy(function(e){e.namespace&&(this.swapping="translated"==e.type)},this),"translate.btq.slidebox":n.proxy(function(e){e.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};o.Defaults={animateOut:!1,animateIn:!1},o.prototype.swap=function(){if(1===this.core.settings.items&&n.support.animation&&n.support.transition){this.core.speed(0);var e,t=n.proxy(this.clear,this),i=this.core.$stage.children().eq(this.previous),o=this.core.$stage.children().eq(this.next),s=this.core.settings.animateIn,r=this.core.settings.animateOut;this.core.current()!==this.previous&&(r&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),i.one(n.support.animation.end,t).css({left:e+"px"}).addClass("animated animated-out").addClass(r)),s&&o.one(n.support.animation.end,t).addClass("animated animated-in").addClass(s))}},o.prototype.clear=function(e){n(e.target).css({left:""}).removeClass("animated animated-out animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},o.prototype.destroy=function(){var e,t;for(e in this.handlers)this.core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},n.fn.BTQSlider.Constructor.Plugins.Animate=o}(window.Zepto||window.jQuery,window,document),function(i,o,s,e){var t=function(e){this._core=e,this._timeout=null,this._paused=!1,this._handlers={"changed.btq.slidebox":i.proxy(function(e){e.namespace&&"settings"===e.property.name?this._core.settings.autoplay?this.play():this.stop():e.namespace&&"position"===e.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.btq.slidebox":i.proxy(function(e){e.namespace&&this._core.settings.autoplay&&this.play()},this),"play.btq.autoplay":i.proxy(function(e,t,i){e.namespace&&this.play(t,i)},this),"stop.btq.autoplay":i.proxy(function(e){e.namespace&&this.stop()},this),"mouseover.btq.autoplay":i.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.btq.autoplay":i.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.btq.core":i.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.btq.core":i.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=i.extend({},t.Defaults,this._core.options)};t.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},t.prototype.play=function(e,t){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},t.prototype._getNextTimeout=function(e,t){return this._timeout&&o.clearTimeout(this._timeout),o.setTimeout(i.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||s.hidden||this._core.next(t||this._core.settings.autoplaySpeed)},this),e||this._core.settings.autoplayTimeout)},t.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},t.prototype.stop=function(){this._core.is("rotating")&&(o.clearTimeout(this._timeout),this._core.leave("rotating"))},t.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},t.prototype.destroy=function(){var e,t;for(e in this.stop(),this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},i.fn.BTQSlider.Constructor.Plugins.autoplay=t}(window.Zepto||window.jQuery,window,document),function(r,e,t,i){"use strict";var o=function(e){this._core=e,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.btq.slidebox":r.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+r(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.btq.slidebox":r.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,0,this._templates.pop())},this),"remove.btq.slidebox":r.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,1)},this),"changed.btq.slidebox":r.proxy(function(e){e.namespace&&"position"==e.property.name&&this.draw()},this),"initialized.btq.slidebox":r.proxy(function(e){e.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.btq.slidebox":r.proxy(function(e){e.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=r.extend({},o.Defaults,this._core.options),this.$element.on(this._handlers)};o.Defaults={nav:!1,navText:["",""],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"slide-buttons",navClass:["slide-prev","slide-next"],slideBy:1,dotClass:"slide-page",dotsClass:"slide-pagination",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1,dotNum:!1,dotSvg:!1},o.prototype.initialize=function(){var e,i=this._core.settings;for(e in this._controls.$relative=(i.navContainer?r(i.navContainer):r("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=r("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",r.proxy(function(e){this.prev(i.navSpeed)},this)),this._controls.$next=r("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",r.proxy(function(e){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[r("<div>").addClass(i.dotClass).append(r("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?r(i.dotsContainer):r("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",r.proxy(function(e){var t=r(e.target).parent().is(this._controls.$absolute)?r(e.target).index():r(e.target).parent().index();e.preventDefault(),this.to(t,i.dotsSpeed)},this)),this._overrides)this._core[e]=r.proxy(this[e],this)},o.prototype.destroy=function(){var e,t,i,o;for(e in this._handlers)this.$element.off(e,this._handlers[e]);for(t in this._controls)this._controls[t].remove();for(o in this.overides)this._core[o]=this._overrides[o];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},o.prototype.update=function(){var e,t,i=this._core.clones().length/2,o=i+this._core.items().length,s=this._core.maximum(!0),r=this._core.settings,n=r.center||r.autoWidth||r.dotsData?1:r.dotsEach||r.items;if("page"!==r.slideBy&&(r.slideBy=Math.min(r.slideBy,r.items)),r.dots||"page"==r.slideBy)for(this._pages=[],e=i,t=0;e<o;e++){if(n<=t||0===t){if(this._pages.push({start:Math.min(s,e-i),end:e-i+n-1}),Math.min(s,e-i)===s)break;t=0,0}t+=this._core.mergers(this._core.relative(e))}},o.prototype.draw=function(){var e,t=this._core.settings,i=this._core.items().length<=t.items,o=this._core.relative(this._core.current()),s=t.loop||t.rewind;this._controls.$relative.toggleClass("disabled",!t.nav||i),t.nav&&(this._controls.$previous.toggleClass("disabled",!s&&o<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!s&&o>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!t.dots||i),t.dots&&(e=this._pages.length-this._controls.$absolute.children().length,t.dotsData&&0!==e?this._controls.$absolute.html(this._templates.join("")):0<e?this._controls.$absolute.append(new Array(e+1).join(this._templates[0])):e<0&&this._controls.$absolute.children().slice(e).remove(),1==t.dotNum&&0!==e&&this._controls.$absolute.children().each(function(e,t){r(t).children().addClass("dot-number"),r(this).children().text(e+1)}),t.dotSvg&&0!==e&&this._controls.$absolute.children().each(function(e,t){r(t).children().append('<svg><circle class="circle-outer" cx="8" cy="8" r="6.2"/></svg>')}),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(r.inArray(this.current(),this._pages)).addClass("active"))},o.prototype.onTrigger=function(e){var t=this._core.settings;e.page={index:r.inArray(this.current(),this._pages),count:this._pages.length,size:t&&(t.center||t.autoWidth||t.dotsData?1:t.dotsEach||t.items)}},o.prototype.current=function(){var i=this._core.relative(this._core.current());return r.grep(this._pages,r.proxy(function(e,t){return e.start<=i&&e.end>=i},this)).pop()},o.prototype.getPosition=function(e){var t,i,o=this._core.settings;return"page"==o.slideBy?(t=r.inArray(this.current(),this._pages),i=this._pages.length,e?++t:--t,t=this._pages[(t%i+i)%i].start):(t=this._core.relative(this._core.current()),i=this._core.items().length,e?t+=o.slideBy:t-=o.slideBy),t},o.prototype.next=function(e){r.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},o.prototype.prev=function(e){r.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},o.prototype.to=function(e,t,i){var o;!i&&this._pages.length?(o=this._pages.length,r.proxy(this._overrides.to,this._core)(this._pages[(e%o+o)%o].start,t)):r.proxy(this._overrides.to,this._core)(e,t)},r.fn.BTQSlider.Constructor.Plugins.Navigation=o}(window.Zepto||window.jQuery,window,document),function(o,s,e,t){"use strict";var i=function(e){this._core=e,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.btq.slidebox":o.proxy(function(e){e.namespace&&"URLHash"===this._core.settings.startPosition&&o(s).trigger("hashchange.btq.navigation")},this),"prepared.btq.slidebox":o.proxy(function(e){if(e.namespace){var t=o(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!t)return;this._hashes[t]=e.content}},this),"changed.btq.slidebox":o.proxy(function(e){if(e.namespace&&"position"===e.property.name){var i=this._core.items(this._core.relative(this._core.current())),t=o.map(this._hashes,function(e,t){return e===i?t:null}).join();if(!t||s.location.hash.slice(1)===t)return;s.location.hash=t}},this)},this._core.options=o.extend({},i.Defaults,this._core.options),this.$element.on(this._handlers),o(s).on("hashchange.btq.navigation",o.proxy(function(e){var t=s.location.hash.substring(1),i=this._core.$stage.children(),o=this._hashes[t]&&i.index(this._hashes[t]);void 0!==o&&o!==this._core.current()&&this._core.to(this._core.relative(o),!1,!0)},this))};i.Defaults={URLhashListener:!1},i.prototype.destroy=function(){var e,t;for(e in o(s).off("hashchange.btq.navigation"),this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},o.fn.BTQSlider.Constructor.Plugins.Hash=i}(window.Zepto||window.jQuery,window,document),function(s,e,t,r){var n=s("<support>").get(0).style,a="Webkit Moz O ms".split(" "),i={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},o=function(){return!!d("transform")},l=function(){return!!d("perspective")},c=function(){return!!d("animation")};function d(e,i){var o=!1,t=e.charAt(0).toUpperCase()+e.slice(1);return s.each((e+" "+a.join(t+" ")+t).split(" "),function(e,t){if(n[t]!==r)return o=!i||t,!1}),o}function h(e){return d(e,!0)}(function(){return!!d("transition")})()&&(s.support.transition=new String(h("transition")),s.support.transition.end=i.transition.end[s.support.transition]),c()&&(s.support.animation=new String(h("animation")),s.support.animation.end=i.animation.end[s.support.animation]),o()&&(s.support.transform=new String(h("transform")),s.support.transform3d=l())}(window.Zepto||window.jQuery,window,document);var UA=navigator.userAgent,HTML=document.documentElement,isFirefox="undefined"!=typeof InstallTrigger,isSafari=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString(),isIE9=/MSIE 9/i.test(UA),isIE10=/MSIE 10/i.test(UA),isIE11=/rv:11.0/i.test(UA),isIE=!!document.documentMode,isEdge=!isIE&&!!window.StyleMedia&&!isIE11,isChrome=-1<UA.indexOf("Chrome")||!!window.chrome&&!!window.chrome.webstore,Mobile=window.matchMedia("(max-width: 1024px)"),Touch=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in document.documentElement,iOS=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);iOS&&HTML.classList.add("is-iOS"),1==Touch&&HTML.classList.add("is-touch"),isFirefox?HTML.classList.add("is-Firefox"):isEdge?HTML.classList.add("is-Edge"):isSafari?HTML.classList.add("is-Safari"):isChrome&&HTML.classList.add("is-Chrome");var NotSupport=isIE9||isIE10||isIE11||isIE||isEdge,Loadx=0,timex,show;function RanDom(e,t){return Math.max(Math.random()*(.2+t-e)+e)}function ResizeWindows(){$(window).height(),$(window).width(),$(window).height(),$(window).width();var e=$(window).width(),t=$(window).height(),i=e/2600,o=t/1600,s=e/2200;Mobile.matches?HTML.classList.add("is-mobile"):HTML.classList.remove("is-mobile"),e<=1100?($(".scrollA, .scrollB,.scrollC, .scrollD").length&&$(".scrollA, .scrollB,.scrollC, .scrollD").getNiceScroll().remove(),$(".news-text img").addClass("zoom-pic"),$(".apartment-map").css({height:1600*s}),$(".apartment-bg").scale(s),$(".apartment-bg").css({left:e/2-1320,top:$(".apartment-map").height()/2-800})):1100<e&&($(".news-text img").removeClass("zoom-pic"),$(".apartment-map").height(t),.59<=t/e?$(".apartment-bg").scale(o):$(".apartment-bg").scale(i),$(".apartment-bg").css({left:e/2-1300,top:t/2-800}))}function Done(){ResizeWindows(),SlidePicture(),$(".mask").removeClass("show"),1100<$(window).width()&&BoxSlide(),$(".container").stop().animate({opacity:1},300,"linear",function(){ContentLoad()}),Loadpic()}function Loadpic(){$(".pic-img, .pic-thumb, .pic-progress").each(function(e,t){var i=$(t).find("img").attr("src");if(i){var o=i.replace(/(^url\()|(\)$|[\"\'])/g,"");$(t).css({"background-image":"url("+o+")"})}})}if($(document).ready(function(){ResizeWindows(),$(".mask").addClass("show");var e=document.querySelector(".shape-overlays"),t=new ShapeOverlays(e);$(".open-page").on("click",function(){t.Toggle()}),$(".open-page").trigger("click"),$("#home-page").length&&$(".box-nav li:first").addClass("hidden"),$(".box-nav li").length<=1&&($(".box-nav").css({display:"none"}),$(".box-slider").addClass("single")),1100<$(window).width()&&$(".bg-canvas").length&&$(".bg-canvas").each(function(e,t){var i=$(t).attr("id");LoadCanvas(i)})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(d){var h,u,o,p=[],f=document,m=window,g=f.documentElement;function t(){if(p.length){var e,t,i,o=0,s=d.map(p,function(e){var t=e.data.selector,i=e.$element;return t?i.find(t):i});for(h=h||((i={height:m.innerHeight,width:m.innerWidth}).height||!(e=f.compatMode)&&d.support.boxModel||(i={height:(t="CSS1Compat"===e?g:f.body).clientHeight,width:t.clientWidth}),i),u=u||{top:m.pageYOffset||g.scrollTop||f.body.scrollTop,left:m.pageXOffset||g.scrollLeft||f.body.scrollLeft};o<p.length;o++)if(d.contains(g,s[o][0])){var r=d(s[o]),n=r[0].offsetHeight,a=r[0].offsetWidth,l=r.offset(),c=r.data("InView");if(!u||!h)return;l.top+n>u.top&&l.top<u.top+h.height&&l.left+a>u.left&&l.left<u.left+h.width?c||r.data("InView",!0).trigger("InView",[!0]):c&&r.data("InView",!1).trigger("InView",[!1])}}}d.event.special.InView={add:function(e){p.push({data:e,$element:d(this),element:this}),!o&&p.length&&(o=setInterval(t,250))},remove:function(e){for(var t=0;t<p.length;t++){var i=p[t];if(i.element===this&&i.data.guid===e.guid){p.splice(t,1);break}}p.length||(clearInterval(o),o=null)}},d(m).on("scroll resize scrollstop",function(){h=u=null}),!g.addEventListener&&g.attachEvent&&g.attachEvent("onfocusin",function(){u=null})}),$(".youtube-video").length&&!$("#youtube_js").length){var script=document.createElement("script");script.id="youtube_js",script.setAttribute("rel","preload"),script.setAttribute("as","script"),script.src="https://www.youtube.com/iframe_api",document.body.appendChild(script);var youTubeUrl=$(".youtube-video").attr("data-embed"),youTubeId,regExp=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,match=youTubeUrl.match(regExp);youTubeId=match&&11==match[2].length?match[2]:"no video found";var youTube=$(".youtube-video"),Source="https://img.youtube.com/vi/"+youTubeId+"/sddefault.jpg";if(Mobile.matches)var SRC='<iframe id="VYT" title="video" src="https://www.youtube.com/embed/'+youTubeId+"?autoplay=1&enablejsapi=1&controls=1&loop=0&playsinline=1&color=white&rel=0&cc_load_policy=1&playlist="+youTubeId+'" frameborder="0"  allow="autoplay" allowfullscreen></iframe>';else var SRC='<iframe id="VYT" title="video" src="https://www.youtube.com/embed/'+youTubeId+"?autoplay=1&enablejsapi=1&controls=0&loop=0&playsinline=1&color=white&rel=0&cc_load_policy=1&playlist="+youTubeId+'" frameborder="0"  allow="autoplay" allowfullscreen></iframe>';if($(youTube).append(SRC),$("#youtube_js").length){var player,time_update=0,timer;function onYouTubePlayerAPIReady(){player=new YT.Player("VYT",{events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function onPlayerStateChange(e){switch(e.data){case YT.PlayerState.PLAYING:Mobile.matches||$(".control").removeClass("show"),$(".bg-video").addClass("hide"),$(".play-button").removeClass("show"),$("#playpause").attr("data-state","pause");break;case YT.PlayerState.PAUSED:Mobile.matches||$(".control").addClass("show"),$(".bg-video").removeClass("hide"),$(".play-button").addClass("show"),$("#playpause").attr("data-state","play");break;case YT.PlayerState.ENDED:}var t=e.target;$(t.getIframe()).bind("InView",{Player:t},function(e,t){1==t&&$(".play-button").hasClass("open-video")?e.data.Player.playVideo():e.data.Player.pauseVideo()})}function cleanTime(){return Math.round(player.getCurrentTime())}function onPlayerReady(e){if(e.target.mute(),$("#mutetoggle").attr("data-state","unmute"),updateTimerDisplay(),updateProgressBar(),player.pauseVideo(),$(".play-button").addClass("show"),$("#playpause").attr("data-state","pause"),1<player.getPlayerState()){var t=player.getVideoData().title;$(".youtube-video iframe").attr("title",t)}}function updateTimerDisplay(){$("#current-time").text(formatTime(player.getCurrentTime())),$("#duration").text(formatTime(player.getDuration()))}function formatTime(e){e=Math.round(e);var t=Math.floor(e/60),i=e-60*t;return t+":"+(i=i<10?"0"+i:i)}function updateProgressBar(){$("#progress-bar").val(player.getCurrentTime()/player.getDuration()*100)}$("#progress-bar").on("mouseup touchend",function(e){var t=player.getDuration()*(e.target.value/100);player.seekTo(t),$(".bg-video").hasClass("hide")||$(".bg-video").addClass("hide")}),$("#playpause").bind("click",function(){"play"==$(this).attr("data-state")?(player.playVideo(),$(this).attr("data-state","pause"),$(".bg-video").addClass("hide"),$(".play-button").removeClass("show")):(player.pauseVideo(),$(this).attr("data-state","play"),$(".play-button").addClass("show"),$(".bg-video").removeClass("hide"))}),$("#mutetoggle").bind("click",function(){"unmute"==$(this).attr("data-state")?(player.unMute(),$(this).attr("data-state","mute")):(player.mute(),$(this).attr("data-state","unmute"))}),$("#fullscreen").bind("click",function(){"go-fullscreen"==$(this).attr("data-state")?($(this).attr("data-state","cancel-fullscreen"),$(".video-youtube-full").addClass("full-frame"),$("html, body").addClass("no-scroll fullscreen"),iOS?($('.group-central[data-name="video-home"]').addClass("fullmode"),$(".header, .go-top, .footer").addClass("level-index-out")):screenfull.request($(".video-youtube-full")[0])):($(this).attr("data-state","go-fullscreen"),$(".video-youtube-full").removeClass("full-frame"),$("html, body").removeClass("no-scroll fullscreen"),iOS?($('.group-central[data-name="video-home"]').removeClass("fullmode"),$(".header, .go-top, .footer").removeClass("level-index-out")):screenfull.exit())}),$(".play-button").on("click",function(e){e.preventDefault(),player.playVideo(),$(this).removeClass("show"),$("#playpause").attr("data-state","pause"),$(".bg-video").addClass("hide"),$(".control").addClass("show"),$(".video-youtube-full").addClass("playing"),clearInterval(time_update),time_update=setInterval(function(){updateTimerDisplay(),updateProgressBar()},500),clearInterval(timer),timer=setInterval(function(){Mobile.matches||$(".control").removeClass("show")},5e3)}),$(".pause-button").on("click",function(e){e.preventDefault(),$(".play-button").addClass("show"),$("#playpause").attr("data-state","play"),$(".bg-video, .slogan").removeClass("hide"),clearInterval(timer),Mobile.matches||$(".control").addClass("show"),player.pauseVideo()}),$(".youtube-video").on("click",function(e){e.preventDefault(),$("#playpause").trigger("click")}),$(".youtube-video, .control").on("mouseenter mousemove",function(e){e.preventDefault(),Mobile.matches||$(".control").hasClass("show")||$(".control").addClass("show")})}}$(window).on("beforeunload",function(){$(window).scrollTop(0)}),function(e){var r={on:e.fn.on,bind:e.fn.bind};e.each(r,function(t){e.fn[t]=function(){var i,e=[].slice.call(arguments),o=e.pop(),s=e.pop();return e.push(function(){var e=this,t=arguments;clearTimeout(i),i=setTimeout(function(){s.apply(e,[].slice.call(t))},o)}),r[t].apply(this,isNaN(o)?arguments:e)}})}(jQuery);var News=0,Details=0,doWheel=!0,doTouch=!0,windscroll=$(document).scrollTop(),timer;function NavClick(){TweenLite.set($(".nav li"),{x:"150%",opacity:0}),$(".nav-click").on("click",function(){return $(".show-box-pic").hasClass("showup")&&$(".show-box-pic").removeClass("showup"),$(".nav-click").hasClass("active")?($(".navigation").scrollTop(0),$(".nav-click").removeClass("active"),$(".overlay-menu, .navigation").removeClass("show"),$("html, body").removeClass("no-scroll"),$(".youtube-video iframe").length&&$(".home-video").hasClass("show-text")&&$(".play-button").trigger("click"),TweenLite.set($(".nav li"),{x:"150%",opacity:0}),clearTimeout(timer)):($(".navigation").scrollTop(0),$(".nav-click").addClass("active"),$(".overlay-menu, .navigation").addClass("show"),$("html, body").addClass("no-scroll"),$(".youtube-video iframe").length&&$(".pause-button").trigger("click"),clearTimeout(timer),$(".nav li").each(function(e,t){var i=$(this);timer=setTimeout(function(){TweenLite.to($(i),.6,{x:"0%",opacity:1,delay:.3,ease:Quad.easeOut})},100*(e+1))})),!1}),$(".subscribe").on("click",function(){if(document.getElementById("register").reset(),1100<$(window).width())$('.click[data-page="page-register"]').parent().trigger("click");else{var e=$(".page-register").offset().top-60;$("html, body").stop().animate({scrollTop:e},1500,"easeInOutExpo")}return!1}),$(".overlay-menu, .navigation span").on("click",function(){$(".nav-click").hasClass("active")&&$(".nav-click").trigger("click")})}function BoxSlide(){var i=$(".group-central").length,o=$(".group-central").index(),s=!1;function r(){setTimeout(function(){TweenLite.set($(".group-central").not($(".group-central")[o]),{y:"100%"}),s=!1},1e3)}function n(){s=!0,TweenLite.set($(".group-central"),{zIndex:""}),$(".footer").removeClass("show"),$(".box-nav li").removeClass("current"),$(".go-top, .pointer-map, .map-img, .mouse-wheel").removeClass("show"),$("#home-page").length?$(".wheel").removeClass("show"):$(".wheel").addClass("show"),$(".dot-01,.dot-03,.dot-06,.dot-12").removeClass("sunlight"),$(".dot-02, .dot-04, .dot-07, .dot-10").removeClass("lighting"),$(".dot-05,.dot-08, .dot-09,  .dot-11").removeClass("rotatenew"),0<timer&&(clearTimeout(timer),timer=0),$(".home-intro").length&&$(".slide-wrapper").trigger("stop.btq.autoplay"),$(".youtube-video iframe").length&&$(".pause-button").trigger("click"),$(".scrollA").length&&($(".scrollA").scrollTop(0),$(".scrollA").getNiceScroll().remove()),TweenLite.fromTo($(".group-central")[o],.8,{zIndex:2},{y:"0%",ease:Quad.easeOut,onComplete:function(){if($(".group-central").removeClass("show-text"),$(".group-central").eq(o).addClass("show-text"),$(".box-nav li").eq(o).addClass("current"),$("#home-page").length&&($(".home-banner").hasClass("show-text")?($(".wheel, .box-nav, .header, .footer").removeClass("show"),$(".logo-center").addClass("show"),setTimeout(function(){$(".logo-center").addClass("go-up"),$(".mouse-wheel").addClass("show")},1e3),$(".register-popup").hasClass("show")||formPopUp()):($(".wheel, .header").addClass("show"),$(".mouse-wheel, .logo-center").removeClass("show go-up"),setTimeout(function(){$(".box-nav").addClass("show")},500),$(".register-popup").hasClass("show")&&$(".register-popup .close").trigger("click"))),$(".group-central").hasClass("show-text")&&$(".dot-ani").length&&AddDot(),$(".home-intro").hasClass("show-text")){$(".show-text .slide-mask").trigger("next.btq.slidebox");var e=$(".show-text .slide-mask").attr("data-time");$(".show-text .slide-mask").trigger("play.btq.autoplay",[e])}if($(".home-contact").hasClass("show-text")&&$(".show-text .slide-logo").trigger("play.btq.autoplay",1500),$(".home-facilities").hasClass("show-text")&&setTimeout(function(){$(".show-text .box-facilities").trigger("next.btq.slidebox")},1e3),$(".youtube-video iframe").length&&$(".home-video").hasClass("show-text")&&(clearInterval(timer),timer=setInterval(function(){$(".play-button").trigger("click")},800)),$(".home-location, .location").hasClass("show-text")&&setTimeout(function(){$(".map-img, .pointer-map").addClass("show")},500),$(".group-central:last-child").hasClass("show-text")&&($(".wheel").removeClass("show"),$(".go-top, .footer").addClass("show")),$("#about-page, #facilities-page, #apartment-page, #library-page, #villa-page").length){var t=$(".group-central.show-text").attr("data-name");window.location.hash=t}r()}})}function a(){s=!0,TweenLite.set($(".group-central"),{zIndex:""}),$(".footer").removeClass("show"),$(".box-nav li").removeClass("current"),$(".go-top, .pointer-map, .map-img, .mouse-wheel").removeClass("show"),$("#home-page").length?$(".wheel").removeClass("show"):$(".wheel").addClass("show"),$(".dot-01,.dot-03,.dot-06,.dot-12").removeClass("sunlight"),$(".dot-02, .dot-04, .dot-07, .dot-10").removeClass("lighting"),$(".dot-05,.dot-08, .dot-09,  .dot-11").removeClass("rotatenew"),0<timer&&(clearTimeout(timer),timer=0),$(".home-intro").length&&$(".slide-wrapper").trigger("stop.btq.autoplay"),$(".youtube-video iframe").length&&$(".pause-button").trigger("click"),$(".scrollA").length&&($(".scrollA").scrollTop(0),$(".scrollA").getNiceScroll().remove()),TweenLite.fromTo($(".group-central")[o],.8,{y:"-100%",zIndex:2},{y:"0%",ease:Quad.easeOut,onComplete:function(){if($(".group-central").removeClass("show-text"),$(".group-central").eq(o).addClass("show-text"),$(".box-nav li").eq(o).addClass("current"),$("#home-page").length&&($(".home-banner").hasClass("show-text")?($(".wheel, .box-nav, .header, .footer").removeClass("show"),$(".logo-center").addClass("show"),setTimeout(function(){$(".logo-center").addClass("go-up"),$(".mouse-wheel").addClass("show")},1e3),$(".register-popup").hasClass("show")||formPopUp()):($(".wheel, .header").addClass("show"),$(".mouse-wheel, .logo-center").removeClass("show go-up"),setTimeout(function(){$(".box-nav").addClass("show")},500),$(".register-popup").hasClass("show")&&$(".register-popup .close").trigger("click"))),$(".group-central").hasClass("show-text")&&$(".dot-ani").length&&AddDot(),$(".home-intro").hasClass("show-text")){$(".show-text .slide-mask").trigger("next.btq.slidebox");var e=$(".show-text .slide-mask").attr("data-time");$(".show-text .slide-mask").trigger("play.btq.autoplay",[e]),$(".register-popup").hasClass("show")||formPopUp()}if($(".home-contact").hasClass("show-text")&&$(".show-text .slide-logo").trigger("play.btq.autoplay",1500),$(".home-facilities").hasClass("show-text")&&setTimeout(function(){$(".show-text .box-facilities").trigger("next.btq.slidebox")},1e3),$(".youtube-video iframe").length&&$(".home-video").hasClass("show-text")&&(clearInterval(timer),timer=setInterval(function(){$(".play-button").trigger("click")},800)),$(".home-location, .location").hasClass("show-text")&&setTimeout(function(){$(".map-img, .pointer-map").addClass("show")},500),$(".group-central:last-child").hasClass("show-text")&&($(".wheel").removeClass("show"),$(".go-top, .footer").addClass("show")),$("#about-page, #facilities-page, #apartment-page, #library-page,#villa-page").length){var t=$(".group-central.show-text").attr("data-name");window.location.hash=t}r()}})}TweenLite.set($(".group-central").not($(".group-central")[o]),{y:"100%"}),$(".box-nav li").on("click",function(){var e=$(this).index();return s||(!s&&o<e?(o=e,n()):!s&&e<o&&(o=e,a())),!1}),setTimeout(function(){$(".group-central:first-child").addClass("show-text"),$(".box-nav li:first-child:first-child").addClass("current"),$(".show-text .scrollA").length&&ScrollNiceA(),$(".home-banner").hasClass("show-text")&&($(".header").removeClass("show"),$(".logo-center").addClass("show"),setTimeout(function(){$(".logo-center").addClass("go-up"),$(".mouse-wheel").addClass("show")},1500)),!$(".register-popup").hasClass("show")&&$(".home-banner").hasClass("show-text")&&setTimeout(function(){formPopUp()},3e3),$(".group-central").hasClass("show-text")&&$(".dot-ani").length&&AddDot()},500),$(".wheel, .mouse-wheel").on("click",function(){return $(".box-nav li.current").next().trigger("click"),!1}),$("#news-page,#progress-page").length||1100<$(window).width()&&!$("body").hasClass("fullscreen")&&($(".box-slider:not(.single)").on("mousewheel",function(e){var t;!1===s&&(t=Math.max(-1,Math.min(1,e.wheelDelta||-e.deltaY||-e.detail))),1100<$(window).width()&&!$("body").hasClass("fullscreen")&&(null!=$(".group-central")[o]&&1===parseInt(t)?(i-1<=o?o=0:o++,n()):null!=$(".group-central")[o]&&-1===parseInt(t)&&(o<=0?o=i-1:o--,a()))}),$(".box-slider:not(.single)").on("swipeup",function(e,t){doTouch&&(doTouch=!1,1100<$(window).width()&&!$("body").hasClass("fullscreen")&&($(".box-nav li.current").next().trigger("click"),setTimeout(turnWheelTouch,500)))}).on("swipedown",function(e){doTouch&&(doTouch=!1,1100<$(window).width()&&!$("body").hasClass("fullscreen")&&($(".box-nav li.current").prev().trigger("click"),setTimeout(turnWheelTouch,500)))}))}function AddDot(){$(".dot-01,.dot-03,.dot-06,.dot-12").addClass("sunlight"),$(".dot-02, .dot-04, .dot-07, .dot-10").addClass("lighting"),$(".dot-05,.dot-08, .dot-09,  .dot-11").addClass("rotatenew")}function SlidePicture(){if($(".slide-mask").length){if($(".slide-mask").addClass("show"),1<$(".slide-mask").children().length){var e=$(".slide-mask").attr("data-time");$(".stop-mask").length||$(".slide-mask").parent().prepend('<button class="stop-mask" aria-label="stop"></button><button class="play-mask" aria-label="play"></button>')}else e=!1;$(".slide-mask").BTQSlider({animateOut:"fade-Out",animateIn:"fade-In",mouseDrag:!1,touchDrag:!1,pullDrag:!1,rewind:!0,margin:0,video:!1,autoplay:!0,autoplayTimeout:e,smartSpeed:600,items:1,nav:!0,dots:!0,autoHeight:!1,responsiveRefreshRate:150}).on("initialize.btq.slidebox",function(){$(".slide-mask").find(".slide-item.active").addClass("ani-text"),1100<=$(window).width()&&$(".slide-mask").trigger("stop.btq.autoplay");$(".arrow").length||($(".slide-mask .slide-next").append('<svg viewBox="0 0 60 60"><path class="arrow" fill="currentColor" d="M24.5,42 22.5,40.2 33.6,30 22.5,19.8 24.5,18 37.5,30z"></path></svg>'),$(".slide-mask .slide-prev").append('<svg viewBox="0 0 60 60"><path class="arrow" fill="currentColor" d="M35.5,42 37.5,40.2 26.4,30 37.5,19.8 35.5,18 22.5,30z"></path></svg>'))}()),$(".slide-mask").on("translate.btq.slidebox",function(e){$(".slide-mask").find(".slide-item").removeClass("ani-text")}),$(".slide-mask").on("translated.btq.slidebox",function(e){$(".slide-mask").find(".slide-item.active").addClass("ani-text"),$(".slide-mask").find(".slide-item.active").removeClass("animated animated-in fade-In animated-out fade-Out")}),$(".slide-mask").on("swipeleft",function(e,t){doTouch&&(doTouch=!1,1<$(".slide-mask").find(".slide-item").length&&$(".slide-mask").trigger("next.btq.slidebox"),setTimeout(turnWheelTouch,500))}).on("swiperight",function(e){doTouch&&(doTouch=!1,1<$(".slide-mask").find(".slide-item").length&&$(".slide-mask").trigger("prev.btq.slidebox"),setTimeout(turnWheelTouch,500))}),$(".play-mask").on("click",function(){return $(".slide-mask").trigger("play.btq.autoplay",[e]),!1}),$(".stop-mask").on("click",function(){return $(".slide-mask").trigger("stop.btq.autoplay"),!1})}if($(".box-facilities").length){if(1<$(".box-facilities").find(".item-faci-home").length);else;$(".box-facilities").on("initialized.btq.slidebox",function(){$(".box-facilities").find(".slide-item.active").addClass("current")}).BTQSlider({items:1,margin:10,smartSpeed:800,loop:!0,nav:!0,dots:!1,center:!0,dotNum:!1,responsiveRefreshRate:150,responsive:{0:{nav:!1,dots:!0,smartSpeed:500},1e3:{nav:!1,dots:!0,smartSpeed:500},1100:{nav:!0,dots:!1,smartSpeed:800}}}),$(".box-facilities").on("translate.btq.slidebox",function(e){$(".box-facilities").find(".slide-item").removeClass("current")}),$(".box-facilities").on("translated.btq.slidebox",function(e){$(".box-facilities").find(".slide-item.active").addClass("current")})}$(".slide-logo").length&&$(".slide-logo").BTQSlider({items:5,margin:2,loop:!0,nav:!1,dots:!1,dotNum:!1,autoplay:!0,smartSpeed:800,autoplayTimeout:2e3,autoplayHoverPause:!0,responsiveRefreshRate:150,responsive:{0:{items:2},600:{items:3},1e3:{items:4},1100:{items:5}}})}function AlbumLoad(e,t){$.ajax({url:e,cache:!1,success:function(e){function t(){clearTimeout(timex),$(".pic-name").removeClass("move"),$(".pic-name h3").children().children().removeClass("move"),$(".selected").find(".pic-name").addClass("move"),$(".move h3").children().children().each(function(e){var t=$(this);setTimeout(function(){$(t).addClass("move")},50*(e+1))})}Mobile.matches||$(".slide-slidebox").length&&$(".slide-slidebox").trigger("stop.btq.autoplay"),$(".slide-video-playing").length&&$(".pause-button").trigger("click"),$(".all-album").append(e),1<$(".all-album .album-load").length&&$(".all-album .album-load").last().remove(),$(".pic-name > h3").lettering("words").children("span").lettering().children("span").lettering(),$(".album-center").on("initialized.btq.slidebox",function(){$(".container-zoom").each(function(e,t){new PinchZoom.default(t,{draggableUnzoomed:!1})}),$(".album-center").find(".slide-item.active").addClass("selected"),t()}).BTQSlider({items:1,margin:0,smartSpeed:600,loop:!1,dots:!0,nav:!0,responsiveRefreshRate:150}).on("changed.btq.slidebox",function(e){$(".thumbs").length&&function(e){var t=e.item.Count-1,i=e.item.index;i<0&&(i=t);t<i&&(i=0);$(".thumbs").find(".slide-item").removeClass("current").eq(i).addClass("current");var o=$(".thumbs").find(".slide-item.active").length-1,s=$(".thumbs").find(".slide-item.active").first().index(),r=$(".thumbs").find(".slide-item.active").last().index();r-1<=i&&$(".thumbs").data("btq.slidebox").to(i,300,!0);i<=s&&$(".thumbs").data("btq.slidebox").to(i-o,300,!0)}(e)}).on("translate.btq.slidebox",function(e){$(".album-center").find(".slide-item").removeClass("selected")}).on("translated.btq.slidebox",function(e){$(".album-center").find(".slide-item.active").addClass("selected"),t()}),$(".thumbs").on("initialized.btq.slidebox",function(){var e=$(".thumbs").find(".slide-item").length;600<=$(window).width()?e<=6?$(".thumbs").addClass("center-slidebox"):$(".thumbs").removeClass("center-slidebox"):e<=3?$(".thumbs").addClass("center-slidebox"):$(".thumbs").removeClass("center-slidebox"),$(".thumbs").find(".slide-item").eq(0).addClass("current")}).BTQSlider({margin:5,smartSpeed:300,dots:!1,nav:!1,responsiveRefreshRate:100,responsive:{0:{items:3,slideBy:3},600:{items:6,slideBy:6}}}),$(".thumbs").on("click",".slide-item",function(e){e.preventDefault();var t=$(this).index();$(".album-center").data("btq.slidebox").to(t,600,!0)}),$(".all-album").on("mousewheel",".album-center",function(e){if(0<e.deltaY){if(!doWheel)return;doWheel=!1,$(".album-center").trigger("prev.btq.slidebox"),setTimeout(turnWheelTouch,500)}else{if(!doWheel)return;doWheel=!1,$(".album-center").trigger("next.btq.slidebox"),setTimeout(turnWheelTouch,500)}e.preventDefault()}),$(".album-load").animate({opacity:1},600,"linear",function(){$(".loadx").fadeOut(400,"linear",function(){$(".loadx").remove()})}),$(".close-album").on("click",function(){return $(".all-album").fadeOut(500,"linear",function(){$(".overlay-dark").removeClass("show"),$(".album-load").remove()}),$("html, body").removeClass("no-scroll"),!1})}})}function popupLoad(e,t){$.ajax({url:e,cache:!1,success:function(e){$(".details-content").remove(),$("body").append(e),$("form").length&&FocusText(),$(window).width()<=1100&&($(".details-text img").addClass("zoom-pic"),ZoomPic()),t&&$(".details-content h2").text(t),$(".details-content").stop().animate({opacity:1},500,"linear",function(){$(".details-content").scrollTop(0),$(".details-center, .info-house-mobile").addClass("fadeinup"),$(".loadx").fadeOut(400,"linear",function(){$(".details-center, .info-house-mobile").innerHeight()>$(window).height()&&$(".details-content").addClass("no-after"),$(".details-content").scrollTop(0),$(".loadx").remove()})}),$(".close-popup, .details-content span").on("click",function(){return $(".details-content").animate({opacity:0},500,"linear",function(){$(".details-content").remove(),$(".overlay-dark").removeClass("show"),$("html, body").removeClass("no-scroll")}),!1})}})}function formPopUp(){document.getElementById("register_popup").reset(),$(".register-popup, .close").addClass("show"),$(".register-popup .close").on("click",function(){return $(".register-popup, .close").removeClass("show"),$(".register-popup .title-main, .register-popup .require-col .input-text, .register-popup .input-area, .register-popup .input-but").removeClass("show"),!1})}function ZoomMap(){$(".viewer").addClass("desktop fadein"),$(".map-img, .pointer-map, .map-svg").addClass("show"),ScaleMap(),setTimeout(function(){$(".apartment-pointer").addClass("show")},1e3)}function ScaleMap(){$(".panzoom").css({transform:"matrix(1, 0, 0, 1, 0, 0)"})}function FocusText(){$("input, textarea").focus(function(e){$(this).parent().find(".holder").addClass("hide")}).focusout(function(e){""==$(this).val()&&$(this).parent().find(".holder").removeClass("hide")})}function ScrollNiceA(){$(window).width()<=1100?($(".scrollA").getNiceScroll().remove(),$(".scrollA").css({"overflow-x":"visible","overflow-y":"visible"})):($(".show-text .scrollA").css({"overflow-x":"hidden","overflow-y":"hidden"}),$(".show-text .scrollA").getNiceScroll().show(),$(".show-text .scrollA").niceScroll({touchbehavior:!0,horizrailenabled:!1,cursordragontouch:!0,grabcursorenabled:!1,railalign:"left",cursorfixedheight:150}),$(".show-text .scrollA").animate({scrollTop:"0px"}))}function ScrollNiceB(){$(window).width()<=1100?($(".scrollB").getNiceScroll().remove(),$(".scrollB").css({"overflow-x":"visible","overflow-y":"visible"})):($(".scrollB").css({"overflow-x":"hidden","overflow-y":"hidden"}),$(".scrollB").getNiceScroll().show(),$(".scrollB").niceScroll({touchbehavior:!0,horizrailenabled:!0,cursordragontouch:!0,grabcursorenabled:!1,cursorwidth:"30px",cursorborderradius:"20px"}),0==News&&$(".scrollB").scrollLeft(0))}function ScrollNiceC(){$(window).width()<=1100?($(".scrollC").getNiceScroll().remove(),$(".scrollC").css({"overflow-x":"visible","overflow-y":"visible"})):($(".scrollC").css({"overflow-x":"hidden","overflow-y":"hidden"}),$(".scrollC").getNiceScroll().show(),$(".scrollC").niceScroll({touchbehavior:!0,horizrailenabled:!1,cursordragontouch:!0,grabcursorenabled:!1}),$(".scrollC").animate({scrollTop:"0px"}))}function ScrollNiceD(){$(window).width()<=1100?($(".scrollD").getNiceScroll().remove(),$(".scrollD").css({"overflow-x":"visible","overflow-y":"visible"})):($(".scrollD").css({"overflow-x":"hidden","overflow-y":"hidden"}),$(".scrollD").getNiceScroll().show(),$(".scrollD").niceScroll({touchbehavior:!0,horizrailenabled:!1,cursordragontouch:!0,grabcursorenabled:!1}))}function ScrollNiceHide(){$(".scrollA, .scrollB, .scrollC, .scrollD").getNiceScroll().remove()}function LinkPage(){$(".disable-link").on("click",function(e){return e.preventDefault(),!1})}function ContentLoad(){ResizeWindows(),LinkPage(),FocusText(),NavClick(),Option(),ZoomPic();var e=$(".container").attr("id");$('.nav li a[data-name= "'+e+'"]').parent().addClass("current"),$("html, body").removeClass("no-scroll"),$("#home-page").length||($(".logo").css({cursor:"pointer"}),$(".logo").on("click",function(){$(".link-home").trigger("click")}),$(".header").addClass("show"),setTimeout(function(){$(".box-nav").addClass("show")},800)),$(window).width()<=1100&&($(".header, .footer").addClass("show"),$(".dot-ani").length&&AddDot()),$(".loadlogo").addClass("fadeout"),$(".open-page").trigger("click"),setTimeout(function(){$(".mask").addClass("finish")},1500),setTimeout(function(){$(".title-page").addClass("on-show")},1500),setTimeout(function(){$("#home-page,  #thankyou-page").length||$(".wheel").addClass("show")},1600),$(window).width()<=1100&&$(".news-list").mousewheel(function(e,t){$(this).scrollLeft(this.scrollLeft+40*-t),e.preventDefault()}),$("#home-page").length&&($(".item-album-home, .item-news-home, .item-pdf-home").on("click",function(){$(this).find("a").trigger("click")}),$(".hover-block").on("mouseenter ",function(){$(".block-title").removeClass("current");var e=$(this).attr("data-block");$('.block-title[data-block= "'+e+'"]').addClass("current")}),$(".hover-block").on("mouseleave",function(){$(".block-title").removeClass("current")}),$(".block-title").on("mouseenter",function(){$(".block-title").removeClass("current"),$(this).addClass("current");var e=$(this).attr("data-block");$('.hover-block[data-block= "'+e+'"]').addClass("current")}),$(".block-title").on("mouseleave",function(){$(".block-title,.hover-block").removeClass("current")}),$(".mouse-wheel").on("click",function(){$('.click[data-page="home-intro"]').parent().trigger("click")}),1100<$(window).width()?($(".map-img").addClass("show"),ScaleMap()):($(".map-mobile, .pointer-map,  .map-img").addClass("show"),$(".map-mobile.show .map-img").addClass("pinch-zoom"),$(".pinch-zoom").each(function(e,t){new PinchZoom.default(t,{draggableUnzoomed:!1})})),$(".home-popup").length&&setTimeout(function(){var e=$(".home-popup").attr("data-href");return $("html, body").addClass("no-scroll"),$(".overlay-dark").addClass("show"),popupLoad(e),!1},1e3)),$("#about-page").length,$("#location-page").length,$("#facilities-page").length,$("#apartment-page").length,$("#villa-page").length,$("#library-page").length,$("#news-page").length,$("#progress-page").length,$("#contact-page").length}function ThumbZoom(e,t){$("html, body").addClass("no-scroll"),$(this).parent().addClass("to-scroll"),$(".loadx").length||$("body").append('<div class="loadx" style="display:block"></div>'),$(".all-pics").addClass("show"),$(".all-pics").append('<div class="full"  style="display:block"></div>'),$(".overlay-dark").addClass("show");var i=e;$(".all-pics").find(".full").append('<img src ="'+i+'" alt="pic" >'),$(".all-pics").find(".full").append("<span></span>"),$("body").append('<div class="close-pics" aria-label="close"></div>'),$(".all-pics").append('<div class="close-pics-small" aria-label="close"></div>'),$(".all-pics img").on("load",function(){$(".all-pics").addClass("show"),$(".text-length h3").text(t),Mobile.matches?($(".full").addClass("pinch-zoom"),$(".pinch-zoom").each(function(e,t){new PinchZoom.default(t,{})})):($(".full").addClass("dragscroll"),$(".dragscroll").draptouch()),1<$(".full img").length&&$(".full img").last().remove(),$(".loadx").fadeOut(500,function(){Mobile.matches||detectMargin(),$(".full img, .text-length").addClass("fadein"),$(".loadx").remove()})}),1100<$(window).width()&&$(".full span").on("click",function(){$(".close-pics").trigger("click")}),$(".close-pics, .close-pics-small").on("click",function(){$(".loadx").remove(),$(".full").fadeOut(300,"linear",function(){if($(".overlay-dark").removeClass("show"),$(".all-pics .full, .all-pics .text-length, .all-pics .pinch-zoom-container").remove(),$(".close-pics, .close-pics-small").remove(),$(".all-pics").removeClass("show"),$("html, body").removeClass("no-scroll"),$(".to-scroll").length){var e=$(".to-scroll").offset().top;$(window).width()<1100&&$("html, body").scrollTop(e-60),$(".to-scroll").removeClass("to-scroll")}})})}function ZoomPic(){$("img").on("click",function(){if($(this).hasClass("zoom-pic")&&$(window).width()<=1100){$("html, body").addClass("no-scroll"),$(this).parent().addClass("to-scrollZ"),$(".loadx").length||$("body").append('<div class="loadx" style="display:block"></div>'),$(".all-pics").addClass("show"),$(".all-pics").append('<div class="full"  style="display:block"></div>'),$(".details-content").length?$(".overlay-dark").addClass("level-index-in"):$(".overlay-dark").addClass("show");var e=$(this).attr("src");$(".all-pics").find(".full").append('<img src ="'+e+'" alt="pic" />'),$(".all-pics").find(".full").append("<span></span>"),$("body").append('<div class="close-pics" aria-label="close"></div>'),$(".all-pics").append('<div class="close-pics-small" aria-label="close"></div>'),$(".all-pics img").on("load",function(){$(".all-pics").addClass("show"),Mobile.matches?($(".full").addClass("pinch-zoom"),$(".pinch-zoom").each(function(e,t){new PinchZoom.default(t,{draggableUnzoomed:!1})})):($(".full").addClass("dragscroll"),$(".dragscroll").draptouch()),1<$(".full img").length&&$(".full img").last().remove(),$(".loadx").fadeOut(400,"linear",function(){Mobile.matches||detectMargin(),$(".full img").addClass("fadein"),$(".loadx").remove()})}),1100<$(window).width()&&$(".full span").on("click",function(){$(".close-pics").trigger("click")}),$(".close-pics-small, .close-pics").on("click",function(){$(".loadx").remove(),$(".full").fadeOut(300,"linear",function(){if($(".all-pics .full,  .all-pics .pinch-zoom-container").remove(),$(".close-pics-small, .close-pics").remove(),$(".all-pics").removeClass("show"),$(".details-content").length)$(".overlay-dark").removeClass("level-index-in");else if($("html, body").removeClass("no-scroll"),$(".overlay-dark").removeClass("show"),$(".to-scrollZ").length){var e=$(".to-scrollZ").offset().top;$(".to-scrollZ").removeClass("to-scrollZ"),$(window).width()<1100&&$("html, body").scrollTop(e-60)}})})}return!1})}function Option(){$(".download-pdf:not(.disable-link)").on("click",function(e){e.preventDefault();var t=$(this).attr("href");return window.open(t,"_blank"),!1}),$(".pic-box").on("click",function(e){return e.preventDefault(),$(this).find("a").trigger("click"),!1}),$(".view-album:not(.link-load), .show-album").on("click",function(e){e.preventDefault();var t=$(this).attr("data-href")||$(this).attr("href");return $(".loadx").length||$("body").append('<div class="loadx" style="display:block"></div>'),$("html, body").addClass("no-scroll"),$(".overlay-dark").addClass("show"),$(".all-album").fadeIn(300,"linear",function(){AlbumLoad(t,0)}),!1}),$(".zoom.album").on("click",function(e){e.preventDefault(),$(this).parent().addClass("viewalbum");var t=$(this).attr("data-href")||$(this).attr("href"),i=$(this).parent().parent().parent().index();return $(".loadx").length||$("body").append('<div class="loadx" style="display:block"></div>'),$("html, body").addClass("no-scroll"),$(".overlay-dark").addClass("show"),$(".all-album").fadeIn(300,"linear",function(){AlbumLoad(t,i)}),!1}),$(".view-video, .player").on("click",function(e){e.preventDefault(),$(this).parent().addClass("to-scrollV");var t,i=$(this).attr("data-href")||$(this).attr("href"),o=$(this).attr("data-embed"),s=o.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);if(t=s&&11==s[2].length?s[2]:"no video found",""!==o)var r='<iframe id="VYT" src="https://www.youtube.com/embed/'+t+"?autoplay=1&enablejsapi=1&controls=1&loop=0&playsinline=1&color=white&rel=0&cc_load_policy=1&playlist="+t+'" frameborder="0"  allow="autoplay" allowfullscreen></iframe>';return console.log(r),$(".loadx").length||$("body").append('<div class="loadx" style="display:block"></div>'),$("html, body").addClass("no-scroll"),$(".overlay-dark").addClass("show"),$(".allvideo").fadeIn(300,"linear",function(){VideoLoad(i,r)}),!1}),$(".zoom:not(.album),  .zoom-mobile").on("click",function(){$("html, body").addClass("no-scroll"),$(".loadx").length||$("body").append('<div class="loadx" style="display:block"></div>'),$(".all-pics").addClass("show"),$(".all-pics").append('<div class="full"  style="display:block"></div>'),$(".overlay-dark").addClass("show");var e=$(this).parent().find("img").attr("src")||$(this).parent().find("img").attr("data-src")||$(this).attr("data-src");if($(this).attr("data-src"))var t=$(this).attr("data-src");else t=e;return $(".all-pics").find(".full").append('<img src ="'+t+'" alt="pic" />'),$(".all-pics").find(".full").append("<span></span>"),$("body").append('<div class="close-pics" aria-label="close"></div>'),$(".all-pics").append('<div class="close-pics-small" aria-label="close"></div>'),$(".all-pics img").on("load",function(){$(".all-pics").addClass("show"),Mobile.matches?($(".full img").addClass("pinch-zoom"),$(".pinch-zoom").each(function(e,t){new PinchZoom.default(t,{draggableUnzoomed:!1})})):($(".full").addClass("dragscroll"),$(".dragscroll").draptouch()),1<$(".full img").length&&$(".full img").last().remove(),$(".loadx").fadeOut(400,"linear",function(){Mobile.matches||detectMargin(),$(".full img").addClass("fadein"),$(".loadx").remove()})}),1100<$(window).width()&&$(".full span").on("click",function(){$(".close-pics").trigger("click")}),$(".close-pics, .close-pics-small").on("click",function(){$(".loadx").remove(),$(".full").fadeOut(300,"linear",function(){$(".overlay-dark").removeClass("show"),$(".all-pics .full, .all-pics .text-length, .all-pics .pinch-zoom-container").remove(),$(".close-pics, .close-pics-small").remove(),$(".all-pics").removeClass("show"),$("html, body").removeClass("no-scroll")})}),!1})}function turnWheelTouch(){doTouch=doWheel=!0}function detectBut(){$("#news-page").length&&$(".link-page").hasClass("current")&&$(window).width()<=1100&&$(".news-list").each(function(e,t){var i=$(t),o=$(t).find(".grid").offset().left,s=$(t).find(".link-page.current").offset().left,r=$(".news-list").width()/2-$(".link-page").width()/2;$(i).stop().animate({scrollLeft:s-r-o},"slow")})}function detectMargin(){var e=$(".full img").width(),t=$(".full  img").height(),i=$(window).height(),o=$(window).width();e<o?$(".full img").css({"margin-left":o/2-e/2}):$(".full img").css({"margin-left":0}),t<i?$(".full img").css({"margin-top":i/2-t/2}):$(".full img").css({"margin-top":0})}function LocationHash(){var e=window.location.hash;e=e.slice(1),$(".link-page a[data-name='"+e+"']").trigger("click"),$(".select-box li a[data-month='"+e+"']").trigger("click"),$(".box-nav li a[data-page='"+e+"']").trigger("click")}function hideerror(){$(".formError").remove()}function hidemsg(){$(".contact-success").remove(),$(".register-success").remove()}function checkEmail(e){var t=document.getElementById(e);return!!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(t.value)}function checkNull(e,t,i,o,s){var r=$("#"+e).val().trim();return""!=r&&r!=i||(0<$("#error_"+e).length?$("#error_"+e).html(t):$("#"+e).after('<div class="nameformError parentFormfrm_contact formError"><div id="error_'+e+'" class="formErrorContent">'+t+"</div></div>"),!1)}function checkPhone(e,t,i,o,s){var r=$("#"+e).val().trim();return!(""==r||r==i||r.length<10||11<r.length)||(0<$("#error_"+e).length?$("#error_"+e).html(t):$("#"+e).after('<div class="nameformError parentFormfrm_contact formError"><div id="error_'+e+'" class="formErrorContent">'+t+"</div></div>"),!1)}function checkMail(e,t,i,o,s){return!!checkEmail(e)||(0<$("#error_"+e).length?$("#error_"+e).html(t):$("#"+e).after('<div class="nameformError parentFormfrm_contact formError" ><div id="error_'+e+'" class="formErrorContent">'+t+"</div></div>"),!1)}function checkCaptcha(e,t,i,o,s){return $("#"+e).val().trim()==$("#"+e+"_bk").val().trim()||(0<$("#error_"+e).length?$("#error_"+e).html(t):$("#"+e).after('<div class="nameformError parentFormfrm_contact formError" ><div id="error_'+e+'" class="formErrorContent">'+t+"</div></div>"),!1)}function checkNullTwo(e,t,i,o,s,r,n){var a=$("#"+e).val().trim(),l=$("#"+t).val().trim();return""!=a&&a!=o&&""!=l&&l!=s||(0<$("#error_"+e).length?$("#error_"+e).html(i):$("#"+e).after('<div class="nameformError parentFormfrm_contact formError" ><div id="error_'+e+'" class="formErrorContent">'+i+"</div></div>"),!1)}function checkSelect(e,t,i,o,s){var r=$("#"+e).val();return""!=r&&r!=i&&0!=r||(0<$("#error_"+e).length?$("#error_"+e).html(t):$("#"+e).after('<div class="nameformError parentFormfrm_contact formError"><div id="error_'+e+'" class="formErrorContent">'+t+"</div></div>"),!1)}function checkComment(e,t,i,o,s){var r=$("#"+e).val().trim();return!$("#other-check:checked").length||""!=r&&r!=i||(0<$("#error_"+e).length?$("#error_"+e).html(t):$("#"+e).after('<div class="nameformError parentFormfrm_contact formError"><div id="error_'+e+'" class="formErrorContent">'+t+"</div></div>"),!1)}function checkNhucau(e,t,i,o,s){return!(!$("#other-check:checked").length&&!$("."+e+":checked").length)||(0<$("#error_"+e).length?$("#error_"+e).html(t):$("."+e+":first").after('<div class="nameformError parentFormfrm_contact formError"><div id="error_'+e+'" class="formErrorContent">'+t+"</div></div>"),!1)}function checkCheckbox(e,t,i,o,s){return!!$("."+e+":checked").length||(0<$("#error_"+e).length?$("#error_"+e).html(t):$("."+e+":first").after('<div class="nameformError parentFormfrm_contact formError"><div id="error_'+e+'" class="formErrorContent">'+t+"</div></div>"),!1)}function checkQuocTich(e,t,i,o,s){return!!$("."+e+":checked").length||(0<$("#error_"+e).length?$("#error_"+e).html(t):$("."+e+":first").parent().after('<div class="nameformError parentFormfrm_contact formError"><div id="error_'+e+'" class="formErrorContent">'+t+"</div></div>"),!1)}function checkCMND(e,t,i,o,s){var r=$("#"+e).val().trim();return""!=r&&r!=i&&(9==r.length||12==r.length)||(0<$("#error_"+e).length?$("#error_"+e).html(t):$("#"+e).after('<div class="nameformError parentFormfrm_contact formError"><div id="error_'+e+'" class="formErrorContent">'+t+"</div></div>"),!1)}function checkPassport(e,t,i,o,s){var r=$("#"+e).val().trim();return!(""==r||r==i||12<r.length)||(0<$("#error_"+e).length?$("#error_"+e).html(t):$("#"+e).after('<div class="nameformError parentFormfrm_contact formError"><div id="error_'+e+'" class="formErrorContent">'+t+"</div></div>"),!1)}function parseDate(e){var t=e.split("/");return new Date(t[2],t[1],t[0])}function checkDate(e,t,i,o,s,r){var n=$("#"+e).val().trim(),a=n.split("/"),l=a[0]+"/"+a[1]+"/"+(parseInt(a[2])+2),c=new Date,d=parseDate(l).getTime(),h=parseDate(c.getDate()+"/"+c.getMonth()+"/"+c.getFullYear()).getTime();return""==n||n==i?(0<$("#error_"+e).length?$("#error_"+e).html(t):$("#"+e).after('<div class="nameformError parentFormfrm_contact formError"><div id="error_'+e+'" class="formErrorContent">'+t+"</div></div>"),!1):!(h<d)||(0<$("#error_"+e).length?$("#error_"+e).html(r):$("#"+e).after('<div class="nameformError parentFormfrm_contact formError"><div id="error_'+e+'" class="formErrorContent">'+r+"</div></div>"),!1)}$(document).ready(function(){$("#contact").length&&document.getElementById("contact").reset(),$("#register").length&&document.getElementById("register").reset(),$(document).bind("scroll",function(){var e=$(document).scrollTop();$(window).scrollTop();100<=e?$(".header").addClass("hide"):$(".header").removeClass("hide"),e>$(window).height()/2?$(".go-top").addClass("show"):$(".go-top").removeClass("show"),windscroll=e}),document.addEventListener("keydown",function(e){var t=e.keyCode||e.which;38===t&&$(".box-nav li.current.current").prev().trigger("click"),40===t&&$(".box-nav li.current.current").next().trigger("click"),27===t&&$(".full img").length&&$(".close-pics").trigger("click")}),$(".go-top").on("click",function(){1100<$(window).width()&&$(".box-nav, .sub-menu").length?$(".box-nav li:first-child:first-child").trigger("click"):$("html, body").animate({scrollTop:0},"slow")}),setTimeout(function(){0==Loadx&&(Loadx=1,Done())},1500)}),window.onorientationchange=ResizeWindows,$(window).on("orientationchange",function(){$(window).width()<=1100&&$(".colum-box-news").hasClass("show")&&detectBut()}),$(window).resize(function(){1100<$(window).width()&&$(".news-text img").hasClass("zoom-pic")&&$(".close-pics-small").trigger("click"),ResizeWindows()}),$(window).on("resize",function(){if(ResizeWindows(),detectMargin(),1100<$(window).width()){$(".group-central").hasClass("show-text")||($(".go-top").removeClass("show"),BoxSlide()),$("#home-page").length?$(".home-banner").hasClass("show-text")&&$(".header").removeClass("show"):($(".header").addClass("show"),setTimeout(function(){$(".box-nav").addClass("show")},800)),setTimeout(function(){$(".home-banner").hasClass("show-text")&&$(".header, .footer").removeClass("show")},800),$("#home-page").length&&($(".map-img").hasClass("show")||$(".map-img, .pointer-map").addClass("show"),ScaleMap()),$(".dragscroll").length&&(detectMargin(),$(".dragscroll").draptouch()),$("div").hasClass("dragscroll")&&($("div").removeClass("dragscroll draptouch-active draptouch-moving-left draptouch-moving-down"),$("div").css({overflow:"visible"}))}else{$(".header").hasClass("show")||$(".header, .footer").addClass("show"),$("#home-page").length&&($(".map-mobile, .map-area").hasClass("show")||($(".map-mobile, .pointer-map, .map-svg, .map-img, .map-area").addClass("show"),$(".map-mobile.show .map-img, .map-area").addClass("pinch-zoom"),$(".pinch-zoom").each(function(e,t){new PinchZoom.default(t,{draggableUnzoomed:!1})})),$(".dot-ani").length&&AddDot())}},250),$(window).bind("popstate",function(e){}),function(w){var b={init:function(e){return this.data("jqv")&&null!=this.data("jqv")||(e=b._saveOptions(this,e),w(".formError").live("click",function(){w(this).fadeOut(150,function(){w(this).parent(".formErrorOuter").remove(),w(this).remove()})})),this},attach:function(e){var t,i=this;t=e?b._saveOptions(i,e):i.data("jqv");i.find("[data-validation-engine*=validate]");return t.binded||("bind"==t.bindMethod?(i.find("[class*=validate]").not("[type=checkbox]").not("[type=radio]").not(".datepicker").bind(t.validationEventTrigger,b._onFieldEvent),i.find("[class*=validate][type=checkbox],[class*=validate][type=radio]").bind("click",b._onFieldEvent),i.find("[class*=validate][class*=datepicker]").bind(t.validationEventTrigger,{delay:300},b._onFieldEvent),i.bind("submit",b._onSubmitEvent)):"live"==t.bindMethod&&(i.find("[class*=validate]").not("[type=checkbox]").not(".datepicker").live(t.validationEventTrigger,b._onFieldEvent),i.find("[class*=validate][type=checkbox]").live("click",b._onFieldEvent),i.find("[class*=validate][class*=datepicker]").live(t.validationEventTrigger,{delay:300},b._onFieldEvent),i.live("submit",b._onSubmitEvent)),t.binded=!0,t.autoPositionUpdate&&w(window).bind("resize",{noAnimation:!0,formElem:i},b.updatePromptsPosition)),this},detach:function(){var e=this,t=e.data("jqv");return t.binded&&(e.find("[class*=validate]").not("[type=checkbox]").unbind(t.validationEventTrigger,b._onFieldEvent),e.find("[class*=validate][type=checkbox],[class*=validate][type=radio]").unbind("click",b._onFieldEvent),e.unbind("submit",b.onAjaxFormComplete),e.find("[class*=validate]").not("[type=checkbox]").die(t.validationEventTrigger,b._onFieldEvent),e.find("[class*=validate][type=checkbox]").die("click",b._onFieldEvent),e.die("submit",b.onAjaxFormComplete),e.removeData("jqv"),t.autoPositionUpdate&&w(window).unbind("resize",b.updatePromptsPosition)),this},validate:function(){return b._validateFields(this)},validateField:function(e){var t=w(this).data("jqv"),i=b._validateField(w(e),t);return t.onSuccess&&0==t.InvalidFields.length?t.onSuccess():t.onFailure&&0<t.InvalidFields.length&&t.onFailure(),i},validateform:function(){return b._onSubmitEvent.call(this)},updatePromptsPosition:function(e){if(e&&this==window)var t=e.data.formElem,o=e.data.noAnimation;else t=w(this.closest("form"));var s=t.data("jqv");return t.find("[class*=validate]").not(":hidden").not(":disabled").each(function(){var e=w(this),t=b._getPrompt(e),i=w(t).find(".formErrorContent").html();t&&b._updatePrompt(e,w(t),i,void 0,!1,s,o)}),this},showPrompt:function(e,t,i,o){var s=this.closest("form").data("jqv");return s||(s=b._saveOptions(this,s)),i&&(s.promptPosition=i),s.showArrow=1==o,b._showPrompt(this,e,t,!1,s),this},hidePrompt:function(){var e="."+b._getClassName(w(this).attr("id"))+"formError";return w(e).fadeTo("fast",.3,function(){w(this).parent(".formErrorOuter").remove(),w(this).remove()}),this},hide:function(){var e;return e=w(this).is("form")?"parentForm"+b._getClassName(w(this).attr("id")):b._getClassName(w(this).attr("id"))+"formError",w("."+e).fadeTo("fast",.3,function(){w(this).parent(".formErrorOuter").remove(),w(this).remove()}),this},hideAll:function(){return w(".formError").fadeTo("fast",.3,function(){w(this).parent(".formErrorOuter").remove(),w(this).remove()}),this},_onFieldEvent:function(e){var t=w(this),i=t.closest("form").data("jqv");window.setTimeout(function(){b._validateField(t,i),0==i.InvalidFields.length&&i.onSuccess?i.onSuccess():0<i.InvalidFields.length&&i.onFailure&&i.onFailure()},e.data?e.data.delay:0)},_onSubmitEvent:function(){var e=w(this),t=e.data("jqv"),i=b._validateFields(e,!0);return i&&t.ajaxFormValidation?(b._validateFormWithAjax(e,t),!1):t.onValidationComplete?(t.onValidationComplete(e,i),!1):i},_checkAjaxStatus:function(e){var i=!0;return w.each(e.ajaxValidCache,function(e,t){if(!t)return i=!1}),i},_validateFields:function(e,t){var i=e.data("jqv"),o=!1;e.trigger("jqv.form.validating");var s=null;if(e.find("[class*=validate]").not(":hidden").not(":disabled").each(function(){var e=w(this);if(o|=b._validateField(e,i,t),e.focus(),i.doNotShowAllErrosOnSubmit)return!1;o&&null==s&&(s=e)}),e.trigger("jqv.form.result",[o]),o){if(i.scroll){var r=s.offset().top,n=s.offset().left,a=i.promptPosition;if("string"==typeof a&&-1!=a.indexOf(":")&&(a=a.substring(0,a.indexOf(":"))),"bottomRight"!=a&&"bottomLeft"!=a)r=b._getPrompt(s).offset().top;if(i.isOverflown){var l=w(i.overflownDIV);if(!l.length)return!1;r+=l.scrollTop()+-parseInt(l.offset().top)-5,w(i.overflownDIV+":not(:animated)").animate({scrollTop:r},1100)}else w("html:not(:animated),body:not(:animated)").animate({scrollTop:r,scrollLeft:n},1100,function(){i.focusFirstField&&s.focus()})}else i.focusFirstField&&s.focus();return!1}return!0},_validateFormWithAjax:function(l,c){var e=l.serialize(),t=c.ajaxFormValidationURL?c.ajaxFormValidationURL:l.attr("action");w.ajax({type:"GET",url:t,cache:!1,dataType:"json",data:e,form:l,methods:b,options:c,beforeSend:function(){return c.onBeforeAjaxFormValidation(l,c)},error:function(e,t){b._ajaxError(e,t)},success:function(e){if(!0!==e){for(var t=!1,i=0;i<e.length;i++){var o=e[i],s=o[0],r=w(w("#"+s)[0]);if(1==r.length){var n=o[2];if(1==o[1])if(""!=n&&n){if(c.allrules[n])(a=c.allrules[n].alertTextOk)&&(n=a);b._showPrompt(r,n,"pass",!1,c,!0)}else b._closePrompt(r);else{var a;if(t|=!0,c.allrules[n])(a=c.allrules[n].alertText)&&(n=a);b._showPrompt(r,n,"",!1,c,!0)}}}c.onAjaxFormComplete(!t,l,e,c)}else c.onAjaxFormComplete(!0,l,"",c)}})},_validateField:function(e,t,i){e.attr("id")||w.error("jQueryValidate: an ID attribute is required for this field: "+e.attr("name")+" class:"+e.attr("class"));var o=e.attr("class"),s=/validate\[(.*)\]/.exec(o);if(!s)return!1;var r=s[1].split(/\[|,|\]/),n=!1,a=e.attr("name"),l="",c=!1;t.isError=!1,t.showArrow=!0;for(var d=w(e.closest("form")),h=0;h<r.length;h++){r[h]=r[h].replace(" ","");var u=void 0;switch(r[h]){case"required":c=!0,u=b._required(e,r,h,t);break;case"custom":u=b._customRegex(e,r,h,t);break;case"groupRequired":var p="[class*="+r[h+1]+"]";if((f=d.find(p).eq(0))[0]!=e[0]){b._validateField(f,t,i),t.showArrow=!0;continue}(u=b._groupRequired(e,r,h,t))&&(c=!0),t.showArrow=!1;break;case"ajax":i||(b._ajax(e,r,h,t),n=!0);break;case"minSize":u=b._minSize(e,r,h,t);break;case"maxSize":u=b._maxSize(e,r,h,t);break;case"min":u=b._min(e,r,h,t);break;case"max":u=b._max(e,r,h,t);break;case"past":u=b._past(e,r,h,t);break;case"future":u=b._future(e,r,h,t);break;case"dateRange":p="[class*="+r[h+1]+"]";var f=d.find(p).eq(0),m=d.find(p).eq(1);(f[0].value||m[0].value)&&(u=b._dateRange(f,m,r,h,t)),u&&(c=!0),t.showArrow=!1;break;case"dateTimeRange":p="[class*="+r[h+1]+"]",f=d.find(p).eq(0),m=d.find(p).eq(1);(f[0].value||m[0].value)&&(u=b._dateTimeRange(f,m,r,h,t)),u&&(c=!0),t.showArrow=!1;break;case"maxCheckbox":u=b._maxCheckbox(d,e,r,h,t),e=w(d.find("input[name='"+a+"']"));break;case"minCheckbox":u=b._minCheckbox(d,e,r,h,t),e=w(d.find("input[name='"+a+"']"));break;case"equals":u=b._equals(e,r,h,t);break;case"funcCall":u=b._funcCall(e,r,h,t);break;case"creditCard":u=b._creditCard(e,r,h,t)}void 0!==u&&(l+=u+"<br/>",t.isError=!0)}c||""!=e.val()||(t.isError=!1);var g=e.prop("type");("radio"==g||"checkbox"==g)&&1<d.find("input[name='"+a+"']").size()&&(e=w(d.find("input[name='"+a+"'][type!=hidden]:first")),t.showArrow=!1),"text"==g&&1<d.find("input[name='"+a+"']").size()&&(e=w(d.find("input[name='"+a+"'][type!=hidden]:first")),t.showArrow=!1),t.isError?b._showPrompt(e,l,"",!1,t):n||b._closePrompt(e),n||e.trigger("jqv.field.result",[e,t.isError,l]);var v=w.inArray(e[0],t.InvalidFields);return-1==v?t.isError&&t.InvalidFields.push(e[0]):t.isError||t.InvalidFields.splice(v,1),t.isError},_required:function(e,t,i,o){switch(e.prop("type")){case"text":case"password":case"textarea":case"file":default:if(!e.val())return o.allrules[t[i]].alertText;break;case"radio":case"checkbox":var s=e.closest("form"),r=e.attr("name");if(0==s.find("input[name='"+r+"']:checked").size())return 1==s.find("input[name='"+r+"']").size()?o.allrules[t[i]].alertTextCheckboxe:o.allrules[t[i]].alertTextCheckboxMultiple;break;case"select-one":if(!e.val())return o.allrules[t[i]].alertText;break;case"select-multiple":if(!e.find("option:selected").val())return o.allrules[t[i]].alertText}},_groupRequired:function(e,t,i,o){var s="[class*="+t[i+1]+"]",r=!1;if(e.closest("form").find(s).each(function(){if(!b._required(w(this),t,i,o))return!(r=!0)}),!r)return o.allrules[t[i]].alertText},_customRegex:function(e,t,i,o){var s=t[i+1],r=o.allrules[s];if(r){var n=r.regex;if(n)return new RegExp(n).test(e.val())?void 0:o.allrules[s].alertText;alert("jqv:custom regex not found "+s)}else alert("jqv:custom rule not found "+s)},_funcCall:function(e,t,i,o){var s=t[i+1],r=window[s]||o.customFunctions[s];if("function"==typeof r)return r(e,t,i,o)},_equals:function(e,t,i,o){var s=t[i+1];if(e.val()!=w("#"+s).val())return o.allrules.equals.alertText},_maxSize:function(e,t,i,o){var s=t[i+1];if(s<e.val().length){var r=o.allrules.maxSize;return r.alertText+s+r.alertText2}},_minSize:function(e,t,i,o){var s=t[i+1];if(e.val().length<s){var r=o.allrules.minSize;return r.alertText+s+r.alertText2}},_min:function(e,t,i,o){var s=parseFloat(t[i+1]);if(parseFloat(e.val())<s){var r=o.allrules.min;return r.alertText2?r.alertText+s+r.alertText2:r.alertText+s}},_max:function(e,t,i,o){var s=parseFloat(t[i+1]);if(s<parseFloat(e.val())){var r=o.allrules.max;return r.alertText2?r.alertText+s+r.alertText2:r.alertText+s}},_past:function(e,t,i,o){var s=t[i+1],r="now"==s.toLowerCase()?new Date:b._parseDate(s);if(r<b._parseDate(e.val())){var n=o.allrules.past;return n.alertText2?n.alertText+b._dateToString(r)+n.alertText2:n.alertText+b._dateToString(r)}},_future:function(e,t,i,o){var s=t[i+1],r="now"==s.toLowerCase()?new Date:b._parseDate(s);if(b._parseDate(e.val())<r){var n=o.allrules.future;return n.alertText2?n.alertText+b._dateToString(r)+n.alertText2:n.alertText+b._dateToString(r)}},_isDate:function(e){return!!new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/).test(e)},_isDateTime:function(e){return!!new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/).test(e)},_dateCompare:function(e,t){return new Date(e.toString())<new Date(t.toString())},_dateRange:function(e,t,i,o,s){return!e[0].value&&t[0].value||e[0].value&&!t[0].value?s.allrules[i[o]].alertText+s.allrules[i[o]].alertText2:b._isDate(e[0].value)&&b._isDate(t[0].value)&&b._dateCompare(e[0].value,t[0].value)?void 0:s.allrules[i[o]].alertText+s.allrules[i[o]].alertText2},_dateTimeRange:function(e,t,i,o,s){return!e[0].value&&t[0].value||e[0].value&&!t[0].value?s.allrules[i[o]].alertText+s.allrules[i[o]].alertText2:b._isDateTime(e[0].value)&&b._isDateTime(t[0].value)&&b._dateCompare(e[0].value,t[0].value)?void 0:s.allrules[i[o]].alertText+s.allrules[i[o]].alertText2},_maxCheckbox:function(e,t,i,o,s){var r=i[o+1],n=t.attr("name");if(r<e.find("input[name='"+n+"']:checked").size())return s.showArrow=!1,s.allrules.maxCheckbox.alertText2?s.allrules.maxCheckbox.alertText+" "+r+" "+s.allrules.maxCheckbox.alertText2:s.allrules.maxCheckbox.alertText},_minCheckbox:function(e,t,i,o,s){var r=i[o+1],n=t.attr("name");if(e.find("input[name='"+n+"']:checked").size()<r)return s.showArrow=!1,s.allrules.minCheckbox.alertText+" "+r+" "+s.allrules.minCheckbox.alertText2},_creditCard:function(e,t,i,o){var s=!1,r=e.val().replace(/ +/g,"").replace(/-+/g,""),n=r.length;if(14<=n&&n<=16&&0<parseInt(r)){for(var a,l=0,c=(i=n-1,1),d=new String;a=parseInt(r.charAt(i)),d+=c++%2==0?2*a:a,0<=--i;);for(i=0;i<d.length;i++)l+=parseInt(d.charAt(i));s=l%10==0}if(!s)return o.allrules.creditCard.alertText},_ajax:function(t,e,i,n){var o=e[i+1],a=n.allrules[o],s=a.extraData,r=a.extraDataDynamic;if(s||(s=""),r){var l=[],c=String(r).split(",");for(i=0;i<c.length;i++){var d=c[i];if(w(d).length){var h=t.closest("form").find(d).val(),u=d.replace("#","")+"="+escape(h);l.push(u)}}r=l.join("&")}else r="";n.isError||w.ajax({type:"GET",url:a.url,cache:!1,dataType:"json",data:"fieldId="+t.attr("id")+"&fieldValue="+t.val()+"&extraData="+s+"&"+r,field:t,rule:a,methods:b,options:n,beforeSend:function(){var e=a.alertTextLoad;e&&b._showPrompt(t,e,"load",!0,n)},error:function(e,t){b._ajaxError(e,t)},success:function(e){var t=e[0],i=w(w("#"+t)[0]);if(1==i.length){var o=e[1],s=e[2];if(o){if(void 0!==n.ajaxValidCache[t]&&(n.ajaxValidCache[t]=!0),s){if(n.allrules[s])(r=n.allrules[s].alertTextOk)&&(s=r)}else s=a.alertTextOk;s?b._showPrompt(i,s,"pass",!0,n):b._closePrompt(i)}else{var r;if(n.ajaxValidCache[t]=!1,n.isError=!0,s){if(n.allrules[s])(r=n.allrules[s].alertText)&&(s=r)}else s=a.alertText;b._showPrompt(i,s,"",!0,n)}}i.trigger("jqv.field.result",[i,!n.isError,s])}})},_ajaxError:function(e,t){0==e.status&&null==t?alert("The page is not served from a server! ajax call failed"):"undefined"!=typeof console&&console.log("Ajax error: "+e.status+" "+t)},_dateToString:function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},_parseDate:function(e){var t=e.split("-");return t==e&&(t=e.split("/")),new Date(t[0],t[1]-1,t[2])},_showPrompt:function(e,t,i,o,s,r){var n=b._getPrompt(e);r&&(n=!1),n?b._updatePrompt(e,n,t,i,o,s):b._buildPrompt(e,t,i,o,s)},_buildPrompt:function(e,t,i,o,s){var r=w("<div>");switch(r.addClass(b._getClassName(e.attr("id"))+"formError"),e.is(":input")&&r.addClass("parentForm"+b._getClassName(e.parents("form").attr("id"))),r.addClass("formError"),i){case"pass":r.addClass("greenPopup");break;case"load":r.addClass("blackPopup");break;default:s.InvalidCount++}o&&r.addClass("ajaxed");w("<div>").addClass("formErrorContent").html(t).appendTo(r);if(s.showArrow){w("<div>").addClass("formErrorArrow");var n=e.data("promptPosition")||s.promptPosition;"string"==typeof n&&-1!=n.indexOf(":")&&(n=n.substring(0,n.indexOf(":")))}if(s.relative){var a=w("<span>").css("position","relative").css("vertical-align","top").addClass("formErrorOuter").append(r.css("position","absolute"));e.before(a)}else s.isOverflown?e.before(r):w("body").append(r);var l=b._calculatePosition(e,r,s);return r.css({top:l.callerTopPosition,left:l.callerleftPosition,marginTop:l.marginTopSize,opacity:0}).data("callerField",e),s.autoHidePrompt&&setTimeout(function(){r.animate({opacity:0},function(){r.closest(".formErrorOuter").remove(),r.remove()})},s.autoHideDelay),r.animate({opacity:.87})},_updatePrompt:function(e,t,i,o,s,r,n){if(t){void 0!==o&&("pass"==o?t.addClass("greenPopup"):t.removeClass("greenPopup"),"load"==o?t.addClass("blackPopup"):t.removeClass("blackPopup")),s?t.addClass("ajaxed"):t.removeClass("ajaxed"),t.find(".formErrorContent").html(i);var a=b._calculatePosition(e,t,r);css={top:a.callerTopPosition,left:a.callerleftPosition,marginTop:a.marginTopSize},n?t.css(css):t.animate(css)}},_closePrompt:function(e){var t=b._getPrompt(e);t&&t.fadeTo("fast",0,function(){t.parent(".formErrorOuter").remove(),t.remove()})},closePrompt:function(e){return b._closePrompt(e)},_getPrompt:function(e){var t=b._getClassName(e.attr("id"))+"formError",i=w("."+b._escapeExpression(t))[0];if(i)return w(i)},_escapeExpression:function(e){return e.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(e){var t=w(document),i=w("body"),o=e&&e.hasClass("rtl")||e&&"rtl"===(e.attr("dir")||"").toLowerCase()||t.hasClass("rtl")||"rtl"===(t.attr("dir")||"").toLowerCase()||i.hasClass("rtl")||"rtl"===(i.attr("dir")||"").toLowerCase();return Boolean(o)},_calculatePosition:function(e,t,i){var o,s,r,n=e.width(),a=t.height(),l=i.isOverflown||i.relative;if(l)o=s=0,r=-a;else{var c=e.offset();o=c.top,s=c.left,r=0}var d=e.data("promptPosition")||i.promptPosition,h="",u="",p=0,f=0;if("string"==typeof d&&-1!=d.indexOf(":")&&(h=d.substring(d.indexOf(":")+1),d=d.substring(0,d.indexOf(":")),-1!=h.indexOf(",")&&(u=h.substring(h.indexOf(",")+1),h=h.substring(0,h.indexOf(",")),f=parseInt(u),isNaN(f)&&(f=0)),p=parseInt(h),isNaN(h)&&(h=0)),b.isRTL(e))switch(d){default:case"topLeft":l?s-=t.width()-30:(s-=t.width()-30,o+=-a-2);break;case"topRight":l?s+=n-t.width():(s+=n-t.width(),o+=-a-2);break;case"centerRight":l?(o=e.outerHeight(),s=e.outerWidth(1)+5):s+=e.outerWidth()+5;break;case"centerLeft":s-=t.width()+2;break;case"bottomLeft":s+=30-t.width(),o=o+e.height()+15;break;case"bottomRight":s+=n-t.width(),o+=e.height()+15}else switch(d){default:case"topRight":l?s+=n-30:(s+=n-30,o+=-a-2);break;case"topLeft":o+=-a-10;break;case"centerRight":l?(o=e.outerHeight(),s=e.outerWidth(1)+5):s+=e.outerWidth()+5;break;case"centerLeft":s-=t.width()+2;break;case"bottomLeft":o=o+e.height()+15;break;case"bottomRight":s+=n-30,o+=e.height()+5}return{callerTopPosition:(o+=f)+"px",callerleftPosition:(s+=p)+"px",marginTopSize:r+"px"}},_saveOptions:function(e,t){if(w.validationEngineLanguage)var i=w.validationEngineLanguage.allRules;else w.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page");w.validationEngine.defaults.allrules=i;var o=w.extend(!0,{},w.validationEngine.defaults,t);return(jim=o).isOverflown&&(o.relative=!0),o.relative&&(o.isOverflown=!0),e.data("jqv",o),o},_getClassName:function(e){if(e)return e.replace(/:/g,"_").replace(/\./g,"_")}};w.fn.validationEngine=function(e){var t=w(this);return!!t[0]&&("string"==typeof e&&"_"!=e.charAt(0)&&b[e]?("showPrompt"!=e&&"hidePrompt"!=e&&"hide"!=e&&"hideAll"!=e&&b.init.apply(t),b[e].apply(t,Array.prototype.slice.call(arguments,1))):"object"!=typeof e&&e?void w.error("Method "+e+" does not exist in jQuery.validationEngine"):(b.init.apply(t,arguments),b.attach.apply(t)))},w.validationEngine={defaults:{validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,promptPosition:"topRight",bindMethod:"bind",inlineAjax:!1,ajaxFormValidation:!1,ajaxFormValidationURL:!1,onAjaxFormComplete:w.noop,onBeforeAjaxFormValidation:w.noop,onValidationComplete:!1,relative:!1,isOverflown:!1,overflownDIV:"",doNotShowAllErrosOnSubmit:!1,binded:!1,showArrow:!0,isError:!1,ajaxValidCache:{},autoPositionUpdate:!1,InvalidFields:[],onSuccess:!1,onFailure:!1,autoHidePrompt:!1,autoHideDelay:1e4}},w(function(){w.validationEngine.defaults.promptPosition=b.isRTL()?"topLeft":"topRight"})}(jQuery),eval(function(e,t,i,o,s,r){if(s=function(e){return(e<53?"":s(parseInt(e/53)))+(35<(e%=53)?String.fromCharCode(e+29):e.toString(36))},!"".replace(/^/,String)){for(;i--;)r[s(i)]=o[i]||s(i);o=[function(e){return r[e]}],s=function(){return"\\w+"},i=1}for(;i--;)o[i]&&(e=e.replace(new RegExp("\\b"+s(i)+"\\b","g"),o[i]));return e}('(2($){$.c.f=2(p){p=$.d({g:"!@#$%^&*()+=[]\\\\\\\';,/{}|\\":<>?~`.- ",4:"",9:""},p);7 3.b(2(){5(p.G)p.4+="Q";5(p.w)p.4+="n";s=p.9.z(\'\');x(i=0;i<s.y;i++)5(p.g.h(s[i])!=-1)s[i]="\\\\"+s[i];p.9=s.O(\'|\');6 l=N M(p.9,\'E\');6 a=p.g+p.4;a=a.H(l,\'\');$(3).J(2(e){5(!e.r)k=o.q(e.K);L k=o.q(e.r);5(a.h(k)!=-1)e.j();5(e.u&&k==\'v\')e.j()});$(3).B(\'D\',2(){7 F})})};$.c.I=2(p){6 8="n";8+=8.P();p=$.d({4:8},p);7 3.b(2(){$(3).f(p)})};$.c.t=2(p){6 m="A";p=$.d({4:m},p);7 3.b(2(){$(3).f(p)})}})(C);',0,53,"||function|this|nchars|if|var|return|az|allow|ch|each|fn|extend||alphanumeric|ichars|indexOf||preventDefault||reg|nm|abcdefghijklmnopqrstuvwxyz|String||fromCharCode|charCode||alpha|ctrlKey||allcaps|for|length|split|1234567890|bind|jQuery|contextmenu|gi|false|nocaps|replace|numeric|keypress|which|else|RegExp|new|join|toUpperCase|ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("|"),0,{}));var httpserver=$(".httpserver").text(),deferredPrompt;function validatecontact(){hidemsg();var e=!0,t=checkNull("name",$("#name").attr("data-error"),$("#name").attr("data-default"),"40","-270"),i=checkNull("comments",$("#comments").attr("data-error"),$("#comments").attr("data-default"),"40","-270"),o=checkPhone("phone",$("#phone").attr("data-error"),$("#phone").attr("data-default"),"40","-270"),s=checkMail("email",$("#email").attr("data-error"),$("#email").attr("data-default"),"40","-270");if(!(t&&i&&o&&s)){if($(".contact-form").length){var r=$(".contact-form").offset().top-80;$("html, body").animate({scrollTop:r},1e3,"easeInOutExpo")}e=!1,setTimeout(hideerror,5e3)}return e}function validateregister(){hidemsg();var e=!0,t=checkNull("nameregister",$("#nameregister").attr("data-error"),$("#nameregister").attr("data-default"),"40","-270"),i=checkPhone("phoneregister",$("#phoneregister").attr("data-error"),$("#phoneregister").attr("data-default"),"40","-270"),o=checkMail("emailregister",$("#emailregister").attr("data-error"),$("#emailregister").attr("data-default"),"40","-270");if(!t||!i||!o){if($(".register-form").length){var s=$(".register-form").offset().top-80;$("html, body").animate({scrollTop:s},1e3,"easeInOutExpo")}e=!1,setTimeout(hideerror,5e3)}return e}function validateregisterpopup(){hidemsg();var e=!0,t=checkNull("nameregisterpopup",$("#nameregisterpopup").attr("data-error"),$("#nameregisterpopup").attr("data-default"),"40","-270"),i=checkPhone("phoneregisterpopup",$("#phoneregisterpopup").attr("data-error"),$("#phoneregisterpopup").attr("data-default"),"40","-270"),o=checkMail("emailregisterpopup",$("#emailregisterpopup").attr("data-error"),$("#emailregisterpopup").attr("data-default"),"40","-270");return t&&i&&o||(e=!1,setTimeout(hideerror,5e3)),e}$("#btn-contact-submit").click(function(){if(1!=validatecontact())return $(".formError").click(function(){$(this).remove()}),!1;$("#btn-contact-submit").attr("disabled","disabled"),$("#btn-contact-submit").css("pointer-events","none"),$(".loadx").length||$("body").append('<div class="loadx" style="display:block"></div>');var e=$("#contact").serialize();return $.ajax({type:"POST",url:httpserver+"send-contact.html",data:e,dataType:"json",success:function(e){$(".loadx").remove(),"200"==e.status?(document.getElementById("contact").reset(),window.location=httpserver+"thank-you.html"):$(".overlay-dark").after("<div  class='contact-success color-red'>"+e.message+"</div>"),grecaptcha.reset(),$("#btn-contact-submit").removeAttr("disabled"),$("#btn-contact-submit").css("pointer-events","auto"),setTimeout(hidemsg,5e3)}}),!1}),$("#btn-contact-reset").click(function(){hidemsg(),hideerror()}),$("#phone").numeric(),$("#contact").keydown(function(e){$("textarea").is(":focus")||13==e.keyCode&&$("#btn-contact-submit").trigger("click")}),$("#btn-register-submit").click(function(){if(1!=validateregister())return $(".formError").click(function(){$(this).remove()}),!1;$("#btn-register-submit").attr("disabled","disabled"),$("#btn-register-submit").css("pointer-events","none"),$(".loadx").length||$("body").append('<div class="loadx" style="display:block"></div>');var e=$("#register").serialize();return $.ajax({type:"POST",url:httpserver+"send-register-ajax.html",data:e,dataType:"json",success:function(e){$(".loadx").remove(),"200"==e.status?(document.getElementById("register").reset(),$(".register-form .close").trigger("click"),$(".holder.hide").removeClass("hide"),$(".overlay-dark").after("<div  class='contact-success color-blue'>"+e.message+"</div>")):$(".overlay-dark").after("<div  class='contact-success color-red'>"+e.message+"</div>"),$("#btn-register-submit").removeAttr("disabled"),$("#btn-register-submit").css("pointer-events","auto"),setTimeout(hidemsg,5e3)}}),!1}),$("#btn-register-reset").click(function(){hidemsg(),hideerror()}),$("#phoneregister").numeric(),$("#register").keydown(function(e){$("textarea").is(":focus")||13==e.keyCode&&$("#btn-register-submit").trigger("click")}),$("#btn-registerpopup-submit").click(function(){if(1!=validateregisterpopup())return $(".formError").click(function(){$(this).remove()}),!1;$("#btn-registerpopup-submit").attr("disabled","disabled"),$("#btn-registerpopup-submit").css("pointer-events","none"),$(".loadx").length||$("body").append('<div class="loadx" style="display:block"></div>');var e=$("#register_popup").serialize();return $.ajax({type:"POST",url:httpserver+"send-registerpopup-ajax.html",data:e,dataType:"json",success:function(e){$(".loadx").remove(),"200"==e.status?(document.getElementById("register_popup").reset(),$(".register-popup .close").trigger("click"),$(".holder.hide").removeClass("hide"),$(".overlay-dark").after("<div  class='contact-success color-blue'>"+e.message+"</div>")):$(".overlay-dark").after("<div  class='contact-success color-red'>"+e.message+"</div>"),$("#btn-registerpopup-submit").removeAttr("disabled"),$("#btn-registerpopup-submit").css("pointer-events","auto"),setTimeout(hidemsg,5e3)}}),!1}),$("#btn-registerpopup-reset").click(function(){hidemsg(),hideerror()}),$("#phoneregisterpopup").numeric(),$("#register_popup").keydown(function(e){$("textarea").is(":focus")||13==e.keyCode&&$("#btn-registerpopup-submit").trigger("click")});var addBtn=document.querySelector(".add-button"),closeAdd=document.querySelector(".close-add"),installApp=document.querySelector(".install-app");window.addEventListener("beforeinstallprompt",function(e){e.preventDefault(),deferredPrompt=e,addBtn.classList.add("show"),installApp.addEventListener("click",function(e){deferredPrompt.prompt(),deferredPrompt.userChoice.then(function(e){"accepted"===e.outcome?(console.log("User accepted Manifest"),addBtn.remove()):console.log("User dismissed Manifest"),deferredPrompt=null})}),closeAdd.addEventListener("click",function(e){e.preventDefault(),addBtn.remove()})});